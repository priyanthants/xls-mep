(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{dc1l:function(l,t,n){"use strict";n.r(t);var e=n("8Y7J");class a{}var o=n("9AJC"),i=n("t68o"),r=n("zbXB"),u=n("evPG"),s=n("dllU"),c=n("o+YY"),b=n("pMnS"),p=n("yBPo"),m=n("NcP4"),h=n("xYTU"),d=n("TSSN"),g=n("WWfB"),f=n("SVse"),C=n("rBL6"),T=n("TtxX"),S=n("wL5p"),v=n("6Sed"),y=n("qkyu"),M=n("s7LF"),A=n("6UMx"),R=n("Q+lL"),k=n("Z5h4"),I=n("r0V8"),O=n("5GAg"),P=n("omvX"),E=n("jQHo");class N{constructor(l){this.fb=l,this.data=[],this.placeholder="COMMONCOMPONENTS.CHECKBOXLIST.PLACEHOLDER",this.selectedEntities=new e.m,this.searchTermAvailable="",this.availableSearchInputControl=new M.h,this.masterChecked=!1,this.masterIndeterminate=!1,this.checkboxForm=this.fb.group({availableSearchInput:this.availableSearchInputControl});const t=[];if(!this.checkboxList){for(let l=1;l<=100;l++)t.push({name:"Data "+l,disabled:!1,checked:!1,labelPosition:"after",value:l});this.checkboxList=t}this.availableSearchInputControl.valueChanges.subscribe(l=>this.searchTermAvailable=l)}onClick(){this.toggleMerchantsList=!this.toggleMerchantsList}list_change(){let l=0,t=[];for(const n of Object.values(this.checkboxList))n.checked&&l++;l>0&&l<this.checkboxList.length?this.masterIndeterminate=!0:l===this.checkboxList.length?(this.masterIndeterminate=!1,this.masterChecked=!0):(this.masterIndeterminate=!1,this.masterChecked=!1),this.checkedCount=l,t=[];for(const n of Object.values(this.checkboxList))n.checked&&t.push(n);this.selectedEntities.emit(t)}master_change(){let l=[];for(const t of Object.values(this.checkboxList))t.checked=this.masterChecked;this.masterChecked?this.checkedCount=this.checkboxList.length:(this.checkedCount=0,l=[]),l=[];for(const t of Object.values(this.checkboxList))t.checked&&l.push(t);this.selectedEntities.emit(l)}}var _=e.tb({encapsulation:0,styles:[["[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;height:.5em}[_ngcontent-%COMP%]::-webkit-scrollbar-button{background:#ccc}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#b4b4b4}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c9c9c9}[_nghost-%COMP%]     .mat-list-base .mat-list-item, [_nghost-%COMP%]     .mat-list-base .mat-list-option{display:block;height:30px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}[_nghost-%COMP%]     .btn{cursor:pointer}.h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem;line-height:24px;text-align:right}.mat-checkbox-indeterminate[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked .mat-checkbox-background{background-color:gray!important}  .mat-checkbox:not(.mat-checkbox-disabled) .mat-checkbox-ripple .mat-ripple-element .mat-checkbox-mixedmark{background-color:gray!important}.mat-checkbox-checked.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:gray}  .mat-list-base .mat-list-item{color:var(--mep-color-base-label-4)!important}  .mat-checkbox-label{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1rem!important}.form-control[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + 1.3rem + 2px);padding:.65rem 1rem;font-size:1rem;font-weight:400;line-height:1.5;color:rgba(var(--mep-color-base-shape-1-rgb),.5)!important;background-color:#fff;background-clip:padding-box;border:1px solid!important;border-radius:4px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}"]],data:{}});function D(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,6,"input",[["class","form-control list-box"],["formControlName","availableSearchInput"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,t,n){var a=!0;return"input"===t&&(a=!1!==e.Hb(l,1)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Hb(l,1).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Hb(l,1)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Hb(l,1)._compositionEnd(n.target.value)&&a),a}),null,null)),e.ub(1,16384,null,0,M.e,[e.F,e.k,[2,M.a]],null,null),e.Mb(1024,null,M.p,(function(l){return[l]}),[M.e]),e.ub(3,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"]},null),e.Mb(2048,null,M.q,null,[M.i]),e.ub(5,16384,null,0,M.r,[[4,M.q]],null,null),e.Jb(131072,d.k,[d.l,e.h])],(function(l,t){l(t,3,0,"availableSearchInput")}),(function(l,t){var n=t.component;l(t,0,0,e.Qb(t,0,0,e.Hb(t,6).transform(n.placeholder)),e.Hb(t,5).ngClassUntouched,e.Hb(t,5).ngClassTouched,e.Hb(t,5).ngClassPristine,e.Hb(t,5).ngClassDirty,e.Hb(t,5).ngClassValid,e.Hb(t,5).ngClassInvalid,e.Hb(t,5).ngClassPending)}))}function H(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,D)),e.ub(2,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,2,0,t.component.toggleMerchantsList)}),null)}function w(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,13,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,A.c,A.b)),e.ub(1,1228800,null,3,R.b,[e.k,e.h,[2,R.e],[2,R.a]],null,null),e.Nb(603979776,2,{_lines:1}),e.Nb(603979776,3,{_avatar:0}),e.Nb(603979776,4,{_icon:0}),(l()(),e.vb(5,0,null,2,8,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"indeterminateChange"],[null,"change"]],(function(l,t,n){var e=!0,a=l.component;return"ngModelChange"===t&&(e=!1!==(a.masterChecked=n)&&e),"indeterminateChange"===t&&(e=!1!==(a.masterIndeterminate=n)&&e),"change"===t&&(e=!1!==a.master_change()&&e),e}),k.b,k.a)),e.ub(6,8568832,null,0,I.b,[e.k,e.h,O.h,e.A,[8,null],[2,I.a],[2,P.a]],{indeterminate:[0,"indeterminate"]},{change:"change",indeterminateChange:"indeterminateChange"}),e.Mb(1024,null,M.p,(function(l){return[l]}),[I.b]),e.ub(8,671744,null,0,M.u,[[8,null],[8,null],[8,null],[6,M.p]],{model:[0,"model"]},{update:"ngModelChange"}),e.Mb(2048,null,M.q,null,[M.u]),e.ub(10,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.vb(11,0,null,0,2,"b",[["class","mep-font-medium"]],null,null,null,null,null)),(l()(),e.Pb(12,null,["",""])),e.Jb(131072,d.k,[d.l,e.h])],(function(l,t){var n=t.component;l(t,6,0,n.masterIndeterminate),l(t,8,0,n.masterChecked)}),(function(l,t){l(t,0,0,e.Hb(t,1)._avatar||e.Hb(t,1)._icon,e.Hb(t,1)._avatar||e.Hb(t,1)._icon),l(t,5,1,[e.Hb(t,6).id,null,e.Hb(t,6).indeterminate,e.Hb(t,6).checked,e.Hb(t,6).disabled,"before"==e.Hb(t,6).labelPosition,"NoopAnimations"===e.Hb(t,6)._animationMode,e.Hb(t,10).ngClassUntouched,e.Hb(t,10).ngClassTouched,e.Hb(t,10).ngClassPristine,e.Hb(t,10).ngClassDirty,e.Hb(t,10).ngClassValid,e.Hb(t,10).ngClassInvalid,e.Hb(t,10).ngClassPending]),l(t,12,0,e.Qb(t,12,0,e.Hb(t,13).transform("COMMONCOMPONENTS.CHECKBOXLIST.CHECKUNCHECKALL")))}))}function x(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,A.c,A.b)),e.ub(1,1228800,null,3,R.b,[e.k,e.h,[2,R.e],[2,R.a]],null,null),e.Nb(603979776,5,{_lines:1}),e.Nb(603979776,6,{_avatar:0}),e.Nb(603979776,7,{_icon:0}),(l()(),e.vb(5,0,null,2,6,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],(function(l,t,n){var e=!0,a=l.component;return"ngModelChange"===t&&(e=!1!==(l.context.$implicit.checked=n)&&e),"change"===t&&(e=!1!==a.list_change()&&e),e}),k.b,k.a)),e.ub(6,8568832,null,0,I.b,[e.k,e.h,O.h,e.A,[8,null],[2,I.a],[2,P.a]],{labelPosition:[0,"labelPosition"],value:[1,"value"],disabled:[2,"disabled"]},{change:"change"}),e.Mb(1024,null,M.p,(function(l){return[l]}),[I.b]),e.ub(8,671744,null,0,M.u,[[8,null],[8,null],[8,null],[6,M.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Mb(2048,null,M.q,null,[M.u]),e.ub(10,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.Pb(11,0,["",""]))],(function(l,t){l(t,6,0,t.context.$implicit.labelPosition,null==t.context.$implicit?null:t.context.$implicit.value,t.context.$implicit.disabled),l(t,8,0,t.context.$implicit.disabled,t.context.$implicit.checked)}),(function(l,t){l(t,0,0,e.Hb(t,1)._avatar||e.Hb(t,1)._icon,e.Hb(t,1)._avatar||e.Hb(t,1)._icon),l(t,5,1,[e.Hb(t,6).id,null,e.Hb(t,6).indeterminate,e.Hb(t,6).checked,e.Hb(t,6).disabled,"before"==e.Hb(t,6).labelPosition,"NoopAnimations"===e.Hb(t,6)._animationMode,e.Hb(t,10).ngClassUntouched,e.Hb(t,10).ngClassTouched,e.Hb(t,10).ngClassPristine,e.Hb(t,10).ngClassDirty,e.Hb(t,10).ngClassValid,e.Hb(t,10).ngClassInvalid,e.Hb(t,10).ngClassPending]),l(t,11,0,null==t.context.$implicit?null:t.context.$implicit.name)}))}function L(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,10,"div",[["class","form-control list-box"],["style","height: 300px; overflow: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,9,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,A.d,A.a)),e.ub(2,704512,null,0,R.a,[e.k],null,null),(l()(),e.kb(16777216,null,0,1,null,w)),e.ub(4,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,5,null,x)),e.ub(6,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null),e.Ib(7,2),e.Lb(8,2),e.Ib(9,2),e.Lb(10,2)],(function(l,t){var n=t.component;l(t,4,0,!n.searchTermAvailable);var a=e.Qb(t,6,0,l(t,10,0,e.Hb(t.parent,0),e.Qb(t,6,0,l(t,8,0,e.Hb(t.parent,1),n.checkboxList,l(t,7,0,"name",n.searchTermAvailable))),l(t,9,0,"text","ASC")));l(t,6,0,a)}),null)}function F(l){return e.Rb(0,[e.Jb(0,E.b,[]),e.Jb(0,E.a,[]),e.Nb(402653184,1,{availableSearchInput:0}),(l()(),e.vb(3,0,null,null,2,"div",[["style","float: right !important;"]],null,null,null,null,null)),(l()(),e.vb(4,0,null,null,1,"h3",[["class","h3 btn"]],null,[[null,"click"],[null,"blur"]],(function(l,t,n){var e=!0,a=l.component;return"click"===t&&(e=!1!==a.onClick()&&e),"blur"===t&&(e=!1!==a.onClick()&&e),e}),null,null)),(l()(),e.Pb(5,null,["",""])),(l()(),e.vb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.vb(8,0,null,null,5,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Hb(l,9).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Hb(l,9).onReset()&&a),a}),null,null)),e.ub(9,540672,null,0,M.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Mb(2048,null,M.d,null,[M.k]),e.ub(11,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.kb(16777216,null,null,1,null,H)),e.ub(13,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(14,0,null,null,0,"div",[["class","kt-margin-10"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,L)),e.ub(16,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,9,0,n.checkboxForm),l(t,13,0,n.withFilterInput),l(t,16,0,n.toggleMerchantsList)}),(function(l,t){var n=t.component;l(t,5,0,n.checkedCount?n.checkedCount:"0"),l(t,8,0,e.Hb(t,11).ngClassUntouched,e.Hb(t,11).ngClassTouched,e.Hb(t,11).ngClassPristine,e.Hb(t,11).ngClassDirty,e.Hb(t,11).ngClassValid,e.Hb(t,11).ngClassInvalid,e.Hb(t,11).ngClassPending)}))}var U=n("8rEH"),K=n("zQui"),J=n("pIm3"),V=n("IP0z"),B=n("/HVE"),Q=n("hKgl");class G{constructor(){this.displayKpiBar=!1}ngOnInit(){}}var z=e.tb({encapsulation:0,styles:[[".xls-col-header[_ngcontent-%COMP%]{color:var(--mep-color-base-shape-4);font-family:Roboto;font-size:1.1rem;font-weight:700}.xls-table-title[_ngcontent-%COMP%]{color:var(--mep-color-base-label-4);font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;font-size:1.3rem}.xls-table-desc[_ngcontent-%COMP%]{color:var(--mep-color-base-label-4);font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1rem}.xls-msg[_ngcontent-%COMP%]{color:rgba(var(--mep-color-base-label-3-rgb),.2)!important;font-family:var(--mep-bold-font-family)!important;font-weight:var(--mep-bold-font-weight)!important;font-style:var(--mep-bold-font-style)!important;font-size:2.2rem;line-height:57px;text-align:center}.kpi-key[_ngcontent-%COMP%], .kpi-row[_ngcontent-%COMP%]{height:40px;line-height:20px;padding:10px}.kpi-value[_ngcontent-%COMP%]{flex-grow:1;text-align:right;font-weight:500;font-size:1.1rem}  .mat-footer-row,   .mat-header-row,   .mat-row,   td.mat-cell,   td.mat-footer-cell,   th.mat-header-cell{border-bottom-color:rgba(var(--mep-color-base-shape-1-rgb),.5)}"]],data:{}});function q(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,10,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),e.vb(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(2,0,null,null,2,"div",[["class","col-xl-6 col-md-6 col-sm-6 col-6"],["style","font-size: 1rem !important;"]],null,null,null,null,null)),(l()(),e.Pb(3,null,[" ",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(5,0,null,null,5,"div",[["class","col-xl-6 col-md-6 col-sm-6 col-6"],["style","font-size: 1rem !important;"]],null,null,null,null,null)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(7,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(8,{color:0}),(l()(),e.Pb(9,null,[" "," ",""])),e.Lb(10,2)],(function(l,t){var n=l(t,8,0,null==t.context.$implicit?null:t.context.$implicit.valueTextColor);l(t,7,0,n)}),(function(l,t){var n=t.component;l(t,0,0,e.zb(2,"col-xl-",12/n.kpiRowData.length," col-md-",24/n.kpiRowData.length,"")),l(t,3,0,e.Qb(t,3,0,e.Hb(t,4).transform(null==t.context.$implicit?null:t.context.$implicit.key)));var a=t.context.$implicit.iscurrency?t.context.$implicit.currency:"",o=t.context.$implicit.iscurrency?e.Qb(t,9,1,l(t,10,0,e.Hb(t.parent.parent,0),t.context.$implicit.value,"1.2-2")):t.context.$implicit.value;l(t,9,0,a,o)}))}function W(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"div",[["class","kt-portlet-body"],["style","background-color: rgba(var(--mep-color-base-shape-1-rgb),0.2) !important; min-height: 40px !important;"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"div",[["class","row"],["style","min-height: 40px !important; line-height: 20px !important; padding: 10px!important;"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,q)),e.ub(3,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,t){l(t,3,0,t.component.kpiRowData)}),null)}function $(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"mat-header-cell",[["class","xls-col-header mep-font-medium mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),e.ub(1,16384,null,0,U.e,[K.d,e.k],null,null),(l()(),e.Pb(2,null,[" ","",". "])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform(t.parent.context.$implicit.label)),t.parent.context.$implicit.labelMark)}))}function j(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,7,"mat-cell",[["class","mep-font-light mat-cell"],["role","gridcell"]],null,null,null,null,null)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(2,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(3,{color:0,"font-size":1}),e.ub(4,16384,null,0,U.a,[K.d,e.k],null,null),(l()(),e.Pb(5,null,[" "," "])),e.Lb(6,2),e.Lb(7,3)],(function(l,t){var n=l(t,3,0,t.parent.context.$implicit.fontColor,"1rem");l(t,2,0,n)}),(function(l,t){var n=t.parent.context.$implicit.iscurrency?e.Qb(t,5,0,l(t,7,0,e.Hb(t.parent.parent.parent,1),e.Qb(t,5,0,l(t,6,0,e.Hb(t.parent.parent.parent,0),t.context.$implicit[t.parent.context.$implicit.property],"1.2-2")),","," ")):t.context.$implicit[t.parent.context.$implicit.property];l(t,5,0,n)}))}function X(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,12,null,null,null,null,null,null,null)),e.Mb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[U.c]),e.ub(3,16384,null,3,U.c,[],{name:[0,"name"]},null),e.Nb(603979776,5,{cell:0}),e.Nb(603979776,6,{headerCell:0}),e.Nb(603979776,7,{footerCell:0}),e.Mb(2048,[[1,4]],K.d,null,[U.c]),(l()(),e.kb(0,null,null,2,null,$)),e.ub(9,16384,null,0,U.f,[e.N],null,null),e.Mb(2048,[[6,4]],K.j,null,[U.f]),(l()(),e.kb(0,null,null,2,null,j)),e.ub(12,16384,null,0,U.b,[e.N],null,null),e.Mb(2048,[[5,4]],K.b,null,[U.b])],(function(l,t){l(t,3,0,e.zb(1,"",t.context.$implicit.def,""))}),null)}function Y(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,J.d,J.a)),e.Mb(6144,null,K.k,null,[U.g]),e.ub(2,49152,null,0,U.g,[],null,null)],null,null)}function Z(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,J.e,J.b)),e.Mb(6144,null,K.m,null,[U.i]),e.ub(2,49152,null,0,U.i,[],null,null)],null,null)}function ll(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,15,"div",[["class","mat-table__wrapper"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,14,"mat-table",[["class","mat-table"]],null,null,null,J.f,J.c)),e.Mb(6144,null,K.o,null,[U.k]),e.ub(3,2342912,[["table",4]],4,U.k,[e.s,e.h,e.k,[8,null],[2,V.b],f.e,B.a],{dataSource:[0,"dataSource"]},null),e.Nb(603979776,1,{_contentColumnDefs:1}),e.Nb(603979776,2,{_contentRowDefs:1}),e.Nb(603979776,3,{_contentHeaderRowDefs:1}),e.Nb(603979776,4,{_contentFooterRowDefs:1}),(l()(),e.kb(16777216,null,null,1,null,X)),e.ub(9,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null),(l()(),e.kb(0,null,null,2,null,Y)),e.ub(11,540672,null,0,U.h,[e.N,e.s],{columns:[0,"columns"]},null),e.Mb(2048,[[3,4]],K.l,null,[U.h]),(l()(),e.kb(0,null,null,2,null,Z)),e.ub(14,540672,null,0,U.j,[e.N,e.s],{columns:[0,"columns"]},null),e.Mb(2048,[[2,4]],K.n,null,[U.j])],(function(l,t){var n=t.component;l(t,3,0,null==n.tableData?null:n.tableData.datasource),l(t,9,0,null==n.tableData?null:n.tableData.columDatas),l(t,11,0,null==n.tableData?null:n.tableData.displayedColumns),l(t,14,0,null==n.tableData?null:n.tableData.displayedColumns)}),null)}function tl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"div",[["class","xls-msg"]],null,null,null,null,null)),(l()(),e.Pb(1,null,[" "," "])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){var n=t.component;l(t,1,0,e.Qb(t,1,0,e.Hb(t,2).transform(n.tableData.notFoundMessage)))}))}function nl(l){return e.Rb(0,[e.Jb(0,f.g,[e.u]),e.Jb(0,Q.a,[]),(l()(),e.vb(2,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.vb(3,0,null,null,2,"h4",[["class","kt-portlet__head-title xls-table-title"]],null,null,null,null,null)),(l()(),e.Pb(4,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(6,0,null,null,2,"p",[["class","xls-table-desc"]],null,null,null,null,null)),(l()(),e.Pb(7,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,W)),e.ub(10,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(11,0,null,null,0,"div",[["class","kt-space-40"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,ll)),e.ub(13,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,tl)),e.ub(15,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(16,0,null,null,0,"div",[["class","kt-space-40"]],null,null,null,null,null))],(function(l,t){var n=t.component;l(t,10,0,n.displayKpiBar),l(t,13,0,!(null!=n.tableData&&n.tableData.notFoundMessage)),l(t,15,0,null==n.tableData?null:n.tableData.notFoundMessage)}),(function(l,t){var n=t.component;l(t,4,0,e.Qb(t,4,0,e.Hb(t,5).transform(null==n.tableData?null:n.tableData.title))),l(t,7,0,e.Qb(t,7,0,e.Hb(t,8).transform(null==n.tableData?null:n.tableData.desc)))}))}var el=n("kaNc"),al=n("DFCk"),ol=n("G0yt");const il=new Date;class rl{constructor(l){this.translate=l,this.placeholder="yyyy-mm-dd",this.todaySelected=!1,this.readonly=!1,this.required=!1,this.selectedDate=new e.m,this.months=["CALENDAR.SHORTMONTHS.JAN","CALENDAR.SHORTMONTHS.FEB","CALENDAR.SHORTMONTHS.MAR","CALENDAR.SHORTMONTHS.APR","CALENDAR.SHORTMONTHS.MAY","CALENDAR.SHORTMONTHS.JUN","CALENDAR.SHORTMONTHS.JUL","CALENDAR.SHORTMONTHS.AUG","CALENDAR.SHORTMONTHS.SEP","CALENDAR.SHORTMONTHS.OCT","CALENDAR.SHORTMONTHS.NOV","CALENDAR.SHORTMONTHS.DEC"]}ngOnInit(){this.model={year:il.getFullYear(),month:il.getMonth()+1,day:il.getDate()},this.selectedDate.emit(this.model),this.placeholderString=this.placeholder,this.minDateObject=this.minDate,this.maxDateObject=this.maxDate}ngModelChange(l){l&&(this.isDateSelected=!0,this.selectedDate.emit(l))}ngOnChanges(){this.placeholderString=this.placeholder,this.maxDateObject=this.maxDate,this.minDateObject=this.minDate}}var ul=e.tb({encapsulation:0,styles:[[".h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary);font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem!important;line-height:24px;text-align:right}.ngb-dp-header[_ngcontent-%COMP%], .ngb-dp-months[_ngcontent-%COMP%]{width:inherit!important}"]],data:{}});function sl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,20,"form",[["novalidate",""],["style","float: right !important;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Hb(l,2).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Hb(l,2).onReset()&&a),a}),null,null)),e.ub(1,16384,null,0,M.H,[],null,null),e.ub(2,4210688,null,0,M.t,[[8,null],[8,null]],null,null),e.Mb(2048,null,M.d,null,[M.t]),e.ub(4,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.vb(5,0,null,null,15,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.vb(6,16777216,null,null,8,"input",[["class","mep-custome-datepicker form-control"],["name","dp"],["ngbDatepicker",""],["placement","bottom"]],[[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,t,n){var a=!0,o=l.component;return"input"===t&&(a=!1!==e.Hb(l,8).manualDateChange(n.target.value)&&a),"change"===t&&(a=!1!==e.Hb(l,8).manualDateChange(n.target.value,!0)&&a),"focus"===t&&(a=!1!==e.Hb(l,8).onFocus()&&a),"blur"===t&&(a=!1!==e.Hb(l,8).onBlur()&&a),"input"===t&&(a=!1!==e.Hb(l,9)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Hb(l,9).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Hb(l,9)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Hb(l,9)._compositionEnd(n.target.value)&&a),"ngModelChange"===t&&(a=!1!==(o.model=n)&&a),"ngModelChange"===t&&(a=!1!==o.ngModelChange(n)&&a),a}),null,null)),e.Mb(512,null,ol.sb,ol.sb,[ol.i,ol.s]),e.ub(8,671744,[["d",4]],0,ol.C,[ol.p,e.k,e.Q,e.F,e.j,e.A,ol.sb,ol.i,ol.o,f.e,e.h],{placement:[0,"placement"],positionTarget:[1,"positionTarget"]},null),e.ub(9,16384,null,0,M.e,[e.F,e.k,[2,M.a]],null,null),e.Mb(1024,null,M.o,(function(l){return[l]}),[ol.C]),e.Mb(1024,null,M.p,(function(l,t){return[l,t]}),[ol.C,M.e]),e.ub(12,671744,null,0,M.u,[[2,M.d],[6,M.o],[8,null],[6,M.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Mb(2048,null,M.q,null,[M.u]),e.ub(14,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.vb(15,0,null,null,5,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),e.vb(16,0,null,null,4,"h3",[["class","h3"]],null,[[null,"click"]],(function(l,t,n){var a=!0;return"click"===t&&(a=!1!==e.Hb(l,8).toggle()&&a),a}),null,null)),(l()(),e.vb(17,0,[["label1",1]],null,3,"div",[["class","h3"]],null,null,null,null,null)),e.ub(18,8536064,null,0,d.e,[d.l,e.k,e.h],{translate:[0,"translate"],translateParams:[1,"translateParams"]},null),e.Jb(131072,d.k,[d.l,e.h]),e.Kb(20,{month:0,day:1,year:2})],(function(l,t){var n=t.component;l(t,8,0,"bottom",e.Hb(t,17)),l(t,12,0,"dp",n.model);var a=l(t,20,0,e.Qb(t,18,1,e.Hb(t,19).transform(n.months[n.model.month-1])),n.model.day,n.model.year);l(t,18,0,"STATISTICS.TRANSACTIONSKPI.FILTERDATE",a)}),(function(l,t){l(t,0,0,e.Hb(t,4).ngClassUntouched,e.Hb(t,4).ngClassTouched,e.Hb(t,4).ngClassPristine,e.Hb(t,4).ngClassDirty,e.Hb(t,4).ngClassValid,e.Hb(t,4).ngClassInvalid,e.Hb(t,4).ngClassPending),l(t,6,0,e.Hb(t,8).disabled,e.Hb(t,14).ngClassUntouched,e.Hb(t,14).ngClassTouched,e.Hb(t,14).ngClassPristine,e.Hb(t,14).ngClassDirty,e.Hb(t,14).ngClassValid,e.Hb(t,14).ngClassInvalid,e.Hb(t,14).ngClassPending)}))}class cl{constructor(l){this.tenantConfigService=l}ngOnInit(){this.data?this.rootKpi?(this.localData=this.data,this.localRootKpi=this.rootKpi):this.rootKpi={icon:"flaticon2-rocket",title:"Member Profit",desc:"Awerage Weekly Profit",value:0,valueClass:"mep-brand",isMonetory:!1}:this.data=[{icon:"flaticon2-rocket",title:"Member Profit",desc:"Awerage Weekly Profit",value:0,valueClass:"mep-brand",isMonetory:!0}]}ngOnChanges(){this.localData=this.data,this.localRootKpi=this.rootKpi}}var bl=n("OyqV"),pl=e.tb({encapsulation:0,styles:[[".h-1[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:3rem;line-height:49px}.kt-separator[_ngcontent-%COMP%]{height:0!important;margin:0;border-bottom:1px solid rgba(var(--mep-color-base-shape-1-rgb),.5)}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__info[_ngcontent-%COMP%]   .kt-widget4__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__info[_ngcontent-%COMP%]   .kt-widget4__text[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.6rem;text-align:right;color:var(--mep-color-base-label-2)!important}"]],data:{}});function ml(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.vb(1,16777216,null,null,2,null,null,null,null,null,null,null)),e.ub(2,540672,null,0,f.x,[e.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Kb(3,{item:0,isFirst:1,isLast:2}),(l()(),e.kb(0,null,null,0))],(function(l,t){var n=l(t,3,0,t.context.$implicit,t.context.first,t.context.last);l(t,2,0,n,e.Hb(t.parent,3))}),null)}function hl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,6,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"span",[["class","kt-widget4__title"],["style","font-size: 1.3rem !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(4,0,null,null,2,"p",[["class","kt-widget4__text"]],null,null,null,null,null)),(l()(),e.Pb(5,null,["",""])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){var n=t.component;l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform(n.rootKpi.title))),l(t,5,0,e.Qb(t,5,0,e.Hb(t,6).transform(n.rootKpi.desc)))}))}function dl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,3,"h1",[["class","h-1"]],null,null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(3,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Pb(4,null,[" "," ",""]))],(function(l,t){l(t,3,0,"h-1",t.component.rootKpi.valueClass)}),(function(l,t){var n=t.component;l(t,4,0,n.isMonetory?n.tenantConfigService.getProperty("paymentCurrency"):"",n.rootKpi.value)}))}function gl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"div",[["class","kt-widget4__item"],["style","border-bottom: none !important"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,hl)),e.ub(3,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(4,0,null,null,5,"div",[["class","kt-widget4__item"],["style","border-bottom: 1px solid rgba(var(--mep-color-base-shape-1-rgb),0.5);"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(6,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,dl)),e.ub(9,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.rootKpi),l(t,9,0,n.rootKpi)}),null)}function fl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"span",[["class","kt-widget4__icon"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"i",[],null,null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(3,278528,null,0,f.o,[f.J],{ngClass:[0,"ngClass"]},null)],(function(l,t){l(t,3,0,t.parent.context.item.icon)}),null)}function Cl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"p",[["class","kt-widget4__text"]],null,null,null,null,null)),(l()(),e.Pb(1,null,["",""])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,1,0,e.Qb(t,1,0,e.Hb(t,2).transform(t.parent.parent.context.item.desc)))}))}function Tl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,5,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"span",[["class","kt-widget4__title"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,Cl)),e.ub(5,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,5,0,t.parent.context.item.desc)}),(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform(t.parent.context.item.title)))}))}function Sl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,0,"div",[["class","kt-separator"]],null,null,null,null,null))],null,null)}function vl(l){return e.Rb(0,[(l()(),e.kb(16777216,null,null,1,null,gl)),e.ub(1,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(2,0,null,null,7,"div",[["class","kt-widget4__item"],["style","border-bottom: 1px solid rgba(var(--mep-color-base-shape-1-rgb),0.5);"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,fl)),e.ub(4,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Tl)),e.ub(6,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(7,16777216,null,null,2,null,null,null,null,null,null,null)),e.ub(8,540672,null,0,f.x,[e.Q],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Kb(9,{item:0}),(l()(),e.kb(16777216,null,null,1,null,Sl)),e.ub(11,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(0,null,null,0))],(function(l,t){var n=t.component;l(t,1,0,t.context.isFirst),l(t,4,0,t.context.item.icon),l(t,6,0,t.context.item.desc&&t.context.item.title);var e=l(t,9,0,t.context.item);l(t,8,0,e,n.actionTemplate),l(t,11,0,t.context.isLast)}),null)}function yl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"div",[["class","kt-widget4"]],null,null,null,null,null)),(l()(),e.kb(16777216,null,null,1,null,ml)),e.ub(2,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null),(l()(),e.kb(0,[["itemTemplate",2]],null,0,null,vl))],(function(l,t){l(t,2,0,t.component.data)}),null)}var Ml=n("ldvh"),Al=n("EDgs");class Rl{constructor(l,t,n,e,a,o){this.campaingApiService=l,this.merchantApiService=t,this.dateUtil=n,this.tenantConfigService=e,this.translate=a,this.toastr=o,this.breadcrumbItems=["STATISTICS.TRANSACTIONSKPI.BREADCRUMB.STRING1","STATISTICS.TRANSACTIONSKPI.BREADCRUMB.STRING2"],this.corporateMerchants=[],this.selectedMerchantsList=[],this.corporateMerchantsStatisticsMap=new Map,this.tableDataSource=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}ngOnInit(){this.rootKpi1={icon:"flaticon2-rocket",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.VISITS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.VISITS",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.TOTALNUMBEROFVISITS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.TOTALNUMBEROFVISITS",value:0,valueClass:"mep-success-fixed",isMonetory:!1},this.kpiData1=[{icon:"fa fa-user",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.VISITORS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.VISITORS",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.NUMBEROFUNIQUECUSTOMERS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.NUMBEROFUNIQUECUSTOMERS",value:0,valueClass:"mep-primary-fixed",isMonetory:!1}],this.rootKpi2={icon:"flaticon2-rocket",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.REVENUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.REVENUE",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.TOTALREVENUEFORPERIOD":"STATISTICS.TRANSACTIONSKPI.CORPORATE.TOTALREVENUEFORPERIOD",value:0,isMonetory:!0,valueClass:"mep-primary-fixed"},this.kpiData2=[{icon:"la la-angle-up",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MAXSPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MAXSPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.HIGHBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.HIGHBASKETVALUE",value:0,valueClass:"mep-success-fixed",isMonetory:!0},{icon:"la la-minus",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.AVESPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.AVESPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.AVGBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.AVGBASKETVALUE",value:0,valueClass:"mep-yellow-fixed",isMonetory:!0},{icon:"la la-angle-down",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MINSPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MINSPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MINBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MINBASKETVALUE",value:0,valueClass:"mep-orange-fixed",isMonetory:!0}],this.tenantConfigService.isCorporate()&&this.merchantApiService.getCorporateMerchants(this.tenantConfigService,Al.c.WITH_DEVICE).subscribe(l=>{l.body&&(console.log(l.body),this.parseCorporateMerchantsToListData(l.body.merchants))},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.kpiRowValue={maxspend:0,minspend:0,revenue:0,visits:0},this.tableData=this.prepareMerchantStatisticTableData()}convertWidgetDate(l){this.rootKpi1.value=l?l.numberOfTransactions:0,this.kpiData1[0].value=l?l.numberOfCustomerTransacted:0,this.rootKpi2.value=l?l.totalPurchaseAmount:0,this.kpiData2[0].value=l?Math.round(100*l.maximumPurchaseAmount)/100:0,this.kpiData2[1].value=l?Math.round(100*l.averagePurchaseAmount)/100:0,this.kpiData2[2].value=l?Math.round(100*l.minimumPurchaseAmount)/100:0}eventFilterDateHandler(l){const t=new Date(l.year,l.month-1,l.day);this.selectedDate=new Date(l.year,l.month-1,l.day);const n=this.dateUtil.formatNgDateStruct(this.dateUtil.convertJsDateToNgDateStruct(t),"yyyy-MM-dd");this.merchantApiService.getEntityStatisticsWithFilterDate(n.toString(),n.toString(),"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe(l=>{l.body&&this.convertWidgetDate(l.body.statistics[0])},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_KPI"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.tenantConfigService.isCorporate()&&this.merchantApiService.getEntityStatisticsWithFilterDate(n,n,"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe(l=>{if(l.body){console.log(l.body);const n=this.getDateArray(t,t),e={numberOfCustomerTransacted:0,averagePurchaseAmount:0,maximumPurchaseAmount:0,minimumPurchaseAmount:0,numberOfRefundedTransactions:0,numberOfTransactions:0,totalPurchaseAmount:0,totalRefundedPurchaseAmount:0};for(const l of this.corporateMerchants){const t=new Map;for(const l of n){const n={statistics:e,rollUpSlice:this.dateUtil.formatJsDate(l,"yyyy-MM-dd")};t.set(this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),n)}this.corporateMerchantsStatisticsMap.set(l.value,t)}for(const t of l.body.statistics)for(const l of t.merchantStatistics)this.corporateMerchantsStatisticsMap=this.parseMerchantStatisticsRespectToCorpMerchants(this.corporateMerchantsStatisticsMap,l);console.log(this.corporateMerchantsStatisticsMap),this.convertMerchantStatisticsData(t,this.corporateMerchantsStatisticsMap)}},l=>{console.log("in error"),console.log(l)})}selectedFilterDate(l){const t=new Date(l),n=this.dateUtil.formatNgDateStruct(this.dateUtil.convertJsDateToNgDateStruct(t),"yyyyMMdd");this.merchantApiService.getEntityStatisticsWithFilterDate(n.toString(),n.toString(),"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe(l=>{l.body&&this.convertWidgetDate(l.body.statistics[0])},l=>{console.log("in error"),console.log(l)})}parseCorporateMerchantsToListData(l){this.corporateMerchants=[];for(const t of l)this.corporateMerchants.push({name:t.name,value:t.merchantId,disabled:!1,checked:!1,labelPosition:"after"});this.corporateMerchants.sort((l,t)=>l.name.localeCompare(t.name))}selectedMerchants(l){this.selectedMerchantsList=[],l.length>0&&(this.selectedMerchantsList=l),this.convertMerchantStatisticsData(this.selectedDate,this.corporateMerchantsStatisticsMap)}getDateArray(l,t){const n=new Array,e=new Date(l);for(;e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n}parseMerchantStatisticsRespectToCorpMerchants(l,t){console.log(t);const n=t.statistics,e=l.get(t.merchantId);return e.forEach((l,t)=>{t===n.rollUpSlice&&(l.statistics=n,e.set(t,{rollUpSplice:t,statistics:n}))}),l.set(t.merchantId,e),l}convertMerchantStatisticsData(l,t){this.kpiRowValue={maxspend:0,minspend:Number.MAX_SAFE_INTEGER,revenue:0,visits:0},console.log(t),this.tableDataSource=[],t.forEach((n,e)=>{for(const a of this.selectedMerchantsList)if(e===a.value){const n=t.get(e).get(this.dateUtil.formatJsDate(l,"yyyy-MM-dd"));this.kpiRowValue.maxspend=this.kpiRowValue.maxspend<=n.statistics.maximumPurchaseAmount?n.statistics.maximumPurchaseAmount:this.kpiRowValue.maxspend,this.kpiRowValue.minspend=this.kpiRowValue.minspend>=n.statistics.minimumPurchaseAmount?n.statistics.minimumPurchaseAmount:this.kpiRowValue.minspend,this.kpiRowValue.revenue+=n.statistics.totalPurchaseAmount,this.kpiRowValue.visits+=n.statistics.numberOfTransactions,this.tableDataSource.push({name:a.name,avgspent:n.statistics.averagePurchaseAmount,maxspent:n.statistics.maximumPurchaseAmount,minspent:n.statistics.minimumPurchaseAmount,revenue:n.statistics.totalPurchaseAmount,visitors:n.statistics.numberOfCustomerTransacted,visits:n.statistics.numberOfTransactions})}}),this.tableData=this.prepareMerchantStatisticTableData()}prepareMerchantStatisticTableData(){return this.displayKpiBar=this.selectedMerchantsList.length>0,this.kpiRowData=[{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITS",value:this.kpiRowValue.visits,keyTexyColor:"",valueTextColor:"#34BFA3"},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.REVENUE",value:this.kpiRowValue.revenue,keyTexyColor:"",valueTextColor:"#007BFF",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MINSPENT",value:this.kpiRowValue.minspend,keyTexyColor:"black",valueTextColor:"#71C595",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MAXSPENT",value:this.kpiRowValue.maxspend,keyTexyColor:"black",valueTextColor:"#FFA74A",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")}],{title:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.TITLE",desc:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.DESC",notFoundMessage:this.getMerchantStatisticsNoDataMessage(),datasource:this.tableDataSource,displayedColumns:["name","visits","visitors","revenue","avgspent","minspent","maxspent"],columDatas:[{def:"name",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.NAME",property:"name",fontColor:"",iscurrency:!1},{def:"revenue",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.REVENUE",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"revenue",fontColor:"#007BFF",iscurrency:!0},{def:"maxspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MAXSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"maxspent",fontColor:"#28A75F",iscurrency:!0},{def:"minspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MINSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"minspent",fontColor:"#FF8707",iscurrency:!0},{def:"avgspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.AVGSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"avgspent",fontColor:"#FDC414",iscurrency:!0},{def:"visits",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITS",property:"visits",fontColor:"#34BFA3",iscurrency:!1},{def:"visitors",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITORS",property:"visitors",fontColor:"#D31C6A",iscurrency:!1}]}}getMerchantStatisticsNoDataMessage(){return this.selectedMerchantsList.length<=0?"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.NOMERCHANTSELECTED":void 0}}var kl=n("bVRQ"),Il=n("5kXN"),Ol=n("kivV"),Pl=n("EApP"),El=e.tb({encapsulation:0,styles:[["[_nghost-%COMP%]     ngb-tabset>.nav-tabs{display:none}.kt-portlet--height-fluid[_ngcontent-%COMP%]{height:auto!important}.dropdown-menu[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{left:3opx!important}"]],data:{}});function Nl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(4,0,null,null,21,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(7,{height:0}),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"],["style"," font-size: 1rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(15,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),F,_)),e.ub(25,49152,null,0,N,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Hb(t,10).classList),l(t,15,0,e.Qb(t,15,0,e.Hb(t,16).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function _l(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,4,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Pb(3,null,[""," ",""])),e.Lb(4,2)],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){var n=t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",a=t.context.item.isMonetory?e.Qb(t,3,1,l(t,4,0,e.Hb(t.parent,0),t.context.item.value,"1.2-2")):t.context.item.value;l(t,3,0,n,a)}))}function Dl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,4,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Pb(3,null,[" "," ",""])),e.Lb(4,2)],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){var n=t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",a=t.context.item.isMonetory?e.Qb(t,3,1,l(t,4,0,e.Hb(t.parent,0),t.context.item.value,"1.2-2")):t.context.item.value;l(t,3,0,n,a)}))}function Hl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,6,"div",[["class","col-xl-12"],["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(2,0,null,null,5,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(3,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(4,0,null,0,3,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(5,114688,null,0,y.a,[],null,null),(l()(),e.vb(6,0,null,0,1,"xls-custom-mat-table",[],null,null,null,nl,z)),e.ub(7,114688,null,0,G,[],{tableData:[0,"tableData"],kpiRowData:[1,"kpiRowData"],displayKpiBar:[2,"displayKpiBar"]},null)],(function(l,t){var n=t.component;l(t,3,0,"kt-portlet--height-fluid"),l(t,5,0),l(t,7,0,n.tableData,n.kpiRowData,n.displayKpiBar)}),(function(l,t){l(t,4,0,e.Hb(t,5).classList)}))}function wl(l){return e.Rb(0,[e.Jb(0,f.g,[e.u]),(l()(),e.vb(1,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,el.b,el.a)),e.ub(2,114688,null,0,al.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.vb(3,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(4,0,null,null,27,"div",[["class","col-xl-3"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(6,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(8,0,null,null,21,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(9,0,null,null,20,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(11,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(12,{height:0}),e.ub(13,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(14,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(15,114688,null,0,y.a,[],null,null),(l()(),e.vb(16,0,null,0,13,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(17,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(18,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(19,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"],["style"," font-size: 1rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(20,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(22,0,null,null,7,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(23,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(24,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(25,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(26,0,null,null,3,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(27,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(28,0,null,null,1,"xls-customdatepicker",[],null,[[null,"selectedDate"]],(function(l,t,n){var e=!0;return"selectedDate"===t&&(e=!1!==l.component.eventFilterDateHandler(n)&&e),e}),sl,ul)),e.ub(29,638976,null,0,rl,[d.l],null,{selectedDate:"selectedDate"}),(l()(),e.kb(16777216,null,null,1,null,Nl)),e.ub(31,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(32,0,null,null,27,"diV",[["class","col-xl-9"]],null,null,null,null,null)),(l()(),e.vb(33,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(34,0,null,null,11,"div",[["class","col-xl-5"]],null,null,null,null,null)),(l()(),e.vb(35,0,null,null,10,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(37,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(38,{height:0}),e.ub(39,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(40,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(41,114688,null,0,y.a,[],null,null),(l()(),e.vb(42,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,yl,pl)),e.ub(43,638976,null,1,cl,[bl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Nb(335544320,1,{actionTemplate:0}),(l()(),e.kb(0,[[1,2],["actionTemplate",2]],null,0,null,_l)),(l()(),e.vb(46,0,null,null,11,"div",[["class","col-xl-7"]],null,null,null,null,null)),(l()(),e.vb(47,0,null,null,10,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(49,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(50,{height:0}),e.ub(51,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(52,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(53,114688,null,0,y.a,[],null,null),(l()(),e.vb(54,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,yl,pl)),e.ub(55,638976,null,1,cl,[bl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Nb(335544320,2,{actionTemplate:0}),(l()(),e.kb(0,[[2,2],["actionTemplate",2]],null,0,null,Dl)),(l()(),e.kb(16777216,null,null,1,null,Hl)),e.ub(59,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,2,0,n.breadcrumbItems,n.breadCrumbTextColor);var e=l(t,12,0,"auto");l(t,11,0,e),l(t,13,0,"kt-portlet--height-fluid"),l(t,15,0),l(t,29,0),l(t,31,0,n.tenantConfigService.isCorporate());var a=l(t,38,0,"auto");l(t,37,0,a),l(t,39,0,"kt-portlet--height-fluid"),l(t,41,0),l(t,43,0,!1,n.rootKpi1,n.kpiData1);var o=l(t,50,0,"auto");l(t,49,0,o),l(t,51,0,"kt-portlet--height-fluid"),l(t,53,0),l(t,55,0,!0,n.rootKpi2,n.kpiData2),l(t,59,0,n.tenantConfigService.isCorporate())}),(function(l,t){l(t,6,0,e.Qb(t,6,0,e.Hb(t,7).transform("STATISTICS.TRANSACTIONSKPI.DATE"))),l(t,14,0,e.Hb(t,15).classList),l(t,20,0,e.Qb(t,20,0,e.Hb(t,21).transform("STATISTICS.TRANSACTIONSKPI.SELECTDATE"))),l(t,40,0,e.Hb(t,41).classList),l(t,52,0,e.Hb(t,53).classList)}))}function xl(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"xls-transactions-kpis",[],null,null,null,wl,El)),e.ub(1,114688,null,0,Rl,[kl.a,Il.a,Ol.a,bl.a,d.l,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Ll=e.rb("xls-transactions-kpis",Rl,xl,{},{},[]),Fl=n("MlvX"),Ul=n("Xd0L"),Kl=n("dJrM"),Jl=n("HsOI"),Vl=n("Mr+X"),Bl=n("Gi4r"),Ql=n("/Co4"),Gl=n("QQfA"),zl=n("hOhj"),ql=n("ZwOa"),Wl=n("oapL"),$l=n("cUpR"),jl=n("zMNK"),Xl=e.tb({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function Yl(l){return e.Rb(0,[(l()(),e.vb(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Gb(null,0)],(function(l,t){l(t,2,0,"mat-autocomplete-panel",t.component._classList)}),(function(l,t){l(t,0,0,t.component.id)}))}function Zl(l){return e.Rb(2,[e.Nb(402653184,1,{template:0}),e.Nb(671088640,2,{panel:0}),(l()(),e.kb(0,[[1,2]],null,0,null,Yl))],null,null)}var lt=n("JX91"),tt=n("lJxs");class nt{constructor(l){this.fb=l,this.selectedEntity=new e.m,this.styleAfterClicked={display:"none"},this.campaignGroup=new M.h,this.stateGroups=[{status:"Active",names:[{name:"Camapign 1",id:"1"},{name:"Camapign 2",id:"1"},{name:"Camapign 3",id:"1"}]},{status:"Expired",names:[{name:"Camapign 4",id:"1"},{name:"Camapign 5",id:"1"},{name:"Camapign 6",id:"1"}]},{status:"Deleted",names:[{name:"Camapign 7",id:"1"},{name:"Camapign 8",id:"1"},{name:"Camapign 9",id:"1"}]}],this.stateForm=this.fb.group({stateGroup:"",clicked:!1}),this.selectedItemString="None"}ngOnInit(){this.entityGroup||(this.entityGroup=[{status:"Active",names:[{name:"Camapign 1",id:"1"},{name:"Camapign 2",id:"1"},{name:"Camapign 3",id:"1"}]},{status:"Expired",names:[{name:"Camapign 4",id:"1"},{name:"Camapign 5",id:"1"},{name:"Camapign 6",id:"1"}]},{status:"Deleted",names:[{name:"Camapign 7",id:"1"},{name:"Camapign 8",id:"1"},{name:"Camapign 9",id:"1"}]}],this.styleAfterClicked={display:"none"}),this.stateGroupOptions=this.stateForm.get("stateGroup").valueChanges.pipe(Object(lt.a)(""),Object(tt.a)(l=>this.filterGroup(l)))}filterGroup(l){return l?this.entityGroup.map(t=>({status:t.status,names:this._filter(t.names,l)})).filter(l=>l.names.length>0):this.entityGroup}_filter(l,t){const n=t;return"string"==typeof n?l.filter(l=>l.name.toLowerCase().startsWith(n.toLowerCase())):l}selectedItem(l){this.selectedItemString=l.option.value.name,this.selectedEntity.emit(l.option.value),this.stateForm.controls.clicked.setValue(!1),this.stateForm.controls.stateGroup.setValue(""),this.styleAfterClicked={display:"none"}}onCampaignLabelClick(){console.log("button clicked: "+this.stateForm.controls.clicked.value),console.log(this.autocomplete),this.stateForm.controls.clicked.value?(this.styleAfterClicked={display:"block"},setTimeout(()=>{this.autocomplete.nativeElement.focus()},1)):this.styleAfterClicked={display:"none"}}onBlur(){this.styleAfterClicked={display:"none"}}}var et=e.tb({encapsulation:0,styles:[[".h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem;line-height:24px;text-align:right;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .mat-autocomplete-panel mat-option{height:35px}  .mat-form-field-appearance-outline:active .mat-form-field-outline{border:.5px!important}  .mat-autocomplete-panel.extended{max-height:300px;max-width:550px}  .mat-autocomplete-panel.extended::-webkit-scrollbar{width:.5em;height:.5em}  .mat-autocomplete-panel.extended::-webkit-scrollbar-button{background:#ccc}  .mat-autocomplete-panel.extended::-webkit-scrollbar-track-piece{background:#b4b4b4}  .mat-autocomplete-panel.extended::-webkit-scrollbar-thumb{background:#c9c9c9}  .mat-option-text{font-size:14px}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#d3d3d3!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#d3d3d3!important}  .mat-input-element{caret-color:#d3d3d3!important}.mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%],   .mat-form-field-invalid .mat-input-element{caret-color:#d3d3d3!important}  .mat-form-field-label{color:rgba(0,0,0,.6)!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#d3d3d3!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#d3d3d3!important}.icon-flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thik{color:#00f!important}"]],data:{}});function at(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"span",[["class","btn btn-label-success btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Pb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function ot(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"span",[["class","btn btn-label-warning btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Pb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function it(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"span",[["class","btn btn-label-danger btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Pb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function rt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,t,n){var a=!0;return"click"===t&&(a=!1!==e.Hb(l,1)._selectViaInteraction()&&a),"keydown"===t&&(a=!1!==e.Hb(l,1)._handleKeydown(n)&&a),a}),Fl.e,Fl.b)),e.ub(1,8568832,[[12,4]],0,Ul.r,[e.k,e.h,[2,Ul.l],[2,Ul.q]],{value:[0,"value"]},null),(l()(),e.Pb(2,0,[" "," "]))],(function(l,t){l(t,1,0,t.context.$implicit)}),(function(l,t){l(t,0,0,e.Hb(t,1)._getTabIndex(),e.Hb(t,1).selected,e.Hb(t,1).multiple,e.Hb(t,1).active,e.Hb(t,1).id,e.Hb(t,1)._getAriaSelected(),e.Hb(t,1).disabled.toString(),e.Hb(t,1).disabled),l(t,2,0,t.context.$implicit.name)}))}function ut(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,9,"mat-optgroup",[["class","mat-optgroup"],["role","group"]],[[2,"mat-optgroup-disabled",null],[1,"aria-disabled",0],[1,"aria-labelledby",0]],null,null,Fl.d,Fl.a)),e.ub(1,49152,[[13,4]],0,Ul.q,[],null,null),(l()(),e.kb(16777216,null,0,1,null,at)),e.ub(3,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,ot)),e.ub(5,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,0,1,null,it)),e.ub(7,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,1,1,null,rt)),e.ub(9,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null)],(function(l,t){l(t,3,0,"Assigned"===t.context.$implicit.status),l(t,5,0,"Expired"===t.context.$implicit.status),l(t,7,0,"Deleted"===t.context.$implicit.status),l(t,9,0,t.context.$implicit.names)}),(function(l,t){l(t,0,0,e.Hb(t,1).disabled,e.Hb(t,1).disabled.toString(),e.Hb(t,1)._labelId)}))}function st(l){return e.Rb(0,[e.Nb(402653184,1,{autocompleteInput:0}),e.Nb(402653184,2,{autocomplete:0}),(l()(),e.vb(2,0,null,null,51,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Hb(l,4).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Hb(l,4).onReset()&&a),a}),null,null)),e.ub(3,16384,null,0,M.H,[],null,null),e.ub(4,540672,null,0,M.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Mb(2048,null,M.d,null,[M.k]),e.ub(6,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.vb(7,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e.vb(8,0,null,null,10,"div",[["class","btn-group-toggle"]],null,null,null,null,null)),(l()(),e.vb(9,0,null,null,9,"label",[["class","h3"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),e.ub(10,16384,null,0,ol.g,[],null,null),(l()(),e.Pb(11,null,[" "," "])),(l()(),e.vb(12,0,null,null,6,"input",[["formControlName","clicked"],["ngbButton",""],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"change"],[null,"focus"],[null,"blur"]],(function(l,t,n){var a=!0,o=l.component;return"change"===t&&(a=!1!==e.Hb(l,13).onInputChange(n)&&a),"focus"===t&&(a=0!=(e.Hb(l,13).focused=!0)&&a),"blur"===t&&(a=0!=(e.Hb(l,13).focused=!1)&&a),"change"===t&&(a=!1!==e.Hb(l,14).onChange(n.target.checked)&&a),"blur"===t&&(a=!1!==e.Hb(l,14).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(o.labelClicked=n)&&a),"click"===t&&(a=!1!==o.onCampaignLabelClick()&&a),"change"===t&&(a=!1!==o.onCampaignLabelClick()&&a),a}),null,null)),e.ub(13,16384,null,0,ol.m,[ol.g,e.h],null,null),e.ub(14,16384,null,0,M.b,[e.F,e.k],null,null),e.Mb(1024,null,M.p,(function(l,t){return[l,t]}),[ol.m,M.b]),e.ub(16,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Mb(2048,null,M.q,null,[M.i]),e.ub(18,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.vb(19,0,null,null,34,"div",[["class","custom-mat-scroll"]],null,null,null,null,null)),(l()(),e.vb(20,0,null,null,33,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Kl.b,Kl.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(22,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.ub(23,7520256,null,9,Jl.c,[e.k,e.h,[2,Ul.j],[2,V.b],[2,Jl.a],B.a,e.A,[2,P.a]],{appearance:[0,"appearance"]},null),e.Nb(603979776,3,{_controlNonStatic:0}),e.Nb(335544320,4,{_controlStatic:0}),e.Nb(603979776,5,{_labelChildNonStatic:0}),e.Nb(335544320,6,{_labelChildStatic:0}),e.Nb(603979776,7,{_placeholderChild:0}),e.Nb(603979776,8,{_errorChildren:1}),e.Nb(603979776,9,{_hintChildren:1}),e.Nb(603979776,10,{_prefixChildren:1}),e.Nb(603979776,11,{_suffixChildren:1}),(l()(),e.vb(33,0,null,0,3,"mat-icon",[["class","icon-flipped mat-icon notranslate"],["matPrefix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Vl.b,Vl.a)),e.ub(34,16384,[[10,4]],0,Jl.g,[],null,null),e.ub(35,9158656,null,0,Bl.b,[e.k,Bl.d,[8,null],[2,Bl.a],[2,e.l]],null,null),(l()(),e.Pb(-1,0,["search"])),(l()(),e.vb(37,16777216,[[2,0],["autocomplete",1]],1,8,"input",[["class","mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["formControlName","stateGroup"],["matInput",""],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(l,t,n){var a=!0,o=l.component;return"input"===t&&(a=!1!==e.Hb(l,38)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Hb(l,38).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Hb(l,38)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Hb(l,38)._compositionEnd(n.target.value)&&a),"focusin"===t&&(a=!1!==e.Hb(l,39)._handleFocus()&&a),"blur"===t&&(a=!1!==e.Hb(l,39)._onTouched()&&a),"input"===t&&(a=!1!==e.Hb(l,39)._handleInput(n)&&a),"keydown"===t&&(a=!1!==e.Hb(l,39)._handleKeydown(n)&&a),"blur"===t&&(a=!1!==e.Hb(l,44)._focusChanged(!1)&&a),"focus"===t&&(a=!1!==e.Hb(l,44)._focusChanged(!0)&&a),"input"===t&&(a=!1!==e.Hb(l,44)._onInput()&&a),"blur"===t&&(a=!1!==o.onBlur()&&a),a}),null,null)),e.ub(38,16384,null,0,M.e,[e.F,e.k,[2,M.a]],null,null),e.ub(39,4866048,null,0,Ql.f,[e.k,Gl.c,e.Q,e.A,e.h,Ql.b,[2,V.b],[2,Jl.c],[2,f.e],zl.d],{autocomplete:[0,"autocomplete"]},null),e.Mb(1024,null,M.p,(function(l,t){return[l,t]}),[M.e,Ql.f]),e.ub(41,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"]},null),e.Mb(2048,null,M.q,null,[M.i]),e.ub(43,16384,null,0,M.r,[[4,M.q]],null,null),e.ub(44,999424,null,0,ql.a,[e.k,B.a,[6,M.q],[2,M.t],[2,M.k],Ul.d,[8,null],Wl.a,e.A],{type:[0,"type"]},null),e.Mb(2048,[[3,4],[4,4]],Jl.d,null,[ql.a]),(l()(),e.vb(46,0,null,1,7,"mat-autocomplete",[["class","extended mat-autocomplete"]],null,[[null,"optionSelected"]],(function(l,t,n){var e=!0;return"optionSelected"===t&&(e=!1!==l.component.selectedItem(n)&&e),e}),Zl,Xl)),e.Mb(6144,null,Ul.l,null,[Ql.d]),e.ub(48,1097728,[["autoGroup",4]],2,Ql.d,[e.h,e.k,Ql.a],{classList:[0,"classList"]},{optionSelected:"optionSelected"}),e.Nb(603979776,12,{options:1}),e.Nb(603979776,13,{optionGroups:1}),(l()(),e.kb(16777216,null,0,2,null,ut)),e.ub(52,278528,null,0,f.p,[e.Q,e.N,e.s],{ngForOf:[0,"ngForOf"]},null),e.Jb(131072,f.b,[e.h])],(function(l,t){var n=t.component;l(t,4,0,n.stateForm),l(t,16,0,"clicked",n.labelClicked),l(t,22,0,n.styleAfterClicked),l(t,23,0,"outline"),l(t,35,0),l(t,39,0,e.Hb(t,48)),l(t,41,0,"stateGroup"),l(t,44,0,"text"),l(t,48,0,"extended"),l(t,52,0,e.Qb(t,52,0,e.Hb(t,53).transform(n.stateGroupOptions)))}),(function(l,t){var n=t.component;l(t,2,0,e.Hb(t,6).ngClassUntouched,e.Hb(t,6).ngClassTouched,e.Hb(t,6).ngClassPristine,e.Hb(t,6).ngClassDirty,e.Hb(t,6).ngClassValid,e.Hb(t,6).ngClassInvalid,e.Hb(t,6).ngClassPending),l(t,9,0,!0,e.Hb(t,10).active,e.Hb(t,10).disabled,e.Hb(t,10).focused),l(t,11,0,n.selectedItemString),l(t,12,0,e.Hb(t,13).checked,e.Hb(t,13).disabled,e.Hb(t,18).ngClassUntouched,e.Hb(t,18).ngClassTouched,e.Hb(t,18).ngClassPristine,e.Hb(t,18).ngClassDirty,e.Hb(t,18).ngClassValid,e.Hb(t,18).ngClassInvalid,e.Hb(t,18).ngClassPending),l(t,20,1,["standard"==e.Hb(t,23).appearance,"fill"==e.Hb(t,23).appearance,"outline"==e.Hb(t,23).appearance,"legacy"==e.Hb(t,23).appearance,e.Hb(t,23)._control.errorState,e.Hb(t,23)._canLabelFloat,e.Hb(t,23)._shouldLabelFloat(),e.Hb(t,23)._hasFloatingLabel(),e.Hb(t,23)._hideControlPlaceholder(),e.Hb(t,23)._control.disabled,e.Hb(t,23)._control.autofilled,e.Hb(t,23)._control.focused,"accent"==e.Hb(t,23).color,"warn"==e.Hb(t,23).color,e.Hb(t,23)._shouldForward("untouched"),e.Hb(t,23)._shouldForward("touched"),e.Hb(t,23)._shouldForward("pristine"),e.Hb(t,23)._shouldForward("dirty"),e.Hb(t,23)._shouldForward("valid"),e.Hb(t,23)._shouldForward("invalid"),e.Hb(t,23)._shouldForward("pending"),!e.Hb(t,23)._animationsEnabled]),l(t,33,0,e.Hb(t,35).inline,"primary"!==e.Hb(t,35).color&&"accent"!==e.Hb(t,35).color&&"warn"!==e.Hb(t,35).color),l(t,37,1,[e.Hb(t,39).autocompleteAttribute,e.Hb(t,39).autocompleteDisabled?null:"combobox",e.Hb(t,39).autocompleteDisabled?null:"list",e.Hb(t,39).panelOpen&&e.Hb(t,39).activeOption?e.Hb(t,39).activeOption.id:null,e.Hb(t,39).autocompleteDisabled?null:e.Hb(t,39).panelOpen.toString(),e.Hb(t,39).autocompleteDisabled||!e.Hb(t,39).panelOpen?null:null==e.Hb(t,39).autocomplete?null:e.Hb(t,39).autocomplete.id,!e.Hb(t,39).autocompleteDisabled,e.Hb(t,43).ngClassUntouched,e.Hb(t,43).ngClassTouched,e.Hb(t,43).ngClassPristine,e.Hb(t,43).ngClassDirty,e.Hb(t,43).ngClassValid,e.Hb(t,43).ngClassInvalid,e.Hb(t,43).ngClassPending,e.Hb(t,44)._isServer,e.Hb(t,44).id,e.Hb(t,44).placeholder,e.Hb(t,44).disabled,e.Hb(t,44).required,e.Hb(t,44).readonly&&!e.Hb(t,44)._isNativeSelect||null,e.Hb(t,44)._ariaDescribedby||null,e.Hb(t,44).errorState,e.Hb(t,44).required.toString()])}))}var ct=n("Tc5r");class bt{constructor(l,t,n,e,a,o){this.campaingApiService=l,this.merchantApiService=t,this.dateUtil=n,this.tenantConfigService=e,this.translate=a,this.toastr=o,this.breadcrumbItems=["STATISTICS.CAMPAIGNSKPI.BREADCRUMB.STRING1","STATISTICS.CAMPAIGNSKPI.BREADCRUMB.STRING2"],this.avilableMerchants=[],this.selectedMerchants=[],this.tableDataSource=[],this.campaignGroup=[],this.merchantsData=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}ngOnInit(){this.isCorporate=this.tenantConfigService.getProperty("userType")===ct.a.CORPORATE,this.isCorporate?this.tableData=this.prepareCampaignStatisticTableData():(this.rootKpi1={icon:"fa fa-money-bill-alt",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.TITLE",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC",value:0,valueClass:"mep-primary",isMonetory:!1},this.kpiData1=[{icon:"fa fa-money-bill-alt",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.AMOUNT_OF_DISCOUNTS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_DISCOUNTS",value:0,valueClass:"mep-primary",isMonetory:!0},{icon:"fa fa-barcode",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.NUMBER_OF_COUPONS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_COUPONS",value:0,valueClass:"mep-primary",isMonetory:!1},{icon:"fa fa-archive",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.POOL",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_POOL",value:0,valueClass:"mep-primary",isMonetory:!1},{icon:"fa fa-shopping-basket",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.VISITS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.TOTAL_NUMBER_OF_BASKETS",value:0,valueClass:"mep-primary",isMonetory:!1}]),this.campaingApiService.getAllCampaigns().subscribe(l=>{console.log(Array.from(l.body.campaigns).length),this.prepareCampaignEntityData(l.body.campaigns)},l=>{this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.GET_CAMPAIGNS_FAILED_CPG_SEL"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})})}prepareCampaignEntityData(l){const t=[];for(const n of l){const l=new Date(n.startDate),e=new Date(n.endDate),a=new Date;"Active"===n.status&&l<a&&e>a&&n.merchantLocations&&n.merchantLocations.length>0&&t.push(this.convertCampaignObj(n))}this.campaignGroup.push({status:"Assigned",names:t.sort((l,t)=>l.name.localeCompare(t.name))})}prepareMerchantCheckBoxData(l){this.merchantsData=[];for(const t of l)this.merchantsData.push({name:t.name,value:t.id,disabled:!1,checked:!1,labelPosition:"after"});this.merchantsData.sort((l,t)=>t.name.localeCompare(l.name))}selecteCampaign(l){this.selectedcampaign=l,this.avilableMerchants=l.extra.merchants?l.extra.merchants:[],console.log(this.avilableMerchants),this.tableDataSource=[],this.selectedMerchants=[],this.isCorporate?(this.prepareMerchantCheckBoxData(this.avilableMerchants),this.tableData=this.prepareCampaignStatisticTableData()):this.callCampaignStatisticApi(this.selectedcampaign)}selecteMerchants(l){l.length>0?(this.selectedMerchants=l,this.tableDataSource=[],l.forEach(l=>{this.callCampaignStatisticApi(this.selectedcampaign,l)})):(this.selectedMerchants=[],this.tableData=this.prepareCampaignStatisticTableData())}convertWidgetDate(l){this.rootKpi1.value=l?l.totalPurchaseAmount:0,this.kpiData1[0].value=l?l.numberOfAwards.discounts:0,this.kpiData1[1].value=l?l.numberOfAwards.coupons:0,this.kpiData1[2].value=l?this.setPoolDetails(l):0,this.kpiData1[3].value=l?l.numberOfCustomerTransacted:0}convertMerchantStaticTableData(l,t){this.tableDataSource.push({name:l,revenue:t?t.totalPurchaseAmount:0,discount:t?t.numberOfAwards.discounts:0,coupons:t?t.numberOfAwards.coupons:0,pool:t?this.setPoolDetails(t):0,visits:t?t.numberOfCustomerTransacted:0})}setPoolDetails(l){return l.numberOfAwards.pools.amount>0?this.tenantConfigService.getProperty("paymentCurrency")+" "+Number(l.numberOfAwards.pools.amount).toFixed(2):l.numberOfAwards.pools.quantity>0?l.numberOfAwards.pools.quantity:0}callCampaignStatisticApi(l,t){const n=String(l.extra.startDate),e=this.dateUtil.formatJsDate(new Date,"yyyy-MM-dd");console.log("Startdate: "+n+", End date: "+e),this.campaingApiService.getCampaignStatisticsWithFilterDate(n.toString(),e.toString(),"Cumulative",l.id,t?t.value:null).subscribe(l=>{l.body&&(this.isCorporate?this.setCorporatetableData(t.name,l.body.statistics[0]):this.convertWidgetDate(l.body.statistics[0]))},l=>{console.log("in error"),console.log(l),this.isCorporate&&this.setCorporatetableData(t.name,null),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_KPI"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})})}setCorporatetableData(l,t){this.convertMerchantStaticTableData(l,t),this.selectedMerchants.length===this.tableDataSource.length&&(this.tableData=this.prepareCampaignStatisticTableData())}convertCampaignObj(l){return{name:l.name,id:l.campaignId,extra:{startDate:l.startDate,merchants:l.merchantLocations}}}prepareCampaignStatisticTableData(){return{title:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.TITLE",desc:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.DESC",notFoundMessage:this.getCampaignStatisticsNoDataMessage(),datasource:this.tableDataSource,displayedColumns:["name","revenue","discount","coupons","pool","visits"],columDatas:[{def:"name",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.NAME",property:"name",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),iscurrency:!1},{def:"revenue",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.REVENUE",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"revenue",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.primary"),iscurrency:!0},{def:"discount",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.DISCOUNT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"discount",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.warning"),iscurrency:!0},{def:"coupons",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.COUPONS",property:"coupons",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.info"),iscurrency:!1},{def:"pool",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.POOL",property:"pool",fontColor:"#007BFF",iscurrency:!1},{def:"visits",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.VISITS",property:"visits",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.success"),iscurrency:!1}]}}getCampaignStatisticsNoDataMessage(){return!this.selectedcampaign&&this.selectedMerchants.length<=0?"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.NO_CAMPAIGN_MERCHANT_SELECTED":this.selectedcampaign&&this.selectedMerchants.length<=0?"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.NO_MERCHANT_SELECTED":void 0}}var pt=e.tb({encapsulation:0,styles:[["@media (min-width:512px){.kt-portlet.kt-portlet--height-fluid[_ngcontent-%COMP%]{height:calc(100% - 100%)}}[_nghost-%COMP%]     ngb-tabset>.nav-tabs{display:none}.kt-font-brand[_ngcontent-%COMP%]{color:#ff5db6!important}.kt-font-green[_ngcontent-%COMP%]{color:#34bfa3}.kt-font-red[_ngcontent-%COMP%]{color:#ce0058}.kt-font-blue[_ngcontent-%COMP%]{color:#007bff}.kt-font-yellow[_ngcontent-%COMP%]{color:#fdc414}.kt-font-orange[_ngcontent-%COMP%]{color:#ff8707}.h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:Roboto;font-size:21px;font-weight:300;line-height:24px;text-align:right}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;height:.5em}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-button{background:#ccc}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#b4b4b4}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c9c9c9}.kt-portlet[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;box-shadow:0 0 13px 0 rgba(82,63,105,.05);background-color:#fff;margin-bottom:20px;border-radius:4px}.form-control[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + 1.3rem + 2px);padding:.65rem 1rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid!important;border-radius:4px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  .mat-footer-row,   .mat-header-row,   .mat-row,   td.mat-cell,   td.mat-footer-cell,   th.mat-header-cell{border-bottom-color:rgba(var(--mep-color-base-shape-1-rgb),.2)}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function mt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(4,0,null,null,21,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(7,{height:0}),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Pb(15,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selecteMerchants(n)&&e),e}),F,_)),e.ub(25,49152,null,0,N,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.merchantsData,!0)}),(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.MERCHANT"))),l(t,9,0,e.Hb(t,10).classList),l(t,15,0,e.Qb(t,15,0,e.Hb(t,16).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.SELECTED_MERCHANT")))}))}function ht(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Mb(512,null,f.J,f.K,[e.s,e.t,e.k,e.F]),e.ub(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Pb(3,null,[" "," ",""]))],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){l(t,3,0,t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",t.context.item.value)}))}function dt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,8,"div",[["class","col-xl-5"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,7,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(2,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(3,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(4,114688,null,0,y.a,[],null,null),(l()(),e.vb(5,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,yl,pl)),e.ub(6,638976,null,1,cl,[bl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Nb(335544320,1,{actionTemplate:0}),(l()(),e.kb(0,[[1,2],["actionTemplate",2]],null,0,null,ht))],(function(l,t){var n=t.component;l(t,2,0,"kt-portlet--height-fluid"),l(t,4,0),l(t,6,0,!0,n.rootKpi1,n.kpiData1)}),(function(l,t){l(t,3,0,e.Hb(t,4).classList)}))}function gt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,6,"div",[["class","col-xl-9"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,5,"kt-portlet",[["style","height: auto !important;"]],null,null,null,g.b,g.a)),e.ub(2,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(3,0,null,0,3,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(4,114688,null,0,y.a,[],null,null),(l()(),e.vb(5,0,null,0,1,"xls-custom-mat-table",[],null,null,null,nl,z)),e.ub(6,114688,null,0,G,[],{tableData:[0,"tableData"]},null)],(function(l,t){var n=t.component;l(t,2,0,"kt-portlet--height-fluid"),l(t,4,0),l(t,6,0,n.tableData)}),(function(l,t){l(t,3,0,e.Hb(t,4).classList)}))}function ft(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,el.b,el.a)),e.ub(1,114688,null,0,al.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.vb(2,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(3,0,null,null,18,"div",[["class","col-xl-3"]],null,null,null,null,null)),(l()(),e.vb(4,0,null,null,15,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(6,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(8,0,null,null,11,"kt-portlet",[],[[4,"height","px"]],null,null,g.b,g.a)),e.ub(9,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(10,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(11,114688,null,0,y.a,[],null,null),(l()(),e.vb(12,0,null,0,7,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(13,0,null,null,6,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(14,0,null,null,5,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(15,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Pb(16,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(18,0,null,null,1,"xls-custom-mat-autocomplete",[],null,[[null,"selectedEntity"]],(function(l,t,n){var e=!0;return"selectedEntity"===t&&(e=!1!==l.component.selecteCampaign(n)&&e),e}),st,et)),e.ub(19,114688,null,0,nt,[M.g],{entityGroup:[0,"entityGroup"]},{selectedEntity:"selectedEntity"}),(l()(),e.kb(16777216,null,null,1,null,mt)),e.ub(21,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,dt)),e.ub(23,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,gt)),e.ub(25,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,9,0,"kt-portlet--height-fluid"),l(t,11,0),l(t,19,0,n.campaignGroup),l(t,21,0,n.isCorporate),l(t,23,0,!n.isCorporate),l(t,25,0,n.isCorporate)}),(function(l,t){l(t,6,0,e.Qb(t,6,0,e.Hb(t,7).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.CAMPAIGN"))),l(t,8,0,20),l(t,10,0,e.Hb(t,11).classList),l(t,16,0,e.Qb(t,16,0,e.Hb(t,17).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.SELECTED_CAMPAIGN")))}))}function Ct(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"xls-campaigns-kpis",[],null,null,null,ft,pt)),e.ub(1,114688,null,0,bt,[kl.a,Il.a,Ol.a,bl.a,d.l,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Tt=e.rb("xls-campaigns-kpis",bt,Ct,{},{},[]),St=n("JVhT");class vt{constructor(){}ngOnInit(){this.localData=this.data,this.chartOptions=this.options,this.localTitle=this.title,this.localDesc=this.desc,this.initChartJS()}initChartJS(){this.chartOptions=this.options?this.options:{responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90},gridLines:{display:!1,drawBorder:!0,color:"#000000"}}],yAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,beginAtZero:!0,stepSize:10},gridLines:{display:!1,drawBorder:!0,color:"#000000"}}]}},this.style||(this.style={height:"250px"}),this.chartTs=new St.Chart(this.chart.nativeElement,{type:"bar",data:this.localData,options:this.chartOptions})}ngOnChanges(){this.chartTs&&this.chartTs.destroy(),this.localData=this.data,this.chartOptions=this.options,this.localTitle=this.title,this.localDesc=this.desc,this.initChartJS()}}var yt=e.tb({encapsulation:0,styles:[[".kt-widget14[_ngcontent-%COMP%]{padding:0!important}"]],data:{}});function Mt(l){return e.Rb(0,[e.Nb(402653184,1,{chart:0}),(l()(),e.vb(1,0,null,null,4,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.vb(2,0,null,null,3,"div",[["class","kt-widget14__chart"]],null,null,null,null,null)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(4,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),(l()(),e.vb(5,0,[[1,0],["chart",1]],null,0,"canvas",[],null,null,null,null,null))],(function(l,t){l(t,4,0,t.component.style)}),null)}class At{constructor(l,t,n,e,a,o,i){this.dateUtil=l,this.campaingApiService=t,this.merchantApiServer=n,this.layoutConfigService=e,this.translate=a,this.tenantConfigService=o,this.toastr=i,this.breadcrumbItems=["STATISTICS.REVENUEREPORT.BREADCRUMB.STRING1","STATISTICS.REVENUEREPORT.BREADCRUMB.STRING2","STATISTICS.REVENUEREPORT.BREADCRUMB.STRING3"],this.isClicked=!1,this.corporateMerchants=[],this.selectedMerchantsList=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}ngOnInit(){this.tenantConfigService.isCorporate()&&this.merchantApiServer.getCorporateMerchants(this.tenantConfigService,Al.c.WITH_DEVICE).subscribe(l=>{l.body&&(console.log(l.body),this.parseCorporateMerchantsToListData(l.body.merchants))},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.reportLastTwelveMonth()}reportCurrentMonth(){this.displayingCurrentMonth=!0,this.displayingTewlveMonth=!1,this.currentMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.REVENUEREPORT.CORPORATE.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.CORPORATE.CHART.CURRENTMONTHDESC",this.merchantChartTitle="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHTITLE",this.merchantChartDesc="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHDESC"):(this.title="STATISTICS.REVENUEREPORT.MERCHANT.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.MERCHANT.CHART.CURRENTMONTHDESC"),this.data={labels:[],datasets:[]};const l=new Date,t=l.getFullYear(),n=l.getMonth(),e=new Date(t,n,1),a=this.getDateArray(e,l);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(e,"yyyy-MM-dd"),this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),"Per Day",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe(l=>{if(l.body){const t=this.prepareCurrentMonthChartData(a,l.body.statistics);this.data=t.data,this.chartOptions=t.options}},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)}reportLastTwelveMonth(){this.displayingTewlveMonth=!0,this.displayingCurrentMonth=!1,this.tweleveMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.REVENUEREPORT.CORPORATE.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.CORPORATE.CHART.TWELVEMONTHDESC",this.merchantChartTitle="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHTITLE",this.merchantChartDesc="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHDESC"):(this.title="STATISTICS.REVENUEREPORT.MERCHANT.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.MERCHANT.CHART.TWELVEMONTHDESC"),this.data={labels:[],datasets:[]};const l=new Date;l.setMonth(l.getMonth()),l.setDate(0);const t=l.getFullYear(),n=l.getMonth(),e=new Date(t,n-11,1),a=this.getDateMonthArray(e,l);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(e,"yyyy-MM-dd"),this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),"Per Month",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe(l=>{l.body&&this.prepareLastTwelveMonthChartData(a,l.body.statistics)},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)}getDateArray(l,t){const n=new Array,e=new Date(l);for(;e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n}getDateMonthArray(l,t){new Array;const n=new Date(l),e=n.getFullYear(),a=t.getFullYear(),o=[];for(let i=e;i<=a;i++){const l=i!==a?11:t.getMonth();for(let t=i===e?n.getMonth():0;t<=l;t=t>12?t%12||11:t+1){const l=t+1;o.push(new Date(i,+(l<10?"0"+l:l)-1,1))}}return o}prepareCurrentMonthChartData(l,t){const n=new Map;for(const a of t)n.set(this.dateUtil.formatJsDate(new Date(+a.rollUpSlice.split("-")[0],+a.rollUpSlice.split("-")[1]-1,+a.rollUpSlice.split("-")[2]),"dd/MM/yyyy"),a.totalPurchaseAmount);for(const a of l)n.has(this.dateUtil.formatJsDate(a,"dd/MM/yyyy"))||n.set(this.dateUtil.formatJsDate(a,"dd/MM/yyyy"),"0");const e=new Map([...n.entries()].sort());return{data:{labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,steps:10,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}}prepareLastTwelveMonthChartData(l,t){const n=new Map;for(const e of l)n.set(this.dateUtil.formatJsDate(e,"MMM yyyy"),0);for(const e of t)n.has(this.dateUtil.formatJsDate(new Date(+e.rollUpSlice.split("-")[0],+e.rollUpSlice.split("-")[1]-1),"MMM yyyy"))&&n.set(this.dateUtil.formatJsDate(new Date(this.dateUtil.formatJsDate(new Date(+e.rollUpSlice.split("-")[0],+e.rollUpSlice.split("-")[1]-1),"MMM yyyy")),"MMM yyyy"),e.totalPurchaseAmount);console.log(n),this.data={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.chartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:(l,t,n)=>new Date(new Date(l).toUTCString()).toLocaleDateString(this.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,l=>l.toUpperCase())},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}selectedMerchants(l){if(this.selectedMerchantsList=[],l.length>0){this.selectedMerchantsList=l,this.merchantChartData="",this.merchantChartChartOptions="";const t=new Date,n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e,1),o=new Date;o.setMonth(o.getMonth()),o.setDate(0);const i=new Date(o.getFullYear(),o.getMonth()-11,1),r=this.getDateArray(a,t);let u,s,c="";this.displayingCurrentMonth?(c="Per Day",u=a,s=new Date):this.displayingTewlveMonth&&(u=i,s=o,c="Per Month"),this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(u,"yyyy-MM-dd"),this.dateUtil.formatJsDate(s,"yyyy-MM-dd"),c,this.tenantConfigService.getProperty("userType"),"Merchant").subscribe(l=>{if(l.body){let t=new Map;if("Per Day"===c)for(const l of this.corporateMerchants){const n=new Map;for(const l of r){const t={totalPurchaseAmount:0,rollUpSlice:this.dateUtil.formatJsDate(l,"yyyy-MM-dd")};n.set(this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),t)}t.set(l.value,n)}else if("Per Month"===c){const l=this.getDateMonthArray(i,o);for(const n of this.corporateMerchants){const e=new Map;for(const t of l){const l={totalPurchaseAmount:0,rollUpSlice:this.dateUtil.formatJsDate(t,"yyyy-MM")};e.set(this.dateUtil.formatJsDate(t,"yyyy-MM"),l)}t.set(n.value,e)}}for(const n of l.body.statistics)for(const l of n.merchantStatistics)t=this.parseMerchantStatisticsRespectToCorpMerchants(t,l);this.prepareCorporateMerchantsChart(c,t)}},l=>{console.log("in error"),console.log(l)})}else this.merchantChartData="",this.merchantChartChartOptions=""}parseCorporateMerchantsToListData(l){this.corporateMerchants=[];for(const t of l)this.corporateMerchants.push({name:t.name,value:t.merchantId,disabled:!1,checked:!1,labelPosition:"after"});this.corporateMerchants.sort((l,t)=>l.name.localeCompare(t.name))}parseMerchantStatisticsRespectToCorpMerchants(l,t){const n=t.statistics,e=l.get(t.merchantId);return e.forEach((l,t)=>{t===n.rollUpSlice&&(l.totalPurchaseAmount=n.totalPurchaseAmount,e.set(t,{rollUpSplice:t,totalPurchaseAmount:n.totalPurchaseAmount}))}),l.set(t.merchantId,e),l}prepareCorporateMerchantsChart(l,t){const n=new Map;"Per Day"===l?(t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),0)})}),t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)t===e.value&&l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),+(+n.get(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"))+l.totalPurchaseAmount))})}),this.merchantChartData={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}):"Per Month"===l&&(t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),0)})}),t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)t===e.value&&l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),+(+n.get(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"))+l.totalPurchaseAmount))})}),this.merchantChartData={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:(l,t,n)=>new Date(new Date(l).toUTCString()).toLocaleDateString(this.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,l=>l.toUpperCase())},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}})}}var Rt=e.tb({encapsulation:0,styles:[[".btn-brand[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;background-color:rgba(var(--mep-color-base-shape-1-rgb),.2)!important;border:none!important}.btn-brand[_ngcontent-%COMP%]:active, .btn-brand[_ngcontent-%COMP%]:focus, .btn-brand[_ngcontent-%COMP%]:hover, .btn-brand[_ngcontent-%COMP%]:visited{color:rgba(var(--mep-color-base-shape-1-rgb))!important;background-color:var(--mep-color-state-primary)!important;border:none!important}.h3[_ngcontent-%COMP%]{color:#ce0058;font-family:Roboto;font-size:21px;font-weight:300;line-height:24px;text-align:right}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1.3rem!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__desc[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1rem!important}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function kt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(4,0,null,null,21,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(7,{height:0}),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(14,0,null,null,2,"span",[["class","kt-widget4__title  mep-font-light"]],null,null,null,null,null)),(l()(),e.Pb(15,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),F,_)),e.ub(25,49152,null,0,N,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.REVENUEREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Hb(t,10).classList),l(t,15,0,e.Qb(t,15,0,e.Hb(t,16).transform("STATISTICS.REVENUEREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function It(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,4,"xls-barchart",[],null,null,null,Mt,yt)),e.ub(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Jb(131072,d.k,[d.l,e.h]),e.Jb(131072,d.k,[d.l,e.h]),e.Kb(5,{height:0})],(function(l,t){var n=t.component,a=e.Qb(t,2,0,e.Hb(t,3).transform(n.title)),o=e.Qb(t,2,1,e.Hb(t,4).transform(n.desc)),i=n.data,r=n.chartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,i,r,u)}),null)}function Ot(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,4,"xls-barchart",[],null,null,null,Mt,yt)),e.ub(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Jb(131072,d.k,[d.l,e.h]),e.Jb(131072,d.k,[d.l,e.h]),e.Kb(5,{height:0})],(function(l,t){var n=t.component,a=e.Qb(t,2,0,e.Hb(t,3).transform(n.merchantChartTitle)),o=e.Qb(t,2,1,e.Hb(t,4).transform(n.merchantChartDesc)),i=n.merchantChartData,r=n.merchantChartChartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,i,r,u)}),null)}function Pt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"div",[["style","text-align: center !important;"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h2",[["style","color: rgba(var(--mep-color-base-label-3-rgb),0.20) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[" "," "])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.NOMERCHANTSELECTED")))}))}function Et(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,17,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(1,4308992,null,0,C.a,[e.k,T.b,S.a],null,null),(l()(),e.vb(2,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(3,114688,null,0,y.a,[],null,null),(l()(),e.vb(4,0,null,0,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(6,0,null,null,11,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.vb(8,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Pb(9,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(11,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Pb(12,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,Ot)),e.ub(15,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Pt)),e.ub(17,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0),l(t,3,0),l(t,15,0,n.merchantChartData&&n.merchantChartChartOptions),l(t,17,0,!n.merchantChartData&&!n.merchantChartChartOptions)}),(function(l,t){var n=t.component;l(t,2,0,e.Hb(t,3).classList),l(t,9,0,e.Qb(t,9,0,e.Hb(t,10).transform(n.merchantChartTitle))),l(t,12,0,e.Qb(t,12,0,e.Hb(t,13).transform(n.merchantChartDesc)))}))}function Nt(l){return e.Rb(0,[e.Nb(402653184,1,{tweleveMonthReport:0}),e.Nb(402653184,2,{currentMonthReport:0}),(l()(),e.vb(2,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,el.b,el.a)),e.ub(3,114688,null,0,al.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.vb(4,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,15,"div",[["class","col-xl-4"]],null,null,null,null,null)),(l()(),e.vb(6,0,null,null,14,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,11,"kt-portlet",[["style","height: 0px !important;"]],null,null,null,g.b,g.a)),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,6,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(13,0,[[1,0],["tweleveMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportLastTwelveMonth()&&e),e}),null,null)),(l()(),e.Pb(14,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(16,0,[[2,0],["currentMonthReport",1]],null,2,"button",[["autofocus",""],["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportCurrentMonth()&&e),e}),null,null)),(l()(),e.Pb(17,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,kt)),e.ub(20,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(21,0,null,null,18,"div",[["class","col-xl-8"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,15,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(23,4308992,null,0,C.a,[e.k,T.b,S.a],null,null),(l()(),e.vb(24,0,null,0,13,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(25,114688,null,0,y.a,[],null,null),(l()(),e.vb(26,0,null,0,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(27,0,null,null,10,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(28,0,null,null,9,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.vb(29,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.vb(30,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Pb(31,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(33,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Pb(34,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,It)),e.ub(37,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Et)),e.ub(39,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,20,0,n.tenantConfigService.isCorporate()),l(t,23,0),l(t,25,0),l(t,37,0,n.data),l(t,39,0,n.tenantConfigService.isCorporate())}),(function(l,t){var n=t.component;l(t,9,0,e.Hb(t,10).classList),l(t,14,0,e.Qb(t,14,0,e.Hb(t,15).transform("STATISTICS.REVENUEREPORT.BUTTON.TWELVEMONTH"))),l(t,17,0,e.Qb(t,17,0,e.Hb(t,18).transform("STATISTICS.REVENUEREPORT.BUTTON.CURRENTMONTH"))),l(t,24,0,e.Hb(t,25).classList),l(t,31,0,e.Qb(t,31,0,e.Hb(t,32).transform(n.title))),l(t,34,0,e.Qb(t,34,0,e.Hb(t,35).transform(n.desc)))}))}function _t(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"xls-revenue-report",[],null,null,null,Nt,Rt)),e.ub(1,114688,null,0,At,[Ol.a,kl.a,Il.a,S.a,d.l,bl.a,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Dt=e.rb("xls-revenue-report",At,_t,{},{},[]);class Ht{constructor(l,t,n,e,a,o,i){this.dateUtil=l,this.campaingApiService=t,this.merchantApiServer=n,this.layoutConfigService=e,this.translate=a,this.tenantConfigService=o,this.toastr=i,this.breadcrumbItems=["STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING1","STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING2","STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING3"],this.isClicked=!1,this.corporateMerchants=[],this.selectedMerchantsList=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}ngOnInit(){this.tenantConfigService.isCorporate()&&this.merchantApiServer.getCorporateMerchants(this.tenantConfigService,Al.c.WITH_DEVICE).subscribe(l=>{l.body&&(console.log(l.body),this.parseCorporateMerchantsToListData(l.body.merchants))},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.reportLastTwelveMonth()}reportCurrentMonth(){this.displayingCurrentMonth=!0,this.displayingTewlveMonth=!1,this.currentMonthReport.nativeElement.focus(),console.log(this.translate.currentLang),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.CURRENTMONTHDESC",this.merchantChartTitle="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHTITLE",this.merchantChartDesc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHDESC"):(this.title="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.CURRENTMONTHDESC"),this.data={labels:[],datasets:[]};const l=new Date,t=l.getFullYear(),n=l.getMonth(),e=new Date(t,n,1),a=this.getDateArray(e,l);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(e,"yyyy-MM-dd"),this.dateUtil.formatJsDate(new Date,"yyyy-MM-dd"),"Per Day",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe(l=>{if(l.body){const t=this.prepareCurrentMonthChartData(a,l.body.statistics);console.log("chartData: "+JSON.stringify(t)),this.data=t.data,this.chartOptions=t.options}},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)}reportLastTwelveMonth(){this.displayingTewlveMonth=!0,this.displayingCurrentMonth=!1,this.tweleveMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.TWELVEMONTHDESC",this.merchantChartTitle="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHTITLE",this.merchantChartDesc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHDESC"):(this.title="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.TWELVEMONTHDESC"),this.data={labels:[],datasets:[]};const l=new Date;l.setMonth(l.getMonth()),l.setDate(0);const t=l.getFullYear(),n=l.getMonth(),e=new Date(t,n-11,1),a=this.getDateMonthArray(e,l);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(e,"yyyy-MM-dd"),this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),"Per Month",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe(l=>{l.body&&this.prepareLastTwelveMonthChartData(a,l.body.statistics)},l=>{console.log("in error"),console.log(l),this.toastr.error(this.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Ml.b.BOTTOM_RIGHT})}),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)}getDateArray(l,t){const n=new Array,e=new Date(l);for(;e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n}getDateMonthArray(l,t){new Array;const n=new Date(l),e=n.getFullYear(),a=t.getFullYear(),o=[];for(let i=e;i<=a;i++){const l=i!==a?11:t.getMonth();for(let t=i===e?n.getMonth():0;t<=l;t=t>12?t%12||11:t+1){const l=t+1;o.push(new Date(i,+(l<10?"0"+l:l)-1,1))}}return o}prepareCurrentMonthChartData(l,t){const n=new Map;for(const a of t)n.set(this.dateUtil.formatJsDate(new Date(+a.rollUpSlice.split("-")[0],+a.rollUpSlice.split("-")[1]-1,+a.rollUpSlice.split("-")[2]),"dd/MM/yyyy"),a.numberOfTransactions);for(const a of l)n.has(this.dateUtil.formatJsDate(a,"dd/MM/yyyy"))||n.set(this.dateUtil.formatJsDate(a,"dd/MM/yyyy"),0);const e=new Map([...n.entries()].sort());return{data:{labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,steps:10,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}}prepareLastTwelveMonthChartData(l,t){const n=new Map;for(const e of l)n.set(this.dateUtil.formatJsDate(e,"MMM yyyy"),0);for(const e of t)n.has(this.dateUtil.formatJsDate(new Date(+e.rollUpSlice.split("-")[0],+e.rollUpSlice.split("-")[1]-1),"MMM yyyy"))&&n.set(this.dateUtil.formatJsDate(new Date(this.dateUtil.formatJsDate(new Date(+e.rollUpSlice.split("-")[0],+e.rollUpSlice.split("-")[1]-1),"MMM yyyy")),"MMM yyyy"),e.numberOfTransactions);console.log(n),this.data={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.chartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:(l,t,n)=>new Date(new Date(l).toUTCString()).toLocaleDateString(this.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,l=>l.toUpperCase())},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}selectedMerchants(l){if(this.selectedMerchantsList=[],l.length>0){this.selectedMerchantsList=l,this.merchantChartData="",this.merchantChartChartOptions="";const t=new Date,n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e,1),o=new Date;o.setMonth(o.getMonth()),o.setDate(0);const i=new Date(o.getFullYear(),o.getMonth()-11,1),r=this.getDateArray(a,t);let u,s,c="";this.displayingCurrentMonth?(c="Per Day",u=a,s=new Date):this.displayingTewlveMonth&&(u=i,s=o,c="Per Month"),this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(u,"yyyy-MM-dd"),this.dateUtil.formatJsDate(s,"yyyy-MM-dd"),c,this.tenantConfigService.getProperty("userType"),"Merchant").subscribe(l=>{if(l.body){let t=new Map;if("Per Day"===c)for(const l of this.corporateMerchants){const n=new Map;for(const l of r){const t={numberOfTransactions:0,rollUpSlice:this.dateUtil.formatJsDate(l,"yyyy-MM-dd")};n.set(this.dateUtil.formatJsDate(l,"yyyy-MM-dd"),t)}t.set(l.value,n)}else if("Per Month"===c){const l=this.getDateMonthArray(i,o);for(const n of this.corporateMerchants){const e=new Map;for(const t of l){const l={numberOfTransactions:0,rollUpSlice:this.dateUtil.formatJsDate(t,"yyyy-MM")};e.set(this.dateUtil.formatJsDate(t,"yyyy-MM"),l)}t.set(n.value,e)}}for(const n of l.body.statistics)for(const l of n.merchantStatistics)t=this.parseMerchantStatisticsRespectToCorpMerchants(t,l);this.prepareCorporateMerchantsChart(c,t)}},l=>{console.log("in error"),console.log(l)})}else this.merchantChartData="",this.merchantChartChartOptions=""}parseCorporateMerchantsToListData(l){this.corporateMerchants=[];for(const t of l)this.corporateMerchants.push({name:t.name,value:t.merchantId,disabled:!1,checked:!1,labelPosition:"after"});this.corporateMerchants.sort((l,t)=>l.name.localeCompare(t.name))}parseMerchantStatisticsRespectToCorpMerchants(l,t){const n=t.statistics,e=l.get(t.merchantId);return e.forEach((l,t)=>{t===n.rollUpSlice&&(l.numberOfTransactions=n.numberOfTransactions,e.set(t,{rollUpSplice:t,numberOfTransactions:n.numberOfTransactions}))}),l.set(t.merchantId,e),l}prepareCorporateMerchantsChart(l,t){const n=new Map;"Per Day"===l?(t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),0)})}),t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)t===e.value&&l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),+(+n.get(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"))+l.numberOfTransactions))})}),this.merchantChartData={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}):"Per Month"===l&&(t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),0)})}),t.forEach((l,t)=>{for(const e of this.selectedMerchantsList)t===e.value&&l.forEach((l,t)=>{n.set(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),+(+n.get(this.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"))+l.numberOfTransactions))})}),this.merchantChartData={labels:Array.from(n.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(n.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:(l,t,n)=>new Date(new Date(l).toUTCString()).toLocaleDateString(this.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,l=>l.toUpperCase())},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(n.values()))/10),callback(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}})}}var wt=e.tb({encapsulation:0,styles:[[".btn-brand[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;background-color:rgba(var(--mep-color-base-shape-1-rgb),.2)!important;border:none!important}.btn-brand[_ngcontent-%COMP%]:active, .btn-brand[_ngcontent-%COMP%]:focus, .btn-brand[_ngcontent-%COMP%]:hover, .btn-brand[_ngcontent-%COMP%]:visited{color:rgba(var(--mep-color-base-shape-1-rgb))!important;background-color:var(--mep-color-state-primary)!important;border:none!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1.3rem!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__desc[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1rem!important}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function xt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[""," "])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(4,0,null,null,21,"kt-portlet",[],null,null,null,g.b,g.a)),e.Mb(512,null,f.L,f.M,[e.k,e.t,e.F]),e.ub(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Kb(7,{height:0}),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.vb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Pb(15,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.vb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.vb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),F,_)),e.ub(25,49152,null,0,N,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Hb(t,10).classList),l(t,15,0,e.Qb(t,15,0,e.Hb(t,16).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function Lt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,4,"xls-barchart",[],null,null,null,Mt,yt)),e.ub(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Jb(131072,d.k,[d.l,e.h]),e.Jb(131072,d.k,[d.l,e.h]),e.Kb(5,{height:0})],(function(l,t){var n=t.component,a=e.Qb(t,2,0,e.Hb(t,3).transform(n.title)),o=e.Qb(t,2,1,e.Hb(t,4).transform(n.desc)),i=n.data,r=n.chartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,i,r,u)}),null)}function Ft(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,4,"xls-barchart",[],null,null,null,Mt,yt)),e.ub(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Jb(131072,d.k,[d.l,e.h]),e.Jb(131072,d.k,[d.l,e.h]),e.Kb(5,{height:0})],(function(l,t){var n=t.component,a=e.Qb(t,2,0,e.Hb(t,3).transform(n.merchantChartTitle)),o=e.Qb(t,2,1,e.Hb(t,4).transform(n.merchantChartDesc)),i=n.merchantChartData,r=n.merchantChartChartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,i,r,u)}),null)}function Ut(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,3,"div",[["style","text-align: center !important;"]],null,null,null,null,null)),(l()(),e.vb(1,0,null,null,2,"h2",[["style","color: rgba(var(--mep-color-base-label-3-rgb),0.20) !important;"]],null,null,null,null,null)),(l()(),e.Pb(2,null,[" "," "])),e.Jb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Qb(t,2,0,e.Hb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.NOMERCHANTSELECTED")))}))}function Kt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,17,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(1,4308992,null,0,C.a,[e.k,T.b,S.a],null,null),(l()(),e.vb(2,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(3,114688,null,0,y.a,[],null,null),(l()(),e.vb(4,0,null,0,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(6,0,null,null,11,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.vb(8,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Pb(9,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(11,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Pb(12,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,Ft)),e.ub(15,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Ut)),e.ub(17,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0),l(t,3,0),l(t,15,0,n.merchantChartData&&n.merchantChartChartOptions),l(t,17,0,!n.merchantChartData&&!n.merchantChartChartOptions)}),(function(l,t){var n=t.component;l(t,2,0,e.Hb(t,3).classList),l(t,9,0,e.Qb(t,9,0,e.Hb(t,10).transform(n.merchantChartTitle))),l(t,12,0,e.Qb(t,12,0,e.Hb(t,13).transform(n.merchantChartDesc)))}))}function Jt(l){return e.Rb(0,[e.Nb(402653184,1,{tweleveMonthReport:0}),e.Nb(402653184,2,{currentMonthReport:0}),(l()(),e.vb(2,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,el.b,el.a)),e.ub(3,114688,null,0,al.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.vb(4,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(5,0,null,null,15,"div",[["class","col-xl-4"]],null,null,null,null,null)),(l()(),e.vb(6,0,null,null,12,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.vb(7,0,null,null,11,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(8,4308992,null,0,C.a,[e.k,T.b,S.a],{class:[0,"class"]},null),(l()(),e.vb(9,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(10,114688,null,0,y.a,[],null,null),(l()(),e.vb(11,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(12,0,null,null,6,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(13,0,[[1,0],["tweleveMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportLastTwelveMonth()&&e),e}),null,null)),(l()(),e.Pb(14,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(16,0,[[2,0],["currentMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportCurrentMonth()&&e),e}),null,null)),(l()(),e.Pb(17,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,xt)),e.ub(20,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.vb(21,0,null,null,18,"div",[["class","col-xl-8"]],null,null,null,null,null)),(l()(),e.vb(22,0,null,null,15,"kt-portlet",[],null,null,null,g.b,g.a)),e.ub(23,4308992,null,0,C.a,[e.k,T.b,S.a],null,null),(l()(),e.vb(24,0,null,0,13,"kt-portlet-body",[],[[8,"className",0]],null,null,v.b,v.a)),e.ub(25,114688,null,0,y.a,[],null,null),(l()(),e.vb(26,0,null,0,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.vb(27,0,null,null,10,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.vb(28,0,null,null,9,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.vb(29,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.vb(30,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Pb(31,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.vb(33,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Pb(34,null,["",""])),e.Jb(131072,d.k,[d.l,e.h]),(l()(),e.kb(16777216,null,null,1,null,Lt)),e.ub(37,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null),(l()(),e.kb(16777216,null,null,1,null,Kt)),e.ub(39,16384,null,0,f.q,[e.Q,e.N],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,20,0,n.tenantConfigService.isCorporate()),l(t,23,0),l(t,25,0),l(t,37,0,n.data),l(t,39,0,n.tenantConfigService.isCorporate())}),(function(l,t){var n=t.component;l(t,9,0,e.Hb(t,10).classList),l(t,14,0,e.Qb(t,14,0,e.Hb(t,15).transform("STATISTICS.TRANSACTIONSREPORT.BUTTON.TWELVEMONTH"))),l(t,17,0,e.Qb(t,17,0,e.Hb(t,18).transform("STATISTICS.TRANSACTIONSREPORT.BUTTON.CURRENTMONTH"))),l(t,24,0,e.Hb(t,25).classList),l(t,31,0,e.Qb(t,31,0,e.Hb(t,32).transform(n.title))),l(t,34,0,e.Qb(t,34,0,e.Hb(t,35).transform(n.desc)))}))}function Vt(l){return e.Rb(0,[(l()(),e.vb(0,0,null,null,1,"xls-transactions-report",[],null,null,null,Jt,wt)),e.ub(1,114688,null,0,Ht,[Ol.a,kl.a,Il.a,S.a,d.l,bl.a,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Bt=e.rb("xls-transactions-report",Ht,Vt,{},{},[]),Qt=n("s6ns"),Gt=n("POq0"),zt=n("821u"),qt=n("JjoW"),Wt=n("Mz6y"),$t=n("OIZN"),jt=n("7kcP"),Xt=n("gavF"),Yt=n("IheW"),Zt=n("Fwaw"),ln=n("pBi1"),tn=n("02hT"),nn=n("igqZ"),en=n("W5yJ"),an=n("PCNd"),on=n("iInd"),rn=n("bse0"),un=n("0ibv"),sn=n("z+1c"),cn=n("8P0U"),bn=n("cxZD"),pn=n("0cyH"),mn=n("elxJ"),hn=n("dFDH"),dn=n("rWV4"),gn=n("uX7N");n.d(t,"StatisticsModuleNgFactory",(function(){return fn}));var fn=e.sb(a,[],(function(l){return e.Eb([e.Fb(512,e.j,e.db,[[8,[o.a,o.b,o.j,o.k,o.g,o.h,o.i,i.a,r.b,r.a,u.a,s.a,c.a,b.a,p.a,m.a,h.a,h.b,Ll,Tt,Dt,Bt]],[3,e.j],e.y]),e.Fb(4608,f.s,f.r,[e.u,[2,f.O]]),e.Fb(4608,M.E,M.E,[]),e.Fb(4608,ol.D,ol.D,[e.j,e.r,ol.wb,ol.E]),e.Fb(4608,M.g,M.g,[]),e.Fb(4608,Gl.c,Gl.c,[Gl.i,Gl.e,e.j,Gl.h,Gl.f,e.r,e.A,f.e,V.b,[2,f.l]]),e.Fb(5120,Gl.j,Gl.k,[Gl.c]),e.Fb(5120,Qt.c,Qt.d,[Gl.c]),e.Fb(135680,Qt.e,Qt.e,[Gl.c,e.r,[2,f.l],[2,Qt.b],Qt.c,[3,Qt.e],Gl.e]),e.Fb(4608,Ul.c,Ul.y,[[2,Ul.h],B.a]),e.Fb(4608,Gt.c,Gt.c,[]),e.Fb(4608,Ul.d,Ul.d,[]),e.Fb(4608,zt.h,zt.h,[]),e.Fb(5120,zt.a,zt.b,[Gl.c]),e.Fb(5120,Ql.b,Ql.c,[Gl.c]),e.Fb(4608,$l.e,Ul.e,[[2,Ul.i],[2,Ul.n]]),e.Fb(5120,qt.a,qt.b,[Gl.c]),e.Fb(5120,Wt.b,Wt.c,[Gl.c]),e.Fb(5120,$t.c,$t.a,[[3,$t.c]]),e.Fb(5120,jt.d,jt.a,[[3,jt.d]]),e.Fb(5120,Xt.a,Xt.d,[Gl.c]),e.Fb(4608,Yt.l,Yt.r,[f.e,e.C,Yt.p]),e.Fb(4608,Yt.s,Yt.s,[Yt.l,Yt.q]),e.Fb(5120,Yt.a,(function(l){return[l]}),[Yt.s]),e.Fb(4608,Yt.o,Yt.o,[]),e.Fb(6144,Yt.m,null,[Yt.o]),e.Fb(4608,Yt.k,Yt.k,[Yt.m]),e.Fb(6144,Yt.b,null,[Yt.k]),e.Fb(4608,Yt.f,Yt.n,[Yt.b,e.r]),e.Fb(4608,Yt.c,Yt.c,[Yt.f]),e.Fb(1073742336,f.c,f.c,[]),e.Fb(1073742336,ol.c,ol.c,[]),e.Fb(1073742336,ol.f,ol.f,[]),e.Fb(1073742336,ol.h,ol.h,[]),e.Fb(1073742336,ol.l,ol.l,[]),e.Fb(1073742336,ol.n,ol.n,[]),e.Fb(1073742336,M.D,M.D,[]),e.Fb(1073742336,M.m,M.m,[]),e.Fb(1073742336,ol.t,ol.t,[]),e.Fb(1073742336,ol.z,ol.z,[]),e.Fb(1073742336,ol.F,ol.F,[]),e.Fb(1073742336,ol.K,ol.K,[]),e.Fb(1073742336,ol.N,ol.N,[]),e.Fb(1073742336,ol.Q,ol.Q,[]),e.Fb(1073742336,ol.T,ol.T,[]),e.Fb(1073742336,ol.Y,ol.Y,[]),e.Fb(1073742336,ol.db,ol.db,[]),e.Fb(1073742336,ol.gb,ol.gb,[]),e.Fb(1073742336,ol.jb,ol.jb,[]),e.Fb(1073742336,ol.kb,ol.kb,[]),e.Fb(1073742336,ol.G,ol.G,[]),e.Fb(1073742336,M.z,M.z,[]),e.Fb(1073742336,d.i,d.i,[]),e.Fb(1073742336,V.a,V.a,[]),e.Fb(1073742336,jl.g,jl.g,[]),e.Fb(1073742336,B.b,B.b,[]),e.Fb(1073742336,zl.b,zl.b,[]),e.Fb(1073742336,Gl.g,Gl.g,[]),e.Fb(1073742336,Ul.n,Ul.n,[[2,Ul.f],[2,$l.f]]),e.Fb(1073742336,Qt.j,Qt.j,[]),e.Fb(1073742336,Ul.z,Ul.z,[]),e.Fb(1073742336,Ul.p,Ul.p,[]),e.Fb(1073742336,Gt.d,Gt.d,[]),e.Fb(1073742336,Jl.e,Jl.e,[]),e.Fb(1073742336,Wl.c,Wl.c,[]),e.Fb(1073742336,ql.b,ql.b,[]),e.Fb(1073742336,Ul.x,Ul.x,[]),e.Fb(1073742336,Zt.c,Zt.c,[]),e.Fb(1073742336,O.a,O.a,[]),e.Fb(1073742336,zt.i,zt.i,[]),e.Fb(1073742336,Ul.v,Ul.v,[]),e.Fb(1073742336,Ul.s,Ul.s,[]),e.Fb(1073742336,Ql.e,Ql.e,[]),e.Fb(1073742336,Bl.c,Bl.c,[]),e.Fb(1073742336,ln.d,ln.d,[]),e.Fb(1073742336,ln.c,ln.c,[]),e.Fb(1073742336,I.d,I.d,[]),e.Fb(1073742336,I.c,I.c,[]),e.Fb(1073742336,Ul.o,Ul.o,[]),e.Fb(1073742336,tn.a,tn.a,[]),e.Fb(1073742336,R.c,R.c,[]),e.Fb(1073742336,nn.a,nn.a,[]),e.Fb(1073742336,qt.d,qt.d,[]),e.Fb(1073742336,K.p,K.p,[]),e.Fb(1073742336,U.l,U.l,[]),e.Fb(1073742336,en.c,en.c,[]),e.Fb(1073742336,an.a,an.a,[]),e.Fb(1073742336,on.u,on.u,[[2,on.A],[2,on.r]]),e.Fb(1073742336,rn.c,rn.c,[]),e.Fb(1073742336,un.a,un.a,[]),e.Fb(1073742336,sn.a,sn.a,[]),e.Fb(1073742336,cn.a,cn.a,[]),e.Fb(1073742336,bn.a,bn.a,[]),e.Fb(1073742336,Wt.e,Wt.e,[]),e.Fb(1073742336,$t.d,$t.d,[]),e.Fb(1073742336,jt.e,jt.e,[]),e.Fb(1073742336,pn.a,pn.a,[]),e.Fb(1073742336,Xt.c,Xt.c,[]),e.Fb(1073742336,Xt.b,Xt.b,[]),e.Fb(1073742336,mn.a,mn.a,[]),e.Fb(1073742336,hn.e,hn.e,[]),e.Fb(1073742336,dn.a,dn.a,[]),e.Fb(1073742336,gn.a,gn.a,[]),e.Fb(1073742336,Yt.e,Yt.e,[]),e.Fb(1073742336,Yt.d,Yt.d,[]),e.Fb(1073742336,a,a,[]),e.Fb(256,Ul.g,Ul.k,[]),e.Fb(256,Yt.p,"XSRF-TOKEN",[]),e.Fb(256,Yt.q,"X-XSRF-TOKEN",[]),e.Fb(1024,on.n,(function(){return[[{path:"transactions-kpis",component:Rl},{path:"campaign-kpis",component:bt},{path:"revenue-report",component:At},{path:"transactions-report",component:Ht}]]}),[])])}))}}]);