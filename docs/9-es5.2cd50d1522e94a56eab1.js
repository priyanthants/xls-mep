(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{dc1l:function(l,t,n){"use strict";n.r(t);var e=n("CcnG"),a=function(){return function(){}}(),o=n("9AJC"),r=n("t68o"),i=n("zbXB"),u=n("evPG"),s=n("dllU"),c=n("o+YY"),b=n("pMnS"),p=n("yBPo"),m=n("NcP4"),h=n("xYTU"),d=n("A7o+"),y=n("WWfB"),f=n("Ip0R"),g=n("rBL6"),C=n("/CeA"),T=n("wL5p"),S=n("6Sed"),v=n("qkyu"),M=n("gIcY"),A=n("6UMx"),I=n("0/Q6"),x=n("Z5h4"),k=n("de3e"),R=n("lLAP"),O=n("wFw1"),P=n("jQHo"),E=n("mrSG"),_=function(){function l(l){var t=this;this.fb=l,this.data=[],this.placeholder="COMMONCOMPONENTS.CHECKBOXLIST.PLACEHOLDER",this.selectedEntities=new e.n,this.searchTermAvailable="",this.availableSearchInputControl=new M.h,this.masterChecked=!1,this.masterIndeterminate=!1,this.checkboxForm=this.fb.group({availableSearchInput:this.availableSearchInputControl});var n=[];if(!this.checkboxList){for(var a=1;a<=100;a++)n.push({name:"Data "+a,disabled:!1,checked:!1,labelPosition:"after",value:a});this.checkboxList=n}this.availableSearchInputControl.valueChanges.subscribe((function(l){return t.searchTermAvailable=l}))}return l.prototype.onClick=function(){this.toggleMerchantsList=!this.toggleMerchantsList},l.prototype.list_change=function(){var l,t,n,e,a=0,o=[];try{for(var r=E.__values(Object.values(this.checkboxList)),i=r.next();!i.done;i=r.next())(c=i.value).checked&&a++}catch(b){l={error:b}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(l)throw l.error}}a>0&&a<this.checkboxList.length?this.masterIndeterminate=!0:a===this.checkboxList.length?(this.masterIndeterminate=!1,this.masterChecked=!0):(this.masterIndeterminate=!1,this.masterChecked=!1),this.checkedCount=a,o=[];try{for(var u=E.__values(Object.values(this.checkboxList)),s=u.next();!s.done;s=u.next()){var c;(c=s.value).checked&&o.push(c)}}catch(p){n={error:p}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}this.selectedEntities.emit(o)},l.prototype.master_change=function(){var l,t,n,e,a=[];try{for(var o=E.__values(Object.values(this.checkboxList)),r=o.next();!r.done;r=o.next())(s=r.value).checked=this.masterChecked}catch(c){l={error:c}}finally{try{r&&!r.done&&(t=o.return)&&t.call(o)}finally{if(l)throw l.error}}this.masterChecked?this.checkedCount=this.checkboxList.length:(this.checkedCount=0,a=[]),a=[];try{for(var i=E.__values(Object.values(this.checkboxList)),u=i.next();!u.done;u=i.next()){var s;(s=u.value).checked&&a.push(s)}}catch(b){n={error:b}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}this.selectedEntities.emit(a)},l}(),w=e.wb({encapsulation:0,styles:[["[_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;height:.5em}[_ngcontent-%COMP%]::-webkit-scrollbar-button{background:#ccc}[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#b4b4b4}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c9c9c9}[_nghost-%COMP%]     .mat-list-base .mat-list-item, [_nghost-%COMP%]     .mat-list-base .mat-list-option{display:block;height:30px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}[_nghost-%COMP%]     .btn{cursor:pointer}.h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem;line-height:24px;text-align:right}.mat-checkbox-indeterminate[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-checked .mat-checkbox-background{background-color:gray!important}  .mat-checkbox:not(.mat-checkbox-disabled) .mat-checkbox-ripple .mat-ripple-element .mat-checkbox-mixedmark{background-color:gray!important}.mat-checkbox-checked.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],   .mat-checkbox-indeterminate.mat-accent .mat-checkbox-background{background-color:gray}  .mat-list-base .mat-list-item{color:var(--mep-color-base-label-4)!important}  .mat-checkbox-label{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1rem!important}.form-control[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + 1.3rem + 2px);padding:.65rem 1rem;font-size:1rem;font-weight:400;line-height:1.5;color:rgba(var(--mep-color-base-shape-1-rgb),.5)!important;background-color:#fff;background-clip:padding-box;border:1px solid!important;border-radius:4px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}"]],data:{}});function N(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,6,"input",[["class","form-control list-box"],["formControlName","availableSearchInput"],["type","text"]],[[8,"placeholder",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,t,n){var a=!0;return"input"===t&&(a=!1!==e.Kb(l,1)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Kb(l,1).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Kb(l,1)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Kb(l,1)._compositionEnd(n.target.value)&&a),a}),null,null)),e.xb(1,16384,null,0,M.e,[e.I,e.k,[2,M.a]],null,null),e.Pb(1024,null,M.p,(function(l){return[l]}),[M.e]),e.xb(3,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"]},null),e.Pb(2048,null,M.q,null,[M.i]),e.xb(5,16384,null,0,M.r,[[4,M.q]],null,null),e.Mb(131072,d.k,[d.l,e.h])],(function(l,t){l(t,3,0,"availableSearchInput")}),(function(l,t){var n=t.component;l(t,0,0,e.Tb(t,0,0,e.Kb(t,6).transform(n.placeholder)),e.Kb(t,5).ngClassUntouched,e.Kb(t,5).ngClassTouched,e.Kb(t,5).ngClassPristine,e.Kb(t,5).ngClassDirty,e.Kb(t,5).ngClassValid,e.Kb(t,5).ngClassInvalid,e.Kb(t,5).ngClassPending)}))}function D(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,N)),e.xb(2,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,2,0,t.component.toggleMerchantsList)}),null)}function L(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,13,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,A.c,A.b)),e.xb(1,1228800,null,3,I.b,[e.k,e.h,[2,I.e],[2,I.a]],null,null),e.Qb(603979776,2,{_lines:1}),e.Qb(603979776,3,{_avatar:0}),e.Qb(603979776,4,{_icon:0}),(l()(),e.yb(5,0,null,2,8,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"indeterminateChange"],[null,"change"]],(function(l,t,n){var e=!0,a=l.component;return"ngModelChange"===t&&(e=!1!==(a.masterChecked=n)&&e),"indeterminateChange"===t&&(e=!1!==(a.masterIndeterminate=n)&&e),"change"===t&&(e=!1!==a.master_change()&&e),e}),x.b,x.a)),e.xb(6,8568832,null,0,k.b,[e.k,e.h,R.h,e.D,[8,null],[2,k.a],[2,O.a]],{indeterminate:[0,"indeterminate"]},{change:"change",indeterminateChange:"indeterminateChange"}),e.Pb(1024,null,M.p,(function(l){return[l]}),[k.b]),e.xb(8,671744,null,0,M.u,[[8,null],[8,null],[8,null],[6,M.p]],{model:[0,"model"]},{update:"ngModelChange"}),e.Pb(2048,null,M.q,null,[M.u]),e.xb(10,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.yb(11,0,null,0,2,"b",[["class","mep-font-medium"]],null,null,null,null,null)),(l()(),e.Sb(12,null,["",""])),e.Mb(131072,d.k,[d.l,e.h])],(function(l,t){var n=t.component;l(t,6,0,n.masterIndeterminate),l(t,8,0,n.masterChecked)}),(function(l,t){l(t,0,0,e.Kb(t,1)._avatar||e.Kb(t,1)._icon,e.Kb(t,1)._avatar||e.Kb(t,1)._icon),l(t,5,1,[e.Kb(t,6).id,null,e.Kb(t,6).indeterminate,e.Kb(t,6).checked,e.Kb(t,6).disabled,"before"==e.Kb(t,6).labelPosition,"NoopAnimations"===e.Kb(t,6)._animationMode,e.Kb(t,10).ngClassUntouched,e.Kb(t,10).ngClassTouched,e.Kb(t,10).ngClassPristine,e.Kb(t,10).ngClassDirty,e.Kb(t,10).ngClassValid,e.Kb(t,10).ngClassInvalid,e.Kb(t,10).ngClassPending]),l(t,12,0,e.Tb(t,12,0,e.Kb(t,13).transform("COMMONCOMPONENTS.CHECKBOXLIST.CHECKUNCHECKALL")))}))}function K(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,11,"mat-list-item",[["class","mat-list-item"]],[[2,"mat-list-item-avatar",null],[2,"mat-list-item-with-avatar",null]],null,null,A.c,A.b)),e.xb(1,1228800,null,3,I.b,[e.k,e.h,[2,I.e],[2,I.a]],null,null),e.Qb(603979776,5,{_lines:1}),e.Qb(603979776,6,{_avatar:0}),e.Qb(603979776,7,{_icon:0}),(l()(),e.yb(5,0,null,2,6,"mat-checkbox",[["class","mat-checkbox"]],[[8,"id",0],[1,"tabindex",0],[2,"mat-checkbox-indeterminate",null],[2,"mat-checkbox-checked",null],[2,"mat-checkbox-disabled",null],[2,"mat-checkbox-label-before",null],[2,"_mat-animation-noopable",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"]],(function(l,t,n){var e=!0,a=l.component;return"ngModelChange"===t&&(e=!1!==(l.context.$implicit.checked=n)&&e),"change"===t&&(e=!1!==a.list_change()&&e),e}),x.b,x.a)),e.xb(6,8568832,null,0,k.b,[e.k,e.h,R.h,e.D,[8,null],[2,k.a],[2,O.a]],{labelPosition:[0,"labelPosition"],value:[1,"value"],disabled:[2,"disabled"]},{change:"change"}),e.Pb(1024,null,M.p,(function(l){return[l]}),[k.b]),e.xb(8,671744,null,0,M.u,[[8,null],[8,null],[8,null],[6,M.p]],{isDisabled:[0,"isDisabled"],model:[1,"model"]},{update:"ngModelChange"}),e.Pb(2048,null,M.q,null,[M.u]),e.xb(10,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.Sb(11,0,["",""]))],(function(l,t){l(t,6,0,t.context.$implicit.labelPosition,null==t.context.$implicit?null:t.context.$implicit.value,t.context.$implicit.disabled),l(t,8,0,t.context.$implicit.disabled,t.context.$implicit.checked)}),(function(l,t){l(t,0,0,e.Kb(t,1)._avatar||e.Kb(t,1)._icon,e.Kb(t,1)._avatar||e.Kb(t,1)._icon),l(t,5,1,[e.Kb(t,6).id,null,e.Kb(t,6).indeterminate,e.Kb(t,6).checked,e.Kb(t,6).disabled,"before"==e.Kb(t,6).labelPosition,"NoopAnimations"===e.Kb(t,6)._animationMode,e.Kb(t,10).ngClassUntouched,e.Kb(t,10).ngClassTouched,e.Kb(t,10).ngClassPristine,e.Kb(t,10).ngClassDirty,e.Kb(t,10).ngClassValid,e.Kb(t,10).ngClassInvalid,e.Kb(t,10).ngClassPending]),l(t,11,0,null==t.context.$implicit?null:t.context.$implicit.name)}))}function U(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,10,"div",[["class","form-control list-box"],["style","height: 300px; overflow: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,9,"mat-list",[["class","mat-list mat-list-base"]],null,null,null,A.d,A.a)),e.xb(2,704512,null,0,I.a,[e.k],null,null),(l()(),e.nb(16777216,null,0,1,null,L)),e.xb(4,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,0,5,null,K)),e.xb(6,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),e.Lb(7,2),e.Ob(8,2),e.Lb(9,2),e.Ob(10,2)],(function(l,t){var n=t.component;l(t,4,0,!n.searchTermAvailable);var a=e.Tb(t,6,0,l(t,10,0,e.Kb(t.parent,0),e.Tb(t,6,0,l(t,8,0,e.Kb(t.parent,1),n.checkboxList,l(t,7,0,"name",n.searchTermAvailable))),l(t,9,0,"text","ASC")));l(t,6,0,a)}),null)}function H(l){return e.Ub(0,[e.Mb(0,P.b,[]),e.Mb(0,P.a,[]),e.Qb(402653184,1,{availableSearchInput:0}),(l()(),e.yb(3,0,null,null,2,"div",[["style","float: right !important;"]],null,null,null,null,null)),(l()(),e.yb(4,0,null,null,1,"h3",[["class","h3 btn"]],null,[[null,"click"],[null,"blur"]],(function(l,t,n){var e=!0,a=l.component;return"click"===t&&(e=!1!==a.onClick()&&e),"blur"===t&&(e=!1!==a.onClick()&&e),e}),null,null)),(l()(),e.Sb(5,null,["",""])),(l()(),e.yb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.yb(8,0,null,null,5,"div",[],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Kb(l,9).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Kb(l,9).onReset()&&a),a}),null,null)),e.xb(9,540672,null,0,M.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Pb(2048,null,M.d,null,[M.k]),e.xb(11,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.nb(16777216,null,null,1,null,D)),e.xb(13,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(14,0,null,null,0,"div",[["class","kt-margin-10"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,U)),e.xb(16,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,9,0,n.checkboxForm),l(t,13,0,n.withFilterInput),l(t,16,0,n.toggleMerchantsList)}),(function(l,t){var n=t.component;l(t,5,0,n.checkedCount?n.checkedCount:"0"),l(t,8,0,e.Kb(t,11).ngClassUntouched,e.Kb(t,11).ngClassTouched,e.Kb(t,11).ngClassPristine,e.Kb(t,11).ngClassDirty,e.Kb(t,11).ngClassValid,e.Kb(t,11).ngClassInvalid,e.Kb(t,11).ngClassPending)}))}var F=n("BHnd"),B=n("y4qS"),V=n("pIm3"),G=n("Fzqc"),Q=n("dWZg"),z=n("hKgl"),J=function(){function l(){this.displayKpiBar=!1}return l.prototype.ngOnInit=function(){},l}(),q=e.wb({encapsulation:0,styles:[[".xls-col-header[_ngcontent-%COMP%]{color:var(--mep-color-base-shape-4);font-family:Roboto;font-size:1.1rem;font-weight:700}.xls-table-title[_ngcontent-%COMP%]{color:var(--mep-color-base-label-4);font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;font-size:1.3rem}.xls-table-desc[_ngcontent-%COMP%]{color:var(--mep-color-base-label-4);font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1rem}.xls-msg[_ngcontent-%COMP%]{color:rgba(var(--mep-color-base-label-3-rgb),.2)!important;font-family:var(--mep-bold-font-family)!important;font-weight:var(--mep-bold-font-weight)!important;font-style:var(--mep-bold-font-style)!important;font-size:2.2rem;line-height:57px;text-align:center}.kpi-key[_ngcontent-%COMP%], .kpi-row[_ngcontent-%COMP%]{height:40px;line-height:20px;padding:10px}.kpi-value[_ngcontent-%COMP%]{flex-grow:1;text-align:right;font-weight:500;font-size:1.1rem}  .mat-footer-row,   .mat-header-row,   .mat-row,   td.mat-cell,   td.mat-footer-cell,   th.mat-header-cell{border-bottom-color:rgba(var(--mep-color-base-shape-1-rgb),.5)}"]],data:{}});function W(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,10,"div",[],[[8,"className",0]],null,null,null,null)),(l()(),e.yb(1,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(2,0,null,null,2,"div",[["class","col-xl-6 col-md-6 col-sm-6 col-6"],["style","font-size: 1rem !important;"]],null,null,null,null,null)),(l()(),e.Sb(3,null,[" ",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(5,0,null,null,5,"div",[["class","col-xl-6 col-md-6 col-sm-6 col-6"],["style","font-size: 1rem !important;"]],null,null,null,null,null)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(7,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(8,{color:0}),(l()(),e.Sb(9,null,[" "," ",""])),e.Ob(10,2)],(function(l,t){var n=l(t,8,0,null==t.context.$implicit?null:t.context.$implicit.valueTextColor);l(t,7,0,n)}),(function(l,t){var n=t.component;l(t,0,0,e.Cb(2,"col-xl-",12/n.kpiRowData.length," col-md-",24/n.kpiRowData.length,"")),l(t,3,0,e.Tb(t,3,0,e.Kb(t,4).transform(null==t.context.$implicit?null:t.context.$implicit.key)));var a=t.context.$implicit.iscurrency?t.context.$implicit.currency:"",o=t.context.$implicit.iscurrency?e.Tb(t,9,1,l(t,10,0,e.Kb(t.parent.parent,0),t.context.$implicit.value,"1.2-2")):t.context.$implicit.value;l(t,9,0,a,o)}))}function $(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"div",[["class","kt-portlet-body"],["style","background-color: rgba(var(--mep-color-base-shape-1-rgb),0.2) !important; min-height: 40px !important;"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"div",[["class","row"],["style","min-height: 40px !important; line-height: 20px !important; padding: 10px!important;"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,W)),e.xb(3,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null)],(function(l,t){l(t,3,0,t.component.kpiRowData)}),null)}function j(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"mat-header-cell",[["class","xls-col-header mep-font-medium mat-header-cell"],["role","columnheader"]],null,null,null,null,null)),e.xb(1,16384,null,0,F.e,[B.d,e.k],null,null),(l()(),e.Sb(2,null,[" ","",". "])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform(t.parent.context.$implicit.label)),t.parent.context.$implicit.labelMark)}))}function Y(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,7,"mat-cell",[["class","mep-font-light mat-cell"],["role","gridcell"]],null,null,null,null,null)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(2,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(3,{color:0,"font-size":1}),e.xb(4,16384,null,0,F.a,[B.d,e.k],null,null),(l()(),e.Sb(5,null,[" "," "])),e.Ob(6,2),e.Ob(7,3)],(function(l,t){var n=l(t,3,0,t.parent.context.$implicit.fontColor,"1rem");l(t,2,0,n)}),(function(l,t){var n=t.parent.context.$implicit.iscurrency?e.Tb(t,5,0,l(t,7,0,e.Kb(t.parent.parent.parent,1),e.Tb(t,5,0,l(t,6,0,e.Kb(t.parent.parent.parent,0),t.context.$implicit[t.parent.context.$implicit.property],"1.2-2")),","," ")):t.context.$implicit[t.parent.context.$implicit.property];l(t,5,0,n)}))}function X(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,13,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,12,null,null,null,null,null,null,null)),e.Pb(6144,null,"MAT_SORT_HEADER_COLUMN_DEF",null,[F.c]),e.xb(3,16384,null,3,F.c,[],{name:[0,"name"]},null),e.Qb(603979776,5,{cell:0}),e.Qb(603979776,6,{headerCell:0}),e.Qb(603979776,7,{footerCell:0}),e.Pb(2048,[[1,4]],B.d,null,[F.c]),(l()(),e.nb(0,null,null,2,null,j)),e.xb(9,16384,null,0,F.f,[e.Q],null,null),e.Pb(2048,[[6,4]],B.j,null,[F.f]),(l()(),e.nb(0,null,null,2,null,Y)),e.xb(12,16384,null,0,F.b,[e.Q],null,null),e.Pb(2048,[[5,4]],B.b,null,[F.b])],(function(l,t){l(t,3,0,e.Cb(1,"",t.context.$implicit.def,""))}),null)}function Z(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"mat-header-row",[["class","mat-header-row"],["role","row"]],null,null,null,V.d,V.a)),e.Pb(6144,null,B.k,null,[F.g]),e.xb(2,49152,null,0,F.g,[],null,null)],null,null)}function ll(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"mat-row",[["class","mat-row"],["role","row"]],null,null,null,V.e,V.b)),e.Pb(6144,null,B.m,null,[F.i]),e.xb(2,49152,null,0,F.i,[],null,null)],null,null)}function tl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,15,"div",[["class","mat-table__wrapper"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,14,"mat-table",[["class","mat-table"]],null,null,null,V.f,V.c)),e.Pb(6144,null,B.o,null,[F.k]),e.xb(3,2342912,[["table",4]],4,F.k,[e.v,e.h,e.k,[8,null],[2,G.b],f.e,Q.a],{dataSource:[0,"dataSource"]},null),e.Qb(603979776,1,{_contentColumnDefs:1}),e.Qb(603979776,2,{_contentRowDefs:1}),e.Qb(603979776,3,{_contentHeaderRowDefs:1}),e.Qb(603979776,4,{_contentFooterRowDefs:1}),(l()(),e.nb(16777216,null,null,1,null,X)),e.xb(9,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.nb(0,null,null,2,null,Z)),e.xb(11,540672,null,0,F.h,[e.Q,e.v],{columns:[0,"columns"]},null),e.Pb(2048,[[3,4]],B.l,null,[F.h]),(l()(),e.nb(0,null,null,2,null,ll)),e.xb(14,540672,null,0,F.j,[e.Q,e.v],{columns:[0,"columns"]},null),e.Pb(2048,[[2,4]],B.n,null,[F.j])],(function(l,t){var n=t.component;l(t,3,0,null==n.tableData?null:n.tableData.datasource),l(t,9,0,null==n.tableData?null:n.tableData.columDatas),l(t,11,0,null==n.tableData?null:n.tableData.displayedColumns),l(t,14,0,null==n.tableData?null:n.tableData.displayedColumns)}),null)}function nl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"div",[["class","xls-msg"]],null,null,null,null,null)),(l()(),e.Sb(1,null,[" "," "])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){var n=t.component;l(t,1,0,e.Tb(t,1,0,e.Kb(t,2).transform(n.tableData.notFoundMessage)))}))}function el(l){return e.Ub(0,[e.Mb(0,f.g,[e.x]),e.Mb(0,z.a,[]),(l()(),e.yb(2,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.yb(3,0,null,null,2,"h4",[["class","kt-portlet__head-title xls-table-title"]],null,null,null,null,null)),(l()(),e.Sb(4,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(6,0,null,null,2,"p",[["class","xls-table-desc"]],null,null,null,null,null)),(l()(),e.Sb(7,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,$)),e.xb(10,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(11,0,null,null,0,"div",[["class","kt-space-40"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,tl)),e.xb(13,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,nl)),e.xb(15,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(16,0,null,null,0,"div",[["class","kt-space-40"]],null,null,null,null,null))],(function(l,t){var n=t.component;l(t,10,0,n.displayKpiBar),l(t,13,0,!(null!=n.tableData&&n.tableData.notFoundMessage)),l(t,15,0,null==n.tableData?null:n.tableData.notFoundMessage)}),(function(l,t){var n=t.component;l(t,4,0,e.Tb(t,4,0,e.Kb(t,5).transform(null==n.tableData?null:n.tableData.title))),l(t,7,0,e.Tb(t,7,0,e.Kb(t,8).transform(null==n.tableData?null:n.tableData.desc)))}))}var al=n("kaNc"),ol=n("DFCk"),rl=n("4GxJ"),il=new Date,ul=function(){function l(l){this.translate=l,this.placeholder="yyyy-mm-dd",this.todaySelected=!1,this.readonly=!1,this.required=!1,this.selectedDate=new e.n,this.months=["CALENDAR.SHORTMONTHS.JAN","CALENDAR.SHORTMONTHS.FEB","CALENDAR.SHORTMONTHS.MAR","CALENDAR.SHORTMONTHS.APR","CALENDAR.SHORTMONTHS.MAY","CALENDAR.SHORTMONTHS.JUN","CALENDAR.SHORTMONTHS.JUL","CALENDAR.SHORTMONTHS.AUG","CALENDAR.SHORTMONTHS.SEP","CALENDAR.SHORTMONTHS.OCT","CALENDAR.SHORTMONTHS.NOV","CALENDAR.SHORTMONTHS.DEC"]}return l.prototype.ngOnInit=function(){this.model={year:il.getFullYear(),month:il.getMonth()+1,day:il.getDate()},this.selectedDate.emit(this.model),this.placeholderString=this.placeholder,this.minDateObject=this.minDate,this.maxDateObject=this.maxDate},l.prototype.ngModelChange=function(l){l&&(this.isDateSelected=!0,this.selectedDate.emit(l))},l.prototype.ngOnChanges=function(){this.placeholderString=this.placeholder,this.maxDateObject=this.maxDate,this.minDateObject=this.minDate},l}(),sl=e.wb({encapsulation:0,styles:[[".h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary);font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem!important;line-height:24px;text-align:right}.ngb-dp-header[_ngcontent-%COMP%], .ngb-dp-months[_ngcontent-%COMP%]{width:inherit!important}"]],data:{}});function cl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,20,"form",[["novalidate",""],["style","float: right !important;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Kb(l,2).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Kb(l,2).onReset()&&a),a}),null,null)),e.xb(1,16384,null,0,M.H,[],null,null),e.xb(2,4210688,null,0,M.t,[[8,null],[8,null]],null,null),e.Pb(2048,null,M.d,null,[M.t]),e.xb(4,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.yb(5,0,null,null,15,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),e.yb(6,16777216,null,null,8,"input",[["class","mep-custome-datepicker form-control"],["name","dp"],["ngbDatepicker",""],["placement","bottom"]],[[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"focus"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,t,n){var a=!0,o=l.component;return"input"===t&&(a=!1!==e.Kb(l,8).manualDateChange(n.target.value)&&a),"change"===t&&(a=!1!==e.Kb(l,8).manualDateChange(n.target.value,!0)&&a),"focus"===t&&(a=!1!==e.Kb(l,8).onFocus()&&a),"blur"===t&&(a=!1!==e.Kb(l,8).onBlur()&&a),"input"===t&&(a=!1!==e.Kb(l,9)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Kb(l,9).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Kb(l,9)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Kb(l,9)._compositionEnd(n.target.value)&&a),"ngModelChange"===t&&(a=!1!==(o.model=n)&&a),"ngModelChange"===t&&(a=!1!==o.ngModelChange(n)&&a),a}),null,null)),e.Pb(512,null,rl.sb,rl.sb,[rl.i,rl.s]),e.xb(8,671744,[["d",4]],0,rl.C,[rl.p,e.k,e.T,e.I,e.j,e.D,rl.sb,rl.i,rl.o,f.e,e.h],{placement:[0,"placement"],positionTarget:[1,"positionTarget"]},null),e.xb(9,16384,null,0,M.e,[e.I,e.k,[2,M.a]],null,null),e.Pb(1024,null,M.o,(function(l){return[l]}),[rl.C]),e.Pb(1024,null,M.p,(function(l,t){return[l,t]}),[rl.C,M.e]),e.xb(12,671744,null,0,M.u,[[2,M.d],[6,M.o],[8,null],[6,M.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Pb(2048,null,M.q,null,[M.u]),e.xb(14,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.yb(15,0,null,null,5,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),e.yb(16,0,null,null,4,"h3",[["class","h3"]],null,[[null,"click"]],(function(l,t,n){var a=!0;return"click"===t&&(a=!1!==e.Kb(l,8).toggle()&&a),a}),null,null)),(l()(),e.yb(17,0,[["label1",1]],null,3,"div",[["class","h3"]],null,null,null,null,null)),e.xb(18,8536064,null,0,d.e,[d.l,e.k,e.h],{translate:[0,"translate"],translateParams:[1,"translateParams"]},null),e.Mb(131072,d.k,[d.l,e.h]),e.Nb(20,{month:0,day:1,year:2})],(function(l,t){var n=t.component;l(t,8,0,"bottom",e.Kb(t,17)),l(t,12,0,"dp",n.model);var a=l(t,20,0,e.Tb(t,18,1,e.Kb(t,19).transform(n.months[n.model.month-1])),n.model.day,n.model.year);l(t,18,0,"STATISTICS.TRANSACTIONSKPI.FILTERDATE",a)}),(function(l,t){l(t,0,0,e.Kb(t,4).ngClassUntouched,e.Kb(t,4).ngClassTouched,e.Kb(t,4).ngClassPristine,e.Kb(t,4).ngClassDirty,e.Kb(t,4).ngClassValid,e.Kb(t,4).ngClassInvalid,e.Kb(t,4).ngClassPending),l(t,6,0,e.Kb(t,8).disabled,e.Kb(t,14).ngClassUntouched,e.Kb(t,14).ngClassTouched,e.Kb(t,14).ngClassPristine,e.Kb(t,14).ngClassDirty,e.Kb(t,14).ngClassValid,e.Kb(t,14).ngClassInvalid,e.Kb(t,14).ngClassPending)}))}var bl=function(){function l(l){this.tenantConfigService=l}return l.prototype.ngOnInit=function(){this.data?this.rootKpi?(this.localData=this.data,this.localRootKpi=this.rootKpi):this.rootKpi={icon:"flaticon2-rocket",title:"Member Profit",desc:"Awerage Weekly Profit",value:0,valueClass:"mep-brand",isMonetory:!1}:this.data=[{icon:"flaticon2-rocket",title:"Member Profit",desc:"Awerage Weekly Profit",value:0,valueClass:"mep-brand",isMonetory:!0}]},l.prototype.ngOnChanges=function(){this.localData=this.data,this.localRootKpi=this.rootKpi},l}(),pl=n("OyqV"),ml=e.wb({encapsulation:0,styles:[[".h-1[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:3rem;line-height:49px}.kt-separator[_ngcontent-%COMP%]{height:0!important;margin:0;border-bottom:1px solid rgba(var(--mep-color-base-shape-1-rgb),.5)}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__info[_ngcontent-%COMP%]   .kt-widget4__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__info[_ngcontent-%COMP%]   .kt-widget4__text[_ngcontent-%COMP%]{font-size:1rem;margin:0;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important}.kt-widget4[_ngcontent-%COMP%]   .kt-widget4__item[_ngcontent-%COMP%]   .kt-widget4__icon[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{font-size:1.6rem;text-align:right;color:var(--mep-color-base-label-2)!important}"]],data:{}});function hl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),e.yb(1,16777216,null,null,2,null,null,null,null,null,null,null)),e.xb(2,540672,null,0,f.x,[e.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Nb(3,{item:0,isFirst:1,isLast:2}),(l()(),e.nb(0,null,null,0))],(function(l,t){var n=l(t,3,0,t.context.$implicit,t.context.first,t.context.last);l(t,2,0,n,e.Kb(t.parent,3))}),null)}function dl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,6,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"span",[["class","kt-widget4__title"],["style","font-size: 1.3rem !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(4,0,null,null,2,"p",[["class","kt-widget4__text"]],null,null,null,null,null)),(l()(),e.Sb(5,null,["",""])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){var n=t.component;l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform(n.rootKpi.title))),l(t,5,0,e.Tb(t,5,0,e.Kb(t,6).transform(n.rootKpi.desc)))}))}function yl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,3,"h1",[["class","h-1"]],null,null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(3,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Sb(4,null,[" "," ",""]))],(function(l,t){l(t,3,0,"h-1",t.component.rootKpi.valueClass)}),(function(l,t){var n=t.component;l(t,4,0,n.isMonetory?n.tenantConfigService.getProperty("paymentCurrency"):"",n.rootKpi.value)}))}function fl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,9,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"div",[["class","kt-widget4__item"],["style","border-bottom: none !important"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,dl)),e.xb(3,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(4,0,null,null,5,"div",[["class","kt-widget4__item"],["style","border-bottom: 1px solid rgba(var(--mep-color-base-shape-1-rgb),0.5);"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(6,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,yl)),e.xb(9,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.rootKpi),l(t,9,0,n.rootKpi)}),null)}function gl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"span",[["class","kt-widget4__icon"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"i",[],null,null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(3,278528,null,0,f.o,[f.J],{ngClass:[0,"ngClass"]},null)],(function(l,t){l(t,3,0,t.parent.context.item.icon)}),null)}function Cl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"p",[["class","kt-widget4__text"]],null,null,null,null,null)),(l()(),e.Sb(1,null,["",""])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,1,0,e.Tb(t,1,0,e.Kb(t,2).transform(t.parent.parent.context.item.desc)))}))}function Tl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,5,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"span",[["class","kt-widget4__title"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Cl)),e.xb(5,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){l(t,5,0,t.parent.context.item.desc)}),(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform(t.parent.context.item.title)))}))}function Sl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,0,"div",[["class","kt-separator"]],null,null,null,null,null))],null,null)}function vl(l){return e.Ub(0,[(l()(),e.nb(16777216,null,null,1,null,fl)),e.xb(1,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(2,0,null,null,7,"div",[["class","kt-widget4__item"],["style","border-bottom: 1px solid rgba(var(--mep-color-base-shape-1-rgb),0.5);"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,gl)),e.xb(4,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,Tl)),e.xb(6,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(7,16777216,null,null,2,null,null,null,null,null,null,null)),e.xb(8,540672,null,0,f.x,[e.T],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),e.Nb(9,{item:0}),(l()(),e.nb(16777216,null,null,1,null,Sl)),e.xb(11,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(0,null,null,0))],(function(l,t){var n=t.component;l(t,1,0,t.context.isFirst),l(t,4,0,t.context.item.icon),l(t,6,0,t.context.item.desc&&t.context.item.title);var e=l(t,9,0,t.context.item);l(t,8,0,e,n.actionTemplate),l(t,11,0,t.context.isLast)}),null)}function Ml(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"div",[["class","kt-widget4"]],null,null,null,null,null)),(l()(),e.nb(16777216,null,null,1,null,hl)),e.xb(2,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),(l()(),e.nb(0,[["itemTemplate",2]],null,0,null,vl))],(function(l,t){l(t,2,0,t.component.data)}),null)}var Al=n("ldvh"),Il=n("EDgs"),xl=function(){function l(l,t,n,e,a,o){this.campaingApiService=l,this.merchantApiService=t,this.dateUtil=n,this.tenantConfigService=e,this.translate=a,this.toastr=o,this.breadcrumbItems=["STATISTICS.TRANSACTIONSKPI.BREADCRUMB.STRING1","STATISTICS.TRANSACTIONSKPI.BREADCRUMB.STRING2"],this.corporateMerchants=[],this.selectedMerchantsList=[],this.corporateMerchantsStatisticsMap=new Map,this.tableDataSource=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}return l.prototype.ngOnInit=function(){var l=this;this.rootKpi1={icon:"flaticon2-rocket",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.VISITS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.VISITS",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.TOTALNUMBEROFVISITS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.TOTALNUMBEROFVISITS",value:0,valueClass:"mep-success-fixed",isMonetory:!1},this.kpiData1=[{icon:"fa fa-user",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.VISITORS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.VISITORS",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.NUMBEROFUNIQUECUSTOMERS":"STATISTICS.TRANSACTIONSKPI.CORPORATE.NUMBEROFUNIQUECUSTOMERS",value:0,valueClass:"mep-primary-fixed",isMonetory:!1}],this.rootKpi2={icon:"flaticon2-rocket",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.REVENUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.REVENUE",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.TOTALREVENUEFORPERIOD":"STATISTICS.TRANSACTIONSKPI.CORPORATE.TOTALREVENUEFORPERIOD",value:0,isMonetory:!0,valueClass:"mep-primary-fixed"},this.kpiData2=[{icon:"la la-angle-up",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MAXSPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MAXSPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.HIGHBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.HIGHBASKETVALUE",value:0,valueClass:"mep-success-fixed",isMonetory:!0},{icon:"la la-minus",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.AVESPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.AVESPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.AVGBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.AVGBASKETVALUE",value:0,valueClass:"mep-yellow-fixed",isMonetory:!0},{icon:"la la-angle-down",title:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MINSPENT":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MINSPENT",desc:this.tenantConfigService.isMerchant()?"STATISTICS.TRANSACTIONSKPI.MERCHANT.MINBASKETVALUE":"STATISTICS.TRANSACTIONSKPI.CORPORATE.MINBASKETVALUE",value:0,valueClass:"mep-orange-fixed",isMonetory:!0}],this.tenantConfigService.isCorporate()&&this.merchantApiService.getCorporateMerchants(this.tenantConfigService,Il.c.WITH_DEVICE).subscribe((function(t){t.body&&(console.log(t.body),l.parseCorporateMerchantsToListData(t.body.merchants))}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.kpiRowValue={maxspend:0,minspend:0,revenue:0,visits:0},this.tableData=this.prepareMerchantStatisticTableData()},l.prototype.convertWidgetDate=function(l){this.rootKpi1.value=l?l.numberOfTransactions:0,this.kpiData1[0].value=l?l.numberOfCustomerTransacted:0,this.rootKpi2.value=l?l.totalPurchaseAmount:0,this.kpiData2[0].value=l?Math.round(100*l.maximumPurchaseAmount)/100:0,this.kpiData2[1].value=l?Math.round(100*l.averagePurchaseAmount)/100:0,this.kpiData2[2].value=l?Math.round(100*l.minimumPurchaseAmount)/100:0},l.prototype.eventFilterDateHandler=function(l){var t=this,n=new Date(l.year,l.month-1,l.day);this.selectedDate=new Date(l.year,l.month-1,l.day);var e=this.dateUtil.formatNgDateStruct(this.dateUtil.convertJsDateToNgDateStruct(n),"yyyy-MM-dd");this.merchantApiService.getEntityStatisticsWithFilterDate(e.toString(),e.toString(),"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe((function(l){l.body&&t.convertWidgetDate(l.body.statistics[0])}),(function(l){console.log("in error"),console.log(l),t.toastr.error(t.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_KPI"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.tenantConfigService.isCorporate()&&this.merchantApiService.getEntityStatisticsWithFilterDate(e,e,"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe((function(l){var e,a,o,r,i,u,s,c;if(l.body){console.log(l.body);var b=t.getDateArray(n,n),p={numberOfCustomerTransacted:0,averagePurchaseAmount:0,maximumPurchaseAmount:0,minimumPurchaseAmount:0,numberOfRefundedTransactions:0,numberOfTransactions:0,totalPurchaseAmount:0,totalRefundedPurchaseAmount:0};try{for(var m=E.__values(t.corporateMerchants),h=m.next();!h.done;h=m.next()){var d=h.value,y=new Map;try{for(var f=(o=void 0,E.__values(b)),g=f.next();!g.done;g=f.next()){var C=g.value,T={statistics:p,rollUpSlice:t.dateUtil.formatJsDate(C,"yyyy-MM-dd")};y.set(t.dateUtil.formatJsDate(C,"yyyy-MM-dd"),T)}}catch(x){o={error:x}}finally{try{g&&!g.done&&(r=f.return)&&r.call(f)}finally{if(o)throw o.error}}t.corporateMerchantsStatisticsMap.set(d.value,y)}}catch(k){e={error:k}}finally{try{h&&!h.done&&(a=m.return)&&a.call(m)}finally{if(e)throw e.error}}try{for(var S=E.__values(l.body.statistics),v=S.next();!v.done;v=S.next()){var M=v.value;try{for(var A=(s=void 0,E.__values(M.merchantStatistics)),I=A.next();!I.done;I=A.next())t.corporateMerchantsStatisticsMap=t.parseMerchantStatisticsRespectToCorpMerchants(t.corporateMerchantsStatisticsMap,I.value)}catch(R){s={error:R}}finally{try{I&&!I.done&&(c=A.return)&&c.call(A)}finally{if(s)throw s.error}}}}catch(O){i={error:O}}finally{try{v&&!v.done&&(u=S.return)&&u.call(S)}finally{if(i)throw i.error}}console.log(t.corporateMerchantsStatisticsMap),t.convertMerchantStatisticsData(n,t.corporateMerchantsStatisticsMap)}}),(function(l){console.log("in error"),console.log(l)}))},l.prototype.selectedFilterDate=function(l){var t=this,n=new Date(l),e=this.dateUtil.formatNgDateStruct(this.dateUtil.convertJsDateToNgDateStruct(n),"yyyyMMdd");this.merchantApiService.getEntityStatisticsWithFilterDate(e.toString(),e.toString(),"Per Day",this.tenantConfigService.getProperty("userType"),"Merchant").subscribe((function(l){l.body&&t.convertWidgetDate(l.body.statistics[0])}),(function(l){console.log("in error"),console.log(l)}))},l.prototype.parseCorporateMerchantsToListData=function(l){var t,n;this.corporateMerchants=[];try{for(var e=E.__values(l),a=e.next();!a.done;a=e.next()){var o=a.value;this.corporateMerchants.push({name:o.name,value:o.merchantId,disabled:!1,checked:!1,labelPosition:"after"})}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.corporateMerchants.sort((function(l,t){return l.name.localeCompare(t.name)}))},l.prototype.selectedMerchants=function(l){this.selectedMerchantsList=[],l.length>0&&(this.selectedMerchantsList=l),this.convertMerchantStatisticsData(this.selectedDate,this.corporateMerchantsStatisticsMap)},l.prototype.getDateArray=function(l,t){for(var n=new Array,e=new Date(l);e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n},l.prototype.parseMerchantStatisticsRespectToCorpMerchants=function(l,t){console.log(t);var n=t.statistics,e=l.get(t.merchantId);return e.forEach((function(l,t){t===n.rollUpSlice&&(l.statistics=n,e.set(t,{rollUpSplice:t,statistics:n}))})),l.set(t.merchantId,e),l},l.prototype.convertMerchantStatisticsData=function(l,t){var n=this;this.kpiRowValue={maxspend:0,minspend:Number.MAX_SAFE_INTEGER,revenue:0,visits:0},console.log(t),this.tableDataSource=[],t.forEach((function(e,a){var o,r;try{for(var i=E.__values(n.selectedMerchantsList),u=i.next();!u.done;u=i.next()){var s=u.value;if(a===s.value){var c=t.get(a).get(n.dateUtil.formatJsDate(l,"yyyy-MM-dd"));n.kpiRowValue.maxspend=n.kpiRowValue.maxspend<=c.statistics.maximumPurchaseAmount?c.statistics.maximumPurchaseAmount:n.kpiRowValue.maxspend,n.kpiRowValue.minspend=n.kpiRowValue.minspend>=c.statistics.minimumPurchaseAmount?c.statistics.minimumPurchaseAmount:n.kpiRowValue.minspend,n.kpiRowValue.revenue+=c.statistics.totalPurchaseAmount,n.kpiRowValue.visits+=c.statistics.numberOfTransactions,n.tableDataSource.push({name:s.name,avgspent:c.statistics.averagePurchaseAmount,maxspent:c.statistics.maximumPurchaseAmount,minspent:c.statistics.minimumPurchaseAmount,revenue:c.statistics.totalPurchaseAmount,visitors:c.statistics.numberOfCustomerTransacted,visits:c.statistics.numberOfTransactions})}}}catch(b){o={error:b}}finally{try{u&&!u.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}})),this.tableData=this.prepareMerchantStatisticTableData()},l.prototype.prepareMerchantStatisticTableData=function(){return this.displayKpiBar=this.selectedMerchantsList.length>0,this.kpiRowData=[{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITS",value:this.kpiRowValue.visits,keyTexyColor:"",valueTextColor:"#34BFA3"},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.REVENUE",value:this.kpiRowValue.revenue,keyTexyColor:"",valueTextColor:"#007BFF",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MINSPENT",value:this.kpiRowValue.minspend,keyTexyColor:"black",valueTextColor:"#71C595",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")},{key:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MAXSPENT",value:this.kpiRowValue.maxspend,keyTexyColor:"black",valueTextColor:"#FFA74A",iscurrency:!0,currency:this.tenantConfigService.getProperty("paymentCurrency")}],{title:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.TITLE",desc:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.DESC",notFoundMessage:this.getMerchantStatisticsNoDataMessage(),datasource:this.tableDataSource,displayedColumns:["name","visits","visitors","revenue","avgspent","minspent","maxspent"],columDatas:[{def:"name",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.NAME",property:"name",fontColor:"",iscurrency:!1},{def:"revenue",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.REVENUE",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"revenue",fontColor:"#007BFF",iscurrency:!0},{def:"maxspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MAXSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"maxspent",fontColor:"#28A75F",iscurrency:!0},{def:"minspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.MINSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"minspent",fontColor:"#FF8707",iscurrency:!0},{def:"avgspent",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.AVGSPENT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"avgspent",fontColor:"#FDC414",iscurrency:!0},{def:"visits",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITS",property:"visits",fontColor:"#34BFA3",iscurrency:!1},{def:"visitors",label:"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.COLUMNS.VISITORS",property:"visitors",fontColor:"#D31C6A",iscurrency:!1}]}},l.prototype.getMerchantStatisticsNoDataMessage=function(){return this.selectedMerchantsList.length<=0?"STATISTICS.TRANSACTIONSKPI.CORPORATE.MERCHANTSTATISTICSTABLE.NOMERCHANTSELECTED":void 0},l}(),kl=n("bVRQ"),Rl=n("5kXN"),Ol=n("kivV"),Pl=n("SZbH"),El=e.wb({encapsulation:0,styles:[["[_nghost-%COMP%]     ngb-tabset>.nav-tabs{display:none}.kt-portlet--height-fluid[_ngcontent-%COMP%]{height:auto!important}.dropdown-menu[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{left:3opx!important}"]],data:{}});function _l(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(4,0,null,null,21,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(7,{height:0}),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"],["style"," font-size: 1rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(15,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),H,w)),e.xb(25,49152,null,0,_,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Kb(t,10).classList),l(t,15,0,e.Tb(t,15,0,e.Kb(t,16).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function wl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,4,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Sb(3,null,[""," ",""])),e.Ob(4,2)],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){var n=t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",a=t.context.item.isMonetory?e.Tb(t,3,1,l(t,4,0,e.Kb(t.parent,0),t.context.item.value,"1.2-2")):t.context.item.value;l(t,3,0,n,a)}))}function Nl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,4,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Sb(3,null,[" "," ",""])),e.Ob(4,2)],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){var n=t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",a=t.context.item.isMonetory?e.Tb(t,3,1,l(t,4,0,e.Kb(t.parent,0),t.context.item.value,"1.2-2")):t.context.item.value;l(t,3,0,n,a)}))}function Dl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,6,"div",[["class","col-xl-12"],["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(2,0,null,null,5,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(3,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(4,0,null,0,3,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(5,114688,null,0,v.a,[],null,null),(l()(),e.yb(6,0,null,0,1,"xls-custom-mat-table",[],null,null,null,el,q)),e.xb(7,114688,null,0,J,[],{tableData:[0,"tableData"],kpiRowData:[1,"kpiRowData"],displayKpiBar:[2,"displayKpiBar"]},null)],(function(l,t){var n=t.component;l(t,3,0,"kt-portlet--height-fluid"),l(t,5,0),l(t,7,0,n.tableData,n.kpiRowData,n.displayKpiBar)}),(function(l,t){l(t,4,0,e.Kb(t,5).classList)}))}function Ll(l){return e.Ub(0,[e.Mb(0,f.g,[e.x]),(l()(),e.yb(1,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,al.b,al.a)),e.xb(2,114688,null,0,ol.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.yb(3,0,null,null,56,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(4,0,null,null,27,"div",[["class","col-xl-3"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(6,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(8,0,null,null,21,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(9,0,null,null,20,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(11,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(12,{height:0}),e.xb(13,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(14,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(15,114688,null,0,v.a,[],null,null),(l()(),e.yb(16,0,null,0,13,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(17,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(18,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(19,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"],["style"," font-size: 1rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(20,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(22,0,null,null,7,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(23,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(24,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(25,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(26,0,null,null,3,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(27,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(28,0,null,null,1,"xls-customdatepicker",[],null,[[null,"selectedDate"]],(function(l,t,n){var e=!0;return"selectedDate"===t&&(e=!1!==l.component.eventFilterDateHandler(n)&&e),e}),cl,sl)),e.xb(29,638976,null,0,ul,[d.l],null,{selectedDate:"selectedDate"}),(l()(),e.nb(16777216,null,null,1,null,_l)),e.xb(31,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(32,0,null,null,27,"diV",[["class","col-xl-9"]],null,null,null,null,null)),(l()(),e.yb(33,0,null,null,24,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(34,0,null,null,11,"div",[["class","col-xl-5"]],null,null,null,null,null)),(l()(),e.yb(35,0,null,null,10,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(37,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(38,{height:0}),e.xb(39,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(40,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(41,114688,null,0,v.a,[],null,null),(l()(),e.yb(42,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,Ml,ml)),e.xb(43,638976,null,1,bl,[pl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Qb(335544320,1,{actionTemplate:0}),(l()(),e.nb(0,[[1,2],["actionTemplate",2]],null,0,null,wl)),(l()(),e.yb(46,0,null,null,11,"div",[["class","col-xl-7"]],null,null,null,null,null)),(l()(),e.yb(47,0,null,null,10,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(49,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(50,{height:0}),e.xb(51,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(52,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(53,114688,null,0,v.a,[],null,null),(l()(),e.yb(54,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,Ml,ml)),e.xb(55,638976,null,1,bl,[pl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Qb(335544320,2,{actionTemplate:0}),(l()(),e.nb(0,[[2,2],["actionTemplate",2]],null,0,null,Nl)),(l()(),e.nb(16777216,null,null,1,null,Dl)),e.xb(59,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,2,0,n.breadcrumbItems,n.breadCrumbTextColor);var e=l(t,12,0,"auto");l(t,11,0,e),l(t,13,0,"kt-portlet--height-fluid"),l(t,15,0),l(t,29,0),l(t,31,0,n.tenantConfigService.isCorporate());var a=l(t,38,0,"auto");l(t,37,0,a),l(t,39,0,"kt-portlet--height-fluid"),l(t,41,0),l(t,43,0,!1,n.rootKpi1,n.kpiData1);var o=l(t,50,0,"auto");l(t,49,0,o),l(t,51,0,"kt-portlet--height-fluid"),l(t,53,0),l(t,55,0,!0,n.rootKpi2,n.kpiData2),l(t,59,0,n.tenantConfigService.isCorporate())}),(function(l,t){l(t,6,0,e.Tb(t,6,0,e.Kb(t,7).transform("STATISTICS.TRANSACTIONSKPI.DATE"))),l(t,14,0,e.Kb(t,15).classList),l(t,20,0,e.Tb(t,20,0,e.Kb(t,21).transform("STATISTICS.TRANSACTIONSKPI.SELECTDATE"))),l(t,40,0,e.Kb(t,41).classList),l(t,52,0,e.Kb(t,53).classList)}))}function Kl(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"xls-transactions-kpis",[],null,null,null,Ll,El)),e.xb(1,114688,null,0,xl,[kl.a,Rl.a,Ol.a,pl.a,d.l,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Ul=e.ub("xls-transactions-kpis",xl,Kl,{},{},[]),Hl=n("MlvX"),Fl=n("Wf4p"),Bl=n("dJrM"),Vl=n("seP3"),Gl=n("Mr+X"),Ql=n("SMsm"),zl=n("4tE/"),Jl=n("eDkP"),ql=n("qAlS"),Wl=n("b716"),$l=n("/VYK"),jl=n("ZYjt"),Yl=n("4c35"),Xl=e.wb({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}});function Zl(l){return e.Ub(0,[(l()(),e.yb(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Jb(null,0)],(function(l,t){l(t,2,0,"mat-autocomplete-panel",t.component._classList)}),(function(l,t){l(t,0,0,t.component.id)}))}function lt(l){return e.Ub(2,[e.Qb(402653184,1,{template:0}),e.Qb(671088640,2,{panel:0}),(l()(),e.nb(0,[[1,2]],null,0,null,Zl))],null,null)}var tt=n("p0Sj"),nt=n("67Y/"),et=function(){function l(l){this.fb=l,this.selectedEntity=new e.n,this.styleAfterClicked={display:"none"},this.campaignGroup=new M.h,this.stateGroups=[{status:"Active",names:[{name:"Camapign 1",id:"1"},{name:"Camapign 2",id:"1"},{name:"Camapign 3",id:"1"}]},{status:"Expired",names:[{name:"Camapign 4",id:"1"},{name:"Camapign 5",id:"1"},{name:"Camapign 6",id:"1"}]},{status:"Deleted",names:[{name:"Camapign 7",id:"1"},{name:"Camapign 8",id:"1"},{name:"Camapign 9",id:"1"}]}],this.stateForm=this.fb.group({stateGroup:"",clicked:!1}),this.selectedItemString="None"}return l.prototype.ngOnInit=function(){var l=this;this.entityGroup||(this.entityGroup=[{status:"Active",names:[{name:"Camapign 1",id:"1"},{name:"Camapign 2",id:"1"},{name:"Camapign 3",id:"1"}]},{status:"Expired",names:[{name:"Camapign 4",id:"1"},{name:"Camapign 5",id:"1"},{name:"Camapign 6",id:"1"}]},{status:"Deleted",names:[{name:"Camapign 7",id:"1"},{name:"Camapign 8",id:"1"},{name:"Camapign 9",id:"1"}]}],this.styleAfterClicked={display:"none"}),this.stateGroupOptions=this.stateForm.get("stateGroup").valueChanges.pipe(Object(tt.a)(""),Object(nt.a)((function(t){return l.filterGroup(t)})))},l.prototype.filterGroup=function(l){var t=this;return l?this.entityGroup.map((function(n){return{status:n.status,names:t._filter(n.names,l)}})).filter((function(l){return l.names.length>0})):this.entityGroup},l.prototype._filter=function(l,t){var n=t;return"string"==typeof n?l.filter((function(l){return l.name.toLowerCase().startsWith(n.toLowerCase())})):l},l.prototype.selectedItem=function(l){this.selectedItemString=l.option.value.name,this.selectedEntity.emit(l.option.value),this.stateForm.controls.clicked.setValue(!1),this.stateForm.controls.stateGroup.setValue(""),this.styleAfterClicked={display:"none"}},l.prototype.onCampaignLabelClick=function(){var l=this;console.log("button clicked: "+this.stateForm.controls.clicked.value),console.log(this.autocomplete),this.stateForm.controls.clicked.value?(this.styleAfterClicked={display:"block"},setTimeout((function(){l.autocomplete.nativeElement.focus()}),1)):this.styleAfterClicked={display:"none"}},l.prototype.onBlur=function(){this.styleAfterClicked={display:"none"}},l}(),at=e.wb({encapsulation:0,styles:[[".h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;font-size:1.6rem;line-height:24px;text-align:right;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}  .mat-autocomplete-panel mat-option{height:35px}  .mat-form-field-appearance-outline:active .mat-form-field-outline{border:.5px!important}  .mat-autocomplete-panel.extended{max-height:300px;max-width:550px}  .mat-autocomplete-panel.extended::-webkit-scrollbar{width:.5em;height:.5em}  .mat-autocomplete-panel.extended::-webkit-scrollbar-button{background:#ccc}  .mat-autocomplete-panel.extended::-webkit-scrollbar-track-piece{background:#b4b4b4}  .mat-autocomplete-panel.extended::-webkit-scrollbar-thumb{background:#c9c9c9}  .mat-option-text{font-size:14px}.mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-done[_ngcontent-%COMP%], .mat-step-header[_ngcontent-%COMP%]   .mat-step-icon-state-edit[_ngcontent-%COMP%],   .mat-step-header .mat-step-icon-selected{background-color:#d3d3d3!important}  .mat-form-field-appearance-outline .mat-form-field-outline{color:#d3d3d3!important}  .mat-input-element{caret-color:#d3d3d3!important}.mat-warn[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%],   .mat-form-field-invalid .mat-input-element{caret-color:#d3d3d3!important}  .mat-form-field-label{color:rgba(0,0,0,.6)!important}  .mat-form-field.mat-focused .mat-form-field-label{color:#d3d3d3!important}  .mat-form-field.mat-form-field-invalid .mat-form-field-label{color:#d3d3d3!important}.icon-flipped[_ngcontent-%COMP%]{transform:scaleX(-1)}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thik{color:#00f!important}"]],data:{}});function ot(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"span",[["class","btn btn-label-success btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Sb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function rt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"span",[["class","btn btn-label-warning btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Sb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function it(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"span",[["class","btn btn-label-danger btn-bold campaign-status"]],null,null,null,null,null)),(l()(),e.Sb(1,null,[" ",""]))],null,(function(l,t){l(t,1,0,t.parent.context.$implicit.status)}))}function ut(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,t,n){var a=!0;return"click"===t&&(a=!1!==e.Kb(l,1)._selectViaInteraction()&&a),"keydown"===t&&(a=!1!==e.Kb(l,1)._handleKeydown(n)&&a),a}),Hl.e,Hl.b)),e.xb(1,8568832,[[12,4]],0,Fl.r,[e.k,e.h,[2,Fl.l],[2,Fl.q]],{value:[0,"value"]},null),(l()(),e.Sb(2,0,[" "," "]))],(function(l,t){l(t,1,0,t.context.$implicit)}),(function(l,t){l(t,0,0,e.Kb(t,1)._getTabIndex(),e.Kb(t,1).selected,e.Kb(t,1).multiple,e.Kb(t,1).active,e.Kb(t,1).id,e.Kb(t,1)._getAriaSelected(),e.Kb(t,1).disabled.toString(),e.Kb(t,1).disabled),l(t,2,0,t.context.$implicit.name)}))}function st(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,9,"mat-optgroup",[["class","mat-optgroup"],["role","group"]],[[2,"mat-optgroup-disabled",null],[1,"aria-disabled",0],[1,"aria-labelledby",0]],null,null,Hl.d,Hl.a)),e.xb(1,49152,[[13,4]],0,Fl.q,[],null,null),(l()(),e.nb(16777216,null,0,1,null,ot)),e.xb(3,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,0,1,null,rt)),e.xb(5,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,0,1,null,it)),e.xb(7,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,1,1,null,ut)),e.xb(9,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null)],(function(l,t){l(t,3,0,"Assigned"===t.context.$implicit.status),l(t,5,0,"Expired"===t.context.$implicit.status),l(t,7,0,"Deleted"===t.context.$implicit.status),l(t,9,0,t.context.$implicit.names)}),(function(l,t){l(t,0,0,e.Kb(t,1).disabled,e.Kb(t,1).disabled.toString(),e.Kb(t,1)._labelId)}))}function ct(l){return e.Ub(0,[e.Qb(402653184,1,{autocompleteInput:0}),e.Qb(402653184,2,{autocomplete:0}),(l()(),e.yb(2,0,null,null,51,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,t,n){var a=!0;return"submit"===t&&(a=!1!==e.Kb(l,4).onSubmit(n)&&a),"reset"===t&&(a=!1!==e.Kb(l,4).onReset()&&a),a}),null,null)),e.xb(3,16384,null,0,M.H,[],null,null),e.xb(4,540672,null,0,M.k,[[8,null],[8,null]],{form:[0,"form"]},null),e.Pb(2048,null,M.d,null,[M.k]),e.xb(6,16384,null,0,M.s,[[4,M.d]],null,null),(l()(),e.yb(7,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e.yb(8,0,null,null,10,"div",[["class","btn-group-toggle"]],null,null,null,null,null)),(l()(),e.yb(9,0,null,null,9,"label",[["class","h3"],["ngbButtonLabel",""]],[[2,"btn",null],[2,"active",null],[2,"disabled",null],[2,"focus",null]],null,null,null,null)),e.xb(10,16384,null,0,rl.g,[],null,null),(l()(),e.Sb(11,null,[" "," "])),(l()(),e.yb(12,0,null,null,6,"input",[["formControlName","clicked"],["ngbButton",""],["type","checkbox"]],[[8,"checked",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"],[null,"change"],[null,"focus"],[null,"blur"]],(function(l,t,n){var a=!0,o=l.component;return"change"===t&&(a=!1!==e.Kb(l,13).onInputChange(n)&&a),"focus"===t&&(a=0!=(e.Kb(l,13).focused=!0)&&a),"blur"===t&&(a=0!=(e.Kb(l,13).focused=!1)&&a),"change"===t&&(a=!1!==e.Kb(l,14).onChange(n.target.checked)&&a),"blur"===t&&(a=!1!==e.Kb(l,14).onTouched()&&a),"ngModelChange"===t&&(a=!1!==(o.labelClicked=n)&&a),"click"===t&&(a=!1!==o.onCampaignLabelClick()&&a),"change"===t&&(a=!1!==o.onCampaignLabelClick()&&a),a}),null,null)),e.xb(13,16384,null,0,rl.m,[rl.g,e.h],null,null),e.xb(14,16384,null,0,M.b,[e.I,e.k],null,null),e.Pb(1024,null,M.p,(function(l,t){return[l,t]}),[rl.m,M.b]),e.xb(16,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Pb(2048,null,M.q,null,[M.i]),e.xb(18,16384,null,0,M.r,[[4,M.q]],null,null),(l()(),e.yb(19,0,null,null,34,"div",[["class","custom-mat-scroll"]],null,null,null,null,null)),(l()(),e.yb(20,0,null,null,33,"mat-form-field",[["appearance","outline"],["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,Bl.b,Bl.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(22,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.xb(23,7520256,null,9,Vl.c,[e.k,e.h,[2,Fl.j],[2,G.b],[2,Vl.a],Q.a,e.D,[2,O.a]],{appearance:[0,"appearance"]},null),e.Qb(603979776,3,{_controlNonStatic:0}),e.Qb(335544320,4,{_controlStatic:0}),e.Qb(603979776,5,{_labelChildNonStatic:0}),e.Qb(335544320,6,{_labelChildStatic:0}),e.Qb(603979776,7,{_placeholderChild:0}),e.Qb(603979776,8,{_errorChildren:1}),e.Qb(603979776,9,{_hintChildren:1}),e.Qb(603979776,10,{_prefixChildren:1}),e.Qb(603979776,11,{_suffixChildren:1}),(l()(),e.yb(33,0,null,0,3,"mat-icon",[["class","icon-flipped mat-icon notranslate"],["matPrefix",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,Gl.b,Gl.a)),e.xb(34,16384,[[10,4]],0,Vl.g,[],null,null),e.xb(35,9158656,null,0,Ql.b,[e.k,Ql.d,[8,null],[2,Ql.a],[2,e.m]],null,null),(l()(),e.Sb(-1,0,["search"])),(l()(),e.yb(37,16777216,[[2,0],["autocomplete",1]],1,8,"input",[["class","mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["formControlName","stateGroup"],["matInput",""],["type","text"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(l,t,n){var a=!0,o=l.component;return"input"===t&&(a=!1!==e.Kb(l,38)._handleInput(n.target.value)&&a),"blur"===t&&(a=!1!==e.Kb(l,38).onTouched()&&a),"compositionstart"===t&&(a=!1!==e.Kb(l,38)._compositionStart()&&a),"compositionend"===t&&(a=!1!==e.Kb(l,38)._compositionEnd(n.target.value)&&a),"focusin"===t&&(a=!1!==e.Kb(l,39)._handleFocus()&&a),"blur"===t&&(a=!1!==e.Kb(l,39)._onTouched()&&a),"input"===t&&(a=!1!==e.Kb(l,39)._handleInput(n)&&a),"keydown"===t&&(a=!1!==e.Kb(l,39)._handleKeydown(n)&&a),"blur"===t&&(a=!1!==e.Kb(l,44)._focusChanged(!1)&&a),"focus"===t&&(a=!1!==e.Kb(l,44)._focusChanged(!0)&&a),"input"===t&&(a=!1!==e.Kb(l,44)._onInput()&&a),"blur"===t&&(a=!1!==o.onBlur()&&a),a}),null,null)),e.xb(38,16384,null,0,M.e,[e.I,e.k,[2,M.a]],null,null),e.xb(39,4866048,null,0,zl.f,[e.k,Jl.c,e.T,e.D,e.h,zl.b,[2,G.b],[2,Vl.c],[2,f.e],ql.d],{autocomplete:[0,"autocomplete"]},null),e.Pb(1024,null,M.p,(function(l,t){return[l,t]}),[M.e,zl.f]),e.xb(41,671744,null,0,M.i,[[3,M.d],[8,null],[8,null],[6,M.p],[2,M.F]],{name:[0,"name"]},null),e.Pb(2048,null,M.q,null,[M.i]),e.xb(43,16384,null,0,M.r,[[4,M.q]],null,null),e.xb(44,999424,null,0,Wl.a,[e.k,Q.a,[6,M.q],[2,M.t],[2,M.k],Fl.d,[8,null],$l.a,e.D],{type:[0,"type"]},null),e.Pb(2048,[[3,4],[4,4]],Vl.d,null,[Wl.a]),(l()(),e.yb(46,0,null,1,7,"mat-autocomplete",[["class","extended mat-autocomplete"]],null,[[null,"optionSelected"]],(function(l,t,n){var e=!0;return"optionSelected"===t&&(e=!1!==l.component.selectedItem(n)&&e),e}),lt,Xl)),e.Pb(6144,null,Fl.l,null,[zl.d]),e.xb(48,1097728,[["autoGroup",4]],2,zl.d,[e.h,e.k,zl.a],{classList:[0,"classList"]},{optionSelected:"optionSelected"}),e.Qb(603979776,12,{options:1}),e.Qb(603979776,13,{optionGroups:1}),(l()(),e.nb(16777216,null,0,2,null,st)),e.xb(52,278528,null,0,f.p,[e.T,e.Q,e.v],{ngForOf:[0,"ngForOf"]},null),e.Mb(131072,f.b,[e.h])],(function(l,t){var n=t.component;l(t,4,0,n.stateForm),l(t,16,0,"clicked",n.labelClicked),l(t,22,0,n.styleAfterClicked),l(t,23,0,"outline"),l(t,35,0),l(t,39,0,e.Kb(t,48)),l(t,41,0,"stateGroup"),l(t,44,0,"text"),l(t,48,0,"extended"),l(t,52,0,e.Tb(t,52,0,e.Kb(t,53).transform(n.stateGroupOptions)))}),(function(l,t){var n=t.component;l(t,2,0,e.Kb(t,6).ngClassUntouched,e.Kb(t,6).ngClassTouched,e.Kb(t,6).ngClassPristine,e.Kb(t,6).ngClassDirty,e.Kb(t,6).ngClassValid,e.Kb(t,6).ngClassInvalid,e.Kb(t,6).ngClassPending),l(t,9,0,!0,e.Kb(t,10).active,e.Kb(t,10).disabled,e.Kb(t,10).focused),l(t,11,0,n.selectedItemString),l(t,12,0,e.Kb(t,13).checked,e.Kb(t,13).disabled,e.Kb(t,18).ngClassUntouched,e.Kb(t,18).ngClassTouched,e.Kb(t,18).ngClassPristine,e.Kb(t,18).ngClassDirty,e.Kb(t,18).ngClassValid,e.Kb(t,18).ngClassInvalid,e.Kb(t,18).ngClassPending),l(t,20,1,["standard"==e.Kb(t,23).appearance,"fill"==e.Kb(t,23).appearance,"outline"==e.Kb(t,23).appearance,"legacy"==e.Kb(t,23).appearance,e.Kb(t,23)._control.errorState,e.Kb(t,23)._canLabelFloat,e.Kb(t,23)._shouldLabelFloat(),e.Kb(t,23)._hasFloatingLabel(),e.Kb(t,23)._hideControlPlaceholder(),e.Kb(t,23)._control.disabled,e.Kb(t,23)._control.autofilled,e.Kb(t,23)._control.focused,"accent"==e.Kb(t,23).color,"warn"==e.Kb(t,23).color,e.Kb(t,23)._shouldForward("untouched"),e.Kb(t,23)._shouldForward("touched"),e.Kb(t,23)._shouldForward("pristine"),e.Kb(t,23)._shouldForward("dirty"),e.Kb(t,23)._shouldForward("valid"),e.Kb(t,23)._shouldForward("invalid"),e.Kb(t,23)._shouldForward("pending"),!e.Kb(t,23)._animationsEnabled]),l(t,33,0,e.Kb(t,35).inline,"primary"!==e.Kb(t,35).color&&"accent"!==e.Kb(t,35).color&&"warn"!==e.Kb(t,35).color),l(t,37,1,[e.Kb(t,39).autocompleteAttribute,e.Kb(t,39).autocompleteDisabled?null:"combobox",e.Kb(t,39).autocompleteDisabled?null:"list",e.Kb(t,39).panelOpen&&e.Kb(t,39).activeOption?e.Kb(t,39).activeOption.id:null,e.Kb(t,39).autocompleteDisabled?null:e.Kb(t,39).panelOpen.toString(),e.Kb(t,39).autocompleteDisabled||!e.Kb(t,39).panelOpen?null:null==e.Kb(t,39).autocomplete?null:e.Kb(t,39).autocomplete.id,!e.Kb(t,39).autocompleteDisabled,e.Kb(t,43).ngClassUntouched,e.Kb(t,43).ngClassTouched,e.Kb(t,43).ngClassPristine,e.Kb(t,43).ngClassDirty,e.Kb(t,43).ngClassValid,e.Kb(t,43).ngClassInvalid,e.Kb(t,43).ngClassPending,e.Kb(t,44)._isServer,e.Kb(t,44).id,e.Kb(t,44).placeholder,e.Kb(t,44).disabled,e.Kb(t,44).required,e.Kb(t,44).readonly&&!e.Kb(t,44)._isNativeSelect||null,e.Kb(t,44)._ariaDescribedby||null,e.Kb(t,44).errorState,e.Kb(t,44).required.toString()])}))}var bt=n("Tc5r"),pt=function(){function l(l,t,n,e,a,o){this.campaingApiService=l,this.merchantApiService=t,this.dateUtil=n,this.tenantConfigService=e,this.translate=a,this.toastr=o,this.breadcrumbItems=["STATISTICS.CAMPAIGNSKPI.BREADCRUMB.STRING1","STATISTICS.CAMPAIGNSKPI.BREADCRUMB.STRING2"],this.avilableMerchants=[],this.selectedMerchants=[],this.tableDataSource=[],this.campaignGroup=[],this.merchantsData=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}return l.prototype.ngOnInit=function(){var l=this;this.isCorporate=this.tenantConfigService.getProperty("userType")===bt.a.CORPORATE,this.isCorporate?this.tableData=this.prepareCampaignStatisticTableData():(this.rootKpi1={icon:"fa fa-money-bill-alt",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.TITLE",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC",value:0,valueClass:"mep-primary",isMonetory:!1},this.kpiData1=[{icon:"fa fa-money-bill-alt",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.AMOUNT_OF_DISCOUNTS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_DISCOUNTS",value:0,valueClass:"mep-primary",isMonetory:!0},{icon:"fa fa-barcode",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.NUMBER_OF_COUPONS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_COUPONS",value:0,valueClass:"mep-primary",isMonetory:!1},{icon:"fa fa-archive",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.POOL",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.DESC_POOL",value:0,valueClass:"mep-primary",isMonetory:!1},{icon:"fa fa-shopping-basket",title:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.VISITS",desc:"STATISTICS.CAMPAIGNSKPI.MERCHANT_TABLE.TOTAL_NUMBER_OF_BASKETS",value:0,valueClass:"mep-primary",isMonetory:!1}]),this.campaingApiService.getAllCampaigns().subscribe((function(t){console.log(Array.from(t.body.campaigns).length),l.prepareCampaignEntityData(t.body.campaigns)}),(function(t){l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.GET_CAMPAIGNS_FAILED_CPG_SEL"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})}))},l.prototype.prepareCampaignEntityData=function(l){var t,n,e=[];try{for(var a=E.__values(l),o=a.next();!o.done;o=a.next()){var r=o.value,i=new Date(r.startDate),u=new Date(r.endDate),s=new Date;"Active"===r.status&&i<s&&u>s&&r.merchantLocations&&r.merchantLocations.length>0&&e.push(this.convertCampaignObj(r))}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}this.campaignGroup.push({status:"Assigned",names:e.sort((function(l,t){return l.name.localeCompare(t.name)}))})},l.prototype.prepareMerchantCheckBoxData=function(l){var t,n;this.merchantsData=[];try{for(var e=E.__values(l),a=e.next();!a.done;a=e.next()){var o=a.value;this.merchantsData.push({name:o.name,value:o.id,disabled:!1,checked:!1,labelPosition:"after"})}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.merchantsData.sort((function(l,t){return t.name.localeCompare(l.name)}))},l.prototype.selecteCampaign=function(l){this.selectedcampaign=l,this.avilableMerchants=l.extra.merchants?l.extra.merchants:[],console.log(this.avilableMerchants),this.tableDataSource=[],this.selectedMerchants=[],this.isCorporate?(this.prepareMerchantCheckBoxData(this.avilableMerchants),this.tableData=this.prepareCampaignStatisticTableData()):this.callCampaignStatisticApi(this.selectedcampaign)},l.prototype.selecteMerchants=function(l){var t=this;l.length>0?(this.selectedMerchants=l,this.tableDataSource=[],l.forEach((function(l){t.callCampaignStatisticApi(t.selectedcampaign,l)}))):(this.selectedMerchants=[],this.tableData=this.prepareCampaignStatisticTableData())},l.prototype.convertWidgetDate=function(l){this.rootKpi1.value=l?l.totalPurchaseAmount:0,this.kpiData1[0].value=l?l.numberOfAwards.discounts:0,this.kpiData1[1].value=l?l.numberOfAwards.coupons:0,this.kpiData1[2].value=l?this.setPoolDetails(l):0,this.kpiData1[3].value=l?l.numberOfCustomerTransacted:0},l.prototype.convertMerchantStaticTableData=function(l,t){this.tableDataSource.push({name:l,revenue:t?t.totalPurchaseAmount:0,discount:t?t.numberOfAwards.discounts:0,coupons:t?t.numberOfAwards.coupons:0,pool:t?this.setPoolDetails(t):0,visits:t?t.numberOfCustomerTransacted:0})},l.prototype.setPoolDetails=function(l){return l.numberOfAwards.pools.amount>0?this.tenantConfigService.getProperty("paymentCurrency")+" "+Number(l.numberOfAwards.pools.amount).toFixed(2):l.numberOfAwards.pools.quantity>0?l.numberOfAwards.pools.quantity:0},l.prototype.callCampaignStatisticApi=function(l,t){var n=this,e=String(l.extra.startDate),a=this.dateUtil.formatJsDate(new Date,"yyyy-MM-dd");console.log("Startdate: "+e+", End date: "+a),this.campaingApiService.getCampaignStatisticsWithFilterDate(e.toString(),a.toString(),"Cumulative",l.id,t?t.value:null).subscribe((function(l){l.body&&(n.isCorporate?n.setCorporatetableData(t.name,l.body.statistics[0]):n.convertWidgetDate(l.body.statistics[0]))}),(function(l){console.log("in error"),console.log(l),n.isCorporate&&n.setCorporatetableData(t.name,null),n.toastr.error(n.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_KPI"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})}))},l.prototype.setCorporatetableData=function(l,t){this.convertMerchantStaticTableData(l,t),this.selectedMerchants.length===this.tableDataSource.length&&(this.tableData=this.prepareCampaignStatisticTableData())},l.prototype.convertCampaignObj=function(l){return{name:l.name,id:l.campaignId,extra:{startDate:l.startDate,merchants:l.merchantLocations}}},l.prototype.prepareCampaignStatisticTableData=function(){return{title:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.TITLE",desc:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.DESC",notFoundMessage:this.getCampaignStatisticsNoDataMessage(),datasource:this.tableDataSource,displayedColumns:["name","revenue","discount","coupons","pool","visits"],columDatas:[{def:"name",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.NAME",property:"name",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),iscurrency:!1},{def:"revenue",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.REVENUE",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"revenue",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.primary"),iscurrency:!0},{def:"discount",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.DISCOUNT",labelMark:" ("+this.tenantConfigService.getProperty("paymentCurrency")+")",property:"discount",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.warning"),iscurrency:!0},{def:"coupons",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.COUPONS",property:"coupons",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.info"),iscurrency:!1},{def:"pool",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.POOL",property:"pool",fontColor:"#007BFF",iscurrency:!1},{def:"visits",label:"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.COLUMNS.VISITS",property:"visits",fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.success"),iscurrency:!1}]}},l.prototype.getCampaignStatisticsNoDataMessage=function(){return!this.selectedcampaign&&this.selectedMerchants.length<=0?"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.NO_CAMPAIGN_MERCHANT_SELECTED":this.selectedcampaign&&this.selectedMerchants.length<=0?"STATISTICS.CAMPAIGNSKPI.CORPORATE_TABLE.NO_MERCHANT_SELECTED":void 0},l}(),mt=e.wb({encapsulation:0,styles:[["@media (min-width:512px){.kt-portlet.kt-portlet--height-fluid[_ngcontent-%COMP%]{height:calc(100% - 100%)}}[_nghost-%COMP%]     ngb-tabset>.nav-tabs{display:none}.kt-font-brand[_ngcontent-%COMP%]{color:#ff5db6!important}.kt-font-green[_ngcontent-%COMP%]{color:#34bfa3}.kt-font-red[_ngcontent-%COMP%]{color:#ce0058}.kt-font-blue[_ngcontent-%COMP%]{color:#007bff}.kt-font-yellow[_ngcontent-%COMP%]{color:#fdc414}.kt-font-orange[_ngcontent-%COMP%]{color:#ff8707}.h3[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;font-family:Roboto;font-size:21px;font-weight:300;line-height:24px;text-align:right}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar{width:.5em;height:.5em}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-button{background:#ccc}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:#b4b4b4}.custom-mat-scroll[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#c9c9c9}.kt-portlet[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-direction:column;box-shadow:0 0 13px 0 rgba(82,63,105,.05);background-color:#fff;margin-bottom:20px;border-radius:4px}.form-control[_ngcontent-%COMP%]{display:block;width:100%;height:calc(1.5em + 1.3rem + 2px);padding:.65rem 1rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid!important;border-radius:4px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}  .mat-footer-row,   .mat-header-row,   .mat-row,   td.mat-cell,   td.mat-footer-cell,   th.mat-header-cell{border-bottom-color:rgba(var(--mep-color-base-shape-1-rgb),.2)}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function ht(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(4,0,null,null,21,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(7,{height:0}),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Sb(15,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selecteMerchants(n)&&e),e}),H,w)),e.xb(25,49152,null,0,_,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.merchantsData,!0)}),(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.MERCHANT"))),l(t,9,0,e.Kb(t,10).classList),l(t,15,0,e.Tb(t,15,0,e.Kb(t,16).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.SELECTED_MERCHANT")))}))}function dt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"span",[["class","kt-widget4__number mep-font-medium"],["style","font-size: 1.2rem !important;"]],null,null,null,null,null)),e.Pb(512,null,f.J,f.K,[e.v,e.w,e.k,e.I]),e.xb(2,278528,null,0,f.o,[f.J],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e.Sb(3,null,[" "," ",""]))],(function(l,t){l(t,2,0,"kt-widget4__number mep-font-medium",t.context.item.valueClass)}),(function(l,t){l(t,3,0,t.context.item.isMonetory?t.component.tenantConfigService.getProperty("paymentCurrency"):"",t.context.item.value)}))}function yt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,8,"div",[["class","col-xl-5"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,7,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(2,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(3,0,null,0,5,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(4,114688,null,0,v.a,[],null,null),(l()(),e.yb(5,0,null,0,3,"xls-icon-kpi-widget",[],null,null,null,Ml,ml)),e.xb(6,638976,null,1,bl,[pl.a],{isMonetory:[0,"isMonetory"],rootKpi:[1,"rootKpi"],data:[2,"data"]},null),e.Qb(335544320,1,{actionTemplate:0}),(l()(),e.nb(0,[[1,2],["actionTemplate",2]],null,0,null,dt))],(function(l,t){var n=t.component;l(t,2,0,"kt-portlet--height-fluid"),l(t,4,0),l(t,6,0,!0,n.rootKpi1,n.kpiData1)}),(function(l,t){l(t,3,0,e.Kb(t,4).classList)}))}function ft(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,6,"div",[["class","col-xl-9"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,5,"kt-portlet",[["style","height: auto !important;"]],null,null,null,y.b,y.a)),e.xb(2,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(3,0,null,0,3,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(4,114688,null,0,v.a,[],null,null),(l()(),e.yb(5,0,null,0,1,"xls-custom-mat-table",[],null,null,null,el,q)),e.xb(6,114688,null,0,J,[],{tableData:[0,"tableData"]},null)],(function(l,t){var n=t.component;l(t,2,0,"kt-portlet--height-fluid"),l(t,4,0),l(t,6,0,n.tableData)}),(function(l,t){l(t,3,0,e.Kb(t,4).classList)}))}function gt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,al.b,al.a)),e.xb(1,114688,null,0,ol.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.yb(2,0,null,null,23,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(3,0,null,null,18,"div",[["class","col-xl-3"]],null,null,null,null,null)),(l()(),e.yb(4,0,null,null,15,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(6,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(8,0,null,null,11,"kt-portlet",[],[[4,"height","px"]],null,null,y.b,y.a)),e.xb(9,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(10,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(11,114688,null,0,v.a,[],null,null),(l()(),e.yb(12,0,null,0,7,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(13,0,null,null,6,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(14,0,null,null,5,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(15,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Sb(16,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(18,0,null,null,1,"xls-custom-mat-autocomplete",[],null,[[null,"selectedEntity"]],(function(l,t,n){var e=!0;return"selectedEntity"===t&&(e=!1!==l.component.selecteCampaign(n)&&e),e}),ct,at)),e.xb(19,114688,null,0,et,[M.g],{entityGroup:[0,"entityGroup"]},{selectedEntity:"selectedEntity"}),(l()(),e.nb(16777216,null,null,1,null,ht)),e.xb(21,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,yt)),e.xb(23,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,ft)),e.xb(25,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,9,0,"kt-portlet--height-fluid"),l(t,11,0),l(t,19,0,n.campaignGroup),l(t,21,0,n.isCorporate),l(t,23,0,!n.isCorporate),l(t,25,0,n.isCorporate)}),(function(l,t){l(t,6,0,e.Tb(t,6,0,e.Kb(t,7).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.CAMPAIGN"))),l(t,8,0,20),l(t,10,0,e.Kb(t,11).classList),l(t,16,0,e.Tb(t,16,0,e.Kb(t,17).transform("STATISTICS.CAMPAIGNSKPI.FILTERS.SELECTED_CAMPAIGN")))}))}function Ct(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"xls-campaigns-kpis",[],null,null,null,gt,mt)),e.xb(1,114688,null,0,pt,[kl.a,Rl.a,Ol.a,pl.a,d.l,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Tt=e.ub("xls-campaigns-kpis",pt,Ct,{},{},[]),St=n("JVhT"),vt=function(){function l(){}return l.prototype.ngOnInit=function(){this.localData=this.data,this.chartOptions=this.options,this.localTitle=this.title,this.localDesc=this.desc,this.initChartJS()},l.prototype.initChartJS=function(){this.chartOptions=this.options?this.options:{responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90},gridLines:{display:!1,drawBorder:!0,color:"#000000"}}],yAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,beginAtZero:!0,stepSize:10},gridLines:{display:!1,drawBorder:!0,color:"#000000"}}]}},this.style||(this.style={height:"250px"}),this.chartTs=new St.Chart(this.chart.nativeElement,{type:"bar",data:this.localData,options:this.chartOptions})},l.prototype.ngOnChanges=function(){this.chartTs&&this.chartTs.destroy(),this.localData=this.data,this.chartOptions=this.options,this.localTitle=this.title,this.localDesc=this.desc,this.initChartJS()},l}(),Mt=e.wb({encapsulation:0,styles:[[".kt-widget14[_ngcontent-%COMP%]{padding:0!important}"]],data:{}});function At(l){return e.Ub(0,[e.Qb(402653184,1,{chart:0}),(l()(),e.yb(1,0,null,null,4,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.yb(2,0,null,null,3,"div",[["class","kt-widget14__chart"]],null,null,null,null,null)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(4,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),(l()(),e.yb(5,0,[[1,0],["chart",1]],null,0,"canvas",[],null,null,null,null,null))],(function(l,t){l(t,4,0,t.component.style)}),null)}var It=function(){function l(l,t,n,e,a,o,r){this.dateUtil=l,this.campaingApiService=t,this.merchantApiServer=n,this.layoutConfigService=e,this.translate=a,this.tenantConfigService=o,this.toastr=r,this.breadcrumbItems=["STATISTICS.REVENUEREPORT.BREADCRUMB.STRING1","STATISTICS.REVENUEREPORT.BREADCRUMB.STRING2","STATISTICS.REVENUEREPORT.BREADCRUMB.STRING3"],this.isClicked=!1,this.corporateMerchants=[],this.selectedMerchantsList=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}return l.prototype.ngOnInit=function(){var l=this;this.tenantConfigService.isCorporate()&&this.merchantApiServer.getCorporateMerchants(this.tenantConfigService,Il.c.WITH_DEVICE).subscribe((function(t){t.body&&(console.log(t.body),l.parseCorporateMerchantsToListData(t.body.merchants))}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.reportLastTwelveMonth()},l.prototype.reportCurrentMonth=function(){var l=this;this.displayingCurrentMonth=!0,this.displayingTewlveMonth=!1,this.currentMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.REVENUEREPORT.CORPORATE.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.CORPORATE.CHART.CURRENTMONTHDESC",this.merchantChartTitle="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHTITLE",this.merchantChartDesc="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHDESC"):(this.title="STATISTICS.REVENUEREPORT.MERCHANT.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.MERCHANT.CHART.CURRENTMONTHDESC"),this.data={labels:[],datasets:[]};var t=new Date,n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e,1),o=this.getDateArray(a,t);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(a,"yyyy-MM-dd"),this.dateUtil.formatJsDate(t,"yyyy-MM-dd"),"Per Day",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe((function(t){if(t.body){var n=l.prepareCurrentMonthChartData(o,t.body.statistics);l.data=n.data,l.chartOptions=n.options}}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)},l.prototype.reportLastTwelveMonth=function(){var l=this;this.displayingTewlveMonth=!0,this.displayingCurrentMonth=!1,this.tweleveMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.REVENUEREPORT.CORPORATE.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.CORPORATE.CHART.TWELVEMONTHDESC",this.merchantChartTitle="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHTITLE",this.merchantChartDesc="STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHDESC"):(this.title="STATISTICS.REVENUEREPORT.MERCHANT.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.REVENUEREPORT.MERCHANT.CHART.TWELVEMONTHDESC"),this.data={labels:[],datasets:[]};var t=new Date;t.setMonth(t.getMonth()),t.setDate(0);var n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e-11,1),o=this.getDateMonthArray(a,t);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(a,"yyyy-MM-dd"),this.dateUtil.formatJsDate(t,"yyyy-MM-dd"),"Per Month",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe((function(t){t.body&&l.prepareLastTwelveMonthChartData(o,t.body.statistics)}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)},l.prototype.getDateArray=function(l,t){for(var n=new Array,e=new Date(l);e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n},l.prototype.getDateMonthArray=function(l,t){new Array;for(var n=new Date(l),e=n.getFullYear(),a=t.getFullYear(),o=[],r=e;r<=a;r++)for(var i=r!==a?11:t.getMonth(),u=r===e?n.getMonth():0;u<=i;u=u>12?u%12||11:u+1){var s=u+1;o.push(new Date(r,+(s<10?"0"+s:s)-1,1))}return o},l.prototype.prepareCurrentMonthChartData=function(l,t){var n,e,a,o,r=new Map;try{for(var i=E.__values(t),u=i.next();!u.done;u=i.next()){var s=u.value;r.set(this.dateUtil.formatJsDate(new Date(+s.rollUpSlice.split("-")[0],+s.rollUpSlice.split("-")[1]-1,+s.rollUpSlice.split("-")[2]),"dd/MM/yyyy"),s.totalPurchaseAmount)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}try{for(var c=E.__values(l),b=c.next();!b.done;b=c.next()){var p=b.value;r.has(this.dateUtil.formatJsDate(p,"dd/MM/yyyy"))||r.set(this.dateUtil.formatJsDate(p,"dd/MM/yyyy"),"0")}}catch(d){a={error:d}}finally{try{b&&!b.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}var m=new Map(E.__spread(r.entries()).sort());return{data:{labels:Array.from(m.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(m.values())}]},options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,steps:10,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(m.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}},l.prototype.prepareLastTwelveMonthChartData=function(l,t){var n,e,a,o,r=this,i=new Map;try{for(var u=E.__values(l),s=u.next();!s.done;s=u.next())i.set(this.dateUtil.formatJsDate(s.value,"MMM yyyy"),0)}catch(m){n={error:m}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}try{for(var c=E.__values(t),b=c.next();!b.done;b=c.next()){var p=b.value;i.has(this.dateUtil.formatJsDate(new Date(+p.rollUpSlice.split("-")[0],+p.rollUpSlice.split("-")[1]-1),"MMM yyyy"))&&i.set(this.dateUtil.formatJsDate(new Date(this.dateUtil.formatJsDate(new Date(+p.rollUpSlice.split("-")[0],+p.rollUpSlice.split("-")[1]-1),"MMM yyyy")),"MMM yyyy"),p.totalPurchaseAmount)}}catch(h){a={error:h}}finally{try{b&&!b.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}console.log(i),this.data={labels:Array.from(i.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(i.values())}]},this.chartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:function(l,t,n){return new Date(new Date(l).toUTCString()).toLocaleDateString(r.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,(function(l){return l.toUpperCase()}))}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(i.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}},l.prototype.selectedMerchants=function(l){var t=this;if(this.selectedMerchantsList=[],l.length>0){this.selectedMerchantsList=l,this.merchantChartData="",this.merchantChartChartOptions="";var n=new Date,e=n.getFullYear(),a=n.getMonth(),o=new Date(e,a,1),r=new Date;r.setMonth(r.getMonth()),r.setDate(0);var i=new Date(r.getFullYear(),r.getMonth()-11,1),u=this.getDateArray(o,n),s="",c=void 0,b=void 0;this.displayingCurrentMonth?(s="Per Day",c=o,b=new Date):this.displayingTewlveMonth&&(c=i,b=r,s="Per Month"),this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(c,"yyyy-MM-dd"),this.dateUtil.formatJsDate(b,"yyyy-MM-dd"),s,this.tenantConfigService.getProperty("userType"),"Merchant").subscribe((function(l){var n,e,a,o,c,b,p,m,h,d,y,f;if(l.body){var g=new Map;if("Per Day"===s)try{for(var C=E.__values(t.corporateMerchants),T=C.next();!T.done;T=C.next()){var S=T.value,v=new Map;try{for(var M=(a=void 0,E.__values(u)),A=M.next();!A.done;A=M.next()){var I={totalPurchaseAmount:0,rollUpSlice:t.dateUtil.formatJsDate(_=A.value,"yyyy-MM-dd")};v.set(t.dateUtil.formatJsDate(_,"yyyy-MM-dd"),I)}}catch(U){a={error:U}}finally{try{A&&!A.done&&(o=M.return)&&o.call(M)}finally{if(a)throw a.error}}g.set(S.value,v)}}catch(H){n={error:H}}finally{try{T&&!T.done&&(e=C.return)&&e.call(C)}finally{if(n)throw n.error}}else if("Per Month"===s){var x=t.getDateMonthArray(i,r);try{for(var k=E.__values(t.corporateMerchants),R=k.next();!R.done;R=k.next()){S=R.value,v=new Map;try{for(var O=(p=void 0,E.__values(x)),P=O.next();!P.done;P=O.next()){var _;I={totalPurchaseAmount:0,rollUpSlice:t.dateUtil.formatJsDate(_=P.value,"yyyy-MM")},v.set(t.dateUtil.formatJsDate(_,"yyyy-MM"),I)}}catch(F){p={error:F}}finally{try{P&&!P.done&&(m=O.return)&&m.call(O)}finally{if(p)throw p.error}}g.set(S.value,v)}}catch(B){c={error:B}}finally{try{R&&!R.done&&(b=k.return)&&b.call(k)}finally{if(c)throw c.error}}}try{for(var w=E.__values(l.body.statistics),N=w.next();!N.done;N=w.next()){var D=N.value;try{for(var L=(y=void 0,E.__values(D.merchantStatistics)),K=L.next();!K.done;K=L.next())g=t.parseMerchantStatisticsRespectToCorpMerchants(g,K.value)}catch(V){y={error:V}}finally{try{K&&!K.done&&(f=L.return)&&f.call(L)}finally{if(y)throw y.error}}}}catch(G){h={error:G}}finally{try{N&&!N.done&&(d=w.return)&&d.call(w)}finally{if(h)throw h.error}}t.prepareCorporateMerchantsChart(s,g)}}),(function(l){console.log("in error"),console.log(l)}))}else this.merchantChartData="",this.merchantChartChartOptions=""},l.prototype.parseCorporateMerchantsToListData=function(l){var t,n;this.corporateMerchants=[];try{for(var e=E.__values(l),a=e.next();!a.done;a=e.next()){var o=a.value;this.corporateMerchants.push({name:o.name,value:o.merchantId,disabled:!1,checked:!1,labelPosition:"after"})}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.corporateMerchants.sort((function(l,t){return l.name.localeCompare(t.name)}))},l.prototype.parseMerchantStatisticsRespectToCorpMerchants=function(l,t){var n=t.statistics,e=l.get(t.merchantId);return e.forEach((function(l,t){t===n.rollUpSlice&&(l.totalPurchaseAmount=n.totalPurchaseAmount,e.set(t,{rollUpSplice:t,totalPurchaseAmount:n.totalPurchaseAmount}))})),l.set(t.merchantId,e),l},l.prototype.prepareCorporateMerchantsChart=function(l,t){var n=this,e=new Map;"Per Day"===l?(t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),0)}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())t===i.value.value&&l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),+(+e.get(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"))+l.totalPurchaseAmount))}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),this.merchantChartData={labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}):"Per Month"===l&&(t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),0)}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())t===i.value.value&&l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),+(+e.get(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"))+l.totalPurchaseAmount))}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),this.merchantChartData={labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:function(l,t,e){return new Date(new Date(l).toUTCString()).toLocaleDateString(n.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,(function(l){return l.toUpperCase()}))}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}})},l}(),xt=e.wb({encapsulation:0,styles:[[".btn-brand[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;background-color:rgba(var(--mep-color-base-shape-1-rgb),.2)!important;border:none!important}.btn-brand[_ngcontent-%COMP%]:active, .btn-brand[_ngcontent-%COMP%]:focus, .btn-brand[_ngcontent-%COMP%]:hover, .btn-brand[_ngcontent-%COMP%]:visited{color:rgba(var(--mep-color-base-shape-1-rgb))!important;background-color:var(--mep-color-state-primary)!important;border:none!important}.h3[_ngcontent-%COMP%]{color:#ce0058;font-family:Roboto;font-size:21px;font-weight:300;line-height:24px;text-align:right}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1.3rem!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__desc[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1rem!important}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function kt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(4,0,null,null,21,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(7,{height:0}),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(14,0,null,null,2,"span",[["class","kt-widget4__title  mep-font-light"]],null,null,null,null,null)),(l()(),e.Sb(15,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),H,w)),e.xb(25,49152,null,0,_,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.REVENUEREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Kb(t,10).classList),l(t,15,0,e.Tb(t,15,0,e.Kb(t,16).transform("STATISTICS.REVENUEREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function Rt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,4,"xls-barchart",[],null,null,null,At,Mt)),e.xb(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Mb(131072,d.k,[d.l,e.h]),e.Mb(131072,d.k,[d.l,e.h]),e.Nb(5,{height:0})],(function(l,t){var n=t.component,a=e.Tb(t,2,0,e.Kb(t,3).transform(n.title)),o=e.Tb(t,2,1,e.Kb(t,4).transform(n.desc)),r=n.data,i=n.chartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,r,i,u)}),null)}function Ot(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,4,"xls-barchart",[],null,null,null,At,Mt)),e.xb(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Mb(131072,d.k,[d.l,e.h]),e.Mb(131072,d.k,[d.l,e.h]),e.Nb(5,{height:0})],(function(l,t){var n=t.component,a=e.Tb(t,2,0,e.Kb(t,3).transform(n.merchantChartTitle)),o=e.Tb(t,2,1,e.Kb(t,4).transform(n.merchantChartDesc)),r=n.merchantChartData,i=n.merchantChartChartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,r,i,u)}),null)}function Pt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"div",[["style","text-align: center !important;"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h2",[["style","color: rgba(var(--mep-color-base-label-3-rgb),0.20) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[" "," "])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.REVENUEREPORT.CORPORATE.MERCHANTCHART.NOMERCHANTSELECTED")))}))}function Et(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,17,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(1,4308992,null,0,g.a,[e.k,C.b,T.a],null,null),(l()(),e.yb(2,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(3,114688,null,0,v.a,[],null,null),(l()(),e.yb(4,0,null,0,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(6,0,null,null,11,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.yb(8,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Sb(9,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(11,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Sb(12,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Ot)),e.xb(15,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,Pt)),e.xb(17,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0),l(t,3,0),l(t,15,0,n.merchantChartData&&n.merchantChartChartOptions),l(t,17,0,!n.merchantChartData&&!n.merchantChartChartOptions)}),(function(l,t){var n=t.component;l(t,2,0,e.Kb(t,3).classList),l(t,9,0,e.Tb(t,9,0,e.Kb(t,10).transform(n.merchantChartTitle))),l(t,12,0,e.Tb(t,12,0,e.Kb(t,13).transform(n.merchantChartDesc)))}))}function _t(l){return e.Ub(0,[e.Qb(402653184,1,{tweleveMonthReport:0}),e.Qb(402653184,2,{currentMonthReport:0}),(l()(),e.yb(2,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,al.b,al.a)),e.xb(3,114688,null,0,ol.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.yb(4,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,15,"div",[["class","col-xl-4"]],null,null,null,null,null)),(l()(),e.yb(6,0,null,null,14,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,11,"kt-portlet",[["style","height: 0px !important;"]],null,null,null,y.b,y.a)),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,6,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(13,0,[[1,0],["tweleveMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportLastTwelveMonth()&&e),e}),null,null)),(l()(),e.Sb(14,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(16,0,[[2,0],["currentMonthReport",1]],null,2,"button",[["autofocus",""],["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportCurrentMonth()&&e),e}),null,null)),(l()(),e.Sb(17,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,kt)),e.xb(20,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(21,0,null,null,18,"div",[["class","col-xl-8"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,15,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(23,4308992,null,0,g.a,[e.k,C.b,T.a],null,null),(l()(),e.yb(24,0,null,0,13,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(25,114688,null,0,v.a,[],null,null),(l()(),e.yb(26,0,null,0,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(27,0,null,null,10,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(28,0,null,null,9,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.yb(29,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.yb(30,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Sb(31,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(33,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Sb(34,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Rt)),e.xb(37,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,Et)),e.xb(39,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,20,0,n.tenantConfigService.isCorporate()),l(t,23,0),l(t,25,0),l(t,37,0,n.data),l(t,39,0,n.tenantConfigService.isCorporate())}),(function(l,t){var n=t.component;l(t,9,0,e.Kb(t,10).classList),l(t,14,0,e.Tb(t,14,0,e.Kb(t,15).transform("STATISTICS.REVENUEREPORT.BUTTON.TWELVEMONTH"))),l(t,17,0,e.Tb(t,17,0,e.Kb(t,18).transform("STATISTICS.REVENUEREPORT.BUTTON.CURRENTMONTH"))),l(t,24,0,e.Kb(t,25).classList),l(t,31,0,e.Tb(t,31,0,e.Kb(t,32).transform(n.title))),l(t,34,0,e.Tb(t,34,0,e.Kb(t,35).transform(n.desc)))}))}function wt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"xls-revenue-report",[],null,null,null,_t,xt)),e.xb(1,114688,null,0,It,[Ol.a,kl.a,Rl.a,T.a,d.l,pl.a,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Nt=e.ub("xls-revenue-report",It,wt,{},{},[]),Dt=function(){function l(l,t,n,e,a,o,r){this.dateUtil=l,this.campaingApiService=t,this.merchantApiServer=n,this.layoutConfigService=e,this.translate=a,this.tenantConfigService=o,this.toastr=r,this.breadcrumbItems=["STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING1","STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING2","STATISTICS.TRANSACTIONSREPORT.BREADCRUMB.STRING3"],this.isClicked=!1,this.corporateMerchants=[],this.selectedMerchantsList=[],this.breadCrumbTextColor=this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.2")}return l.prototype.ngOnInit=function(){var l=this;this.tenantConfigService.isCorporate()&&this.merchantApiServer.getCorporateMerchants(this.tenantConfigService,Il.c.WITH_DEVICE).subscribe((function(t){t.body&&(console.log(t.body),l.parseCorporateMerchantsToListData(t.body.merchants))}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.GET_CORP_MERC_FAILED"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.reportLastTwelveMonth()},l.prototype.reportCurrentMonth=function(){var l=this;this.displayingCurrentMonth=!0,this.displayingTewlveMonth=!1,this.currentMonthReport.nativeElement.focus(),console.log(this.translate.currentLang),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.CURRENTMONTHDESC",this.merchantChartTitle="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHTITLE",this.merchantChartDesc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.CURRENTMONTHDESC"):(this.title="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.CURRENTMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.CURRENTMONTHDESC"),this.data={labels:[],datasets:[]};var t=new Date,n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e,1),o=this.getDateArray(a,t);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(a,"yyyy-MM-dd"),this.dateUtil.formatJsDate(new Date,"yyyy-MM-dd"),"Per Day",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe((function(t){if(t.body){var n=l.prepareCurrentMonthChartData(o,t.body.statistics);console.log("chartData: "+JSON.stringify(n)),l.data=n.data,l.chartOptions=n.options}}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)},l.prototype.reportLastTwelveMonth=function(){var l=this;this.displayingTewlveMonth=!0,this.displayingCurrentMonth=!1,this.tweleveMonthReport.nativeElement.focus(),this.tenantConfigService.isCorporate()?(this.title="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.CHART.TWELVEMONTHDESC",this.merchantChartTitle="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHTITLE",this.merchantChartDesc="STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.TWELVEMONTHDESC"):(this.title="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.TWELVEMONTHTITLE",this.desc="STATISTICS.TRANSACTIONSREPORT.MERCHANT.CHART.TWELVEMONTHDESC"),this.data={labels:[],datasets:[]};var t=new Date;t.setMonth(t.getMonth()),t.setDate(0);var n=t.getFullYear(),e=t.getMonth(),a=new Date(n,e-11,1),o=this.getDateMonthArray(a,t);this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(a,"yyyy-MM-dd"),this.dateUtil.formatJsDate(t,"yyyy-MM-dd"),"Per Month",this.tenantConfigService.getProperty("userType"),"Corporate").subscribe((function(t){t.body&&l.prepareLastTwelveMonthChartData(o,t.body.statistics)}),(function(t){console.log("in error"),console.log(t),l.toastr.error(l.translate.instant("TOASTER.CAMPAIGNS.POST_CORP_MERC_STAT_FAILED_RPT"),"",{timeOut:1e4,positionClass:Al.b.BOTTOM_RIGHT})})),this.selectedMerchantsList.length>0&&this.selectedMerchants(this.selectedMerchantsList)},l.prototype.getDateArray=function(l,t){for(var n=new Array,e=new Date(l);e<=t;)n.push(new Date(e)),e.setDate(e.getDate()+1);return n},l.prototype.getDateMonthArray=function(l,t){new Array;for(var n=new Date(l),e=n.getFullYear(),a=t.getFullYear(),o=[],r=e;r<=a;r++)for(var i=r!==a?11:t.getMonth(),u=r===e?n.getMonth():0;u<=i;u=u>12?u%12||11:u+1){var s=u+1;o.push(new Date(r,+(s<10?"0"+s:s)-1,1))}return o},l.prototype.prepareCurrentMonthChartData=function(l,t){var n,e,a,o,r=new Map;try{for(var i=E.__values(t),u=i.next();!u.done;u=i.next()){var s=u.value;r.set(this.dateUtil.formatJsDate(new Date(+s.rollUpSlice.split("-")[0],+s.rollUpSlice.split("-")[1]-1,+s.rollUpSlice.split("-")[2]),"dd/MM/yyyy"),s.numberOfTransactions)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}try{for(var c=E.__values(l),b=c.next();!b.done;b=c.next()){var p=b.value;r.has(this.dateUtil.formatJsDate(p,"dd/MM/yyyy"))||r.set(this.dateUtil.formatJsDate(p,"dd/MM/yyyy"),0)}}catch(d){a={error:d}}finally{try{b&&!b.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}var m=new Map(E.__spread(r.entries()).sort());return{data:{labels:Array.from(m.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(m.values())}]},options:{tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},responsive:!0,legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,steps:10,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(m.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}}},l.prototype.prepareLastTwelveMonthChartData=function(l,t){var n,e,a,o,r=this,i=new Map;try{for(var u=E.__values(l),s=u.next();!s.done;s=u.next())i.set(this.dateUtil.formatJsDate(s.value,"MMM yyyy"),0)}catch(m){n={error:m}}finally{try{s&&!s.done&&(e=u.return)&&e.call(u)}finally{if(n)throw n.error}}try{for(var c=E.__values(t),b=c.next();!b.done;b=c.next()){var p=b.value;i.has(this.dateUtil.formatJsDate(new Date(+p.rollUpSlice.split("-")[0],+p.rollUpSlice.split("-")[1]-1),"MMM yyyy"))&&i.set(this.dateUtil.formatJsDate(new Date(this.dateUtil.formatJsDate(new Date(+p.rollUpSlice.split("-")[0],+p.rollUpSlice.split("-")[1]-1),"MMM yyyy")),"MMM yyyy"),p.numberOfTransactions)}}catch(h){a={error:h}}finally{try{b&&!b.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}console.log(i),this.data={labels:Array.from(i.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(i.values())}]},this.chartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:function(l,t,n){return new Date(new Date(l).toUTCString()).toLocaleDateString(r.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,(function(l){return l.toUpperCase()}))}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(i.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}},l.prototype.selectedMerchants=function(l){var t=this;if(this.selectedMerchantsList=[],l.length>0){this.selectedMerchantsList=l,this.merchantChartData="",this.merchantChartChartOptions="";var n=new Date,e=n.getFullYear(),a=n.getMonth(),o=new Date(e,a,1),r=new Date;r.setMonth(r.getMonth()),r.setDate(0);var i=new Date(r.getFullYear(),r.getMonth()-11,1),u=this.getDateArray(o,n),s="",c=void 0,b=void 0;this.displayingCurrentMonth?(s="Per Day",c=o,b=new Date):this.displayingTewlveMonth&&(c=i,b=r,s="Per Month"),this.merchantApiServer.getEntityStatisticsWithFilterDate(this.dateUtil.formatJsDate(c,"yyyy-MM-dd"),this.dateUtil.formatJsDate(b,"yyyy-MM-dd"),s,this.tenantConfigService.getProperty("userType"),"Merchant").subscribe((function(l){var n,e,a,o,c,b,p,m,h,d,y,f;if(l.body){var g=new Map;if("Per Day"===s)try{for(var C=E.__values(t.corporateMerchants),T=C.next();!T.done;T=C.next()){var S=T.value,v=new Map;try{for(var M=(a=void 0,E.__values(u)),A=M.next();!A.done;A=M.next()){var I={numberOfTransactions:0,rollUpSlice:t.dateUtil.formatJsDate(_=A.value,"yyyy-MM-dd")};v.set(t.dateUtil.formatJsDate(_,"yyyy-MM-dd"),I)}}catch(U){a={error:U}}finally{try{A&&!A.done&&(o=M.return)&&o.call(M)}finally{if(a)throw a.error}}g.set(S.value,v)}}catch(H){n={error:H}}finally{try{T&&!T.done&&(e=C.return)&&e.call(C)}finally{if(n)throw n.error}}else if("Per Month"===s){var x=t.getDateMonthArray(i,r);try{for(var k=E.__values(t.corporateMerchants),R=k.next();!R.done;R=k.next()){S=R.value,v=new Map;try{for(var O=(p=void 0,E.__values(x)),P=O.next();!P.done;P=O.next()){var _;I={numberOfTransactions:0,rollUpSlice:t.dateUtil.formatJsDate(_=P.value,"yyyy-MM")},v.set(t.dateUtil.formatJsDate(_,"yyyy-MM"),I)}}catch(F){p={error:F}}finally{try{P&&!P.done&&(m=O.return)&&m.call(O)}finally{if(p)throw p.error}}g.set(S.value,v)}}catch(B){c={error:B}}finally{try{R&&!R.done&&(b=k.return)&&b.call(k)}finally{if(c)throw c.error}}}try{for(var w=E.__values(l.body.statistics),N=w.next();!N.done;N=w.next()){var D=N.value;try{for(var L=(y=void 0,E.__values(D.merchantStatistics)),K=L.next();!K.done;K=L.next())g=t.parseMerchantStatisticsRespectToCorpMerchants(g,K.value)}catch(V){y={error:V}}finally{try{K&&!K.done&&(f=L.return)&&f.call(L)}finally{if(y)throw y.error}}}}catch(G){h={error:G}}finally{try{N&&!N.done&&(d=w.return)&&d.call(w)}finally{if(h)throw h.error}}t.prepareCorporateMerchantsChart(s,g)}}),(function(l){console.log("in error"),console.log(l)}))}else this.merchantChartData="",this.merchantChartChartOptions=""},l.prototype.parseCorporateMerchantsToListData=function(l){var t,n;this.corporateMerchants=[];try{for(var e=E.__values(l),a=e.next();!a.done;a=e.next()){var o=a.value;this.corporateMerchants.push({name:o.name,value:o.merchantId,disabled:!1,checked:!1,labelPosition:"after"})}}catch(r){t={error:r}}finally{try{a&&!a.done&&(n=e.return)&&n.call(e)}finally{if(t)throw t.error}}this.corporateMerchants.sort((function(l,t){return l.name.localeCompare(t.name)}))},l.prototype.parseMerchantStatisticsRespectToCorpMerchants=function(l,t){var n=t.statistics,e=l.get(t.merchantId);return e.forEach((function(l,t){t===n.rollUpSlice&&(l.numberOfTransactions=n.numberOfTransactions,e.set(t,{rollUpSplice:t,numberOfTransactions:n.numberOfTransactions}))})),l.set(t.merchantId,e),l},l.prototype.prepareCorporateMerchantsChart=function(l,t){var n=this,e=new Map;"Per Day"===l?(t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),0)}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())t===i.value.value&&l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"),+(+e.get(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1,+t.split("-")[2]),"dd/MM/yyyy"))+l.numberOfTransactions))}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),this.merchantChartData={labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily")},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}}):"Per Month"===l&&(t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),0)}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),t.forEach((function(l,t){var a,o;try{for(var r=E.__values(n.selectedMerchantsList),i=r.next();!i.done;i=r.next())t===i.value.value&&l.forEach((function(l,t){e.set(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"),+(+e.get(n.dateUtil.formatJsDate(new Date(+t.split("-")[0],+t.split("-")[1]-1),"MMM yyyy"))+l.numberOfTransactions))}))}catch(u){a={error:u}}finally{try{i&&!i.done&&(o=r.return)&&o.call(r)}finally{if(a)throw a.error}}})),this.merchantChartData={labels:Array.from(e.keys()),datasets:[{backgroundColor:this.tenantConfigService.getProperty("portalLayout.common.colors.state.brand"),borderColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1"),data:Array.from(e.values())}]},this.merchantChartChartOptions={responsive:!0,tooltips:{mode:"index",intersect:!1},hover:{mode:"index",intersect:!1},legend:{position:"top",display:!1},maintainAspectRatio:!1,xScalePaddingRight:120,gridLines:!1,title:{display:!1},scales:{xAxes:[{ticks:{autoSkip:!1,maxRotation:90,minRotation:90,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),callback:function(l,t,e){return new Date(new Date(l).toUTCString()).toLocaleDateString(n.translate.currentLang,{year:"2-digit",month:"short"}).replace(/^\w/,(function(l){return l.toUpperCase()}))}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}],yAxes:[{ticks:{autoSkip:!1,beginAtZero:!0,fontSize:13,fontColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.label.4"),fontStyle:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontStyle"),fontFamily:this.tenantConfigService.getProperty("portalLayout.common.fonts.regular.fontFamily"),stepValue:Math.round(Math.max.apply(null,Array.from(e.values()))/10),callback:function(l,t,n){if(Math.floor(l)===l)return l}},gridLines:{color:"rgba(0, 0, 0, 0)",zeroLineColor:this.tenantConfigService.getProperty("portalLayout.common.colors.base.shape.1")}}]}})},l}(),Lt=e.wb({encapsulation:0,styles:[[".btn-brand[_ngcontent-%COMP%]{color:var(--mep-color-state-primary)!important;background-color:rgba(var(--mep-color-base-shape-1-rgb),.2)!important;border:none!important}.btn-brand[_ngcontent-%COMP%]:active, .btn-brand[_ngcontent-%COMP%]:focus, .btn-brand[_ngcontent-%COMP%]:hover, .btn-brand[_ngcontent-%COMP%]:visited{color:rgba(var(--mep-color-base-shape-1-rgb))!important;background-color:var(--mep-color-state-primary)!important;border:none!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__title[_ngcontent-%COMP%]{font-family:var(--mep-medium-font-family)!important;font-weight:var(--mep-medium-font-weight)!important;font-style:var(--mep-medium-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1.3rem!important}.kt-widget14[_ngcontent-%COMP%]   .kt-widget14__header[_ngcontent-%COMP%]   .kt-widget14__desc[_ngcontent-%COMP%]{font-family:var(--mep-light-font-family)!important;font-weight:var(--mep-light-font-weight)!important;font-style:var(--mep-light-font-style)!important;color:var(--mep-color-base-label-4)!important;font-size:1rem!important}.kt-widget4__title[_ngcontent-%COMP%]{font-size:1rem!important;color:var(--mep-color-base-label-4)!important}"]],data:{}});function Kt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,25,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h5",[["class","mep-font-medium"],["style","font-size: 1.2rem !important; color: var(--mep-color-base-label-4) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[""," "])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(4,0,null,null,21,"kt-portlet",[],null,null,null,y.b,y.a)),e.Pb(512,null,f.L,f.M,[e.k,e.w,e.I]),e.xb(6,278528,null,0,f.t,[f.L],{ngStyle:[0,"ngStyle"]},null),e.Nb(7,{height:0}),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,16,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,14,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,4,"div",[["class","kt-widget4__item"],["style","border-bottom:none !important"]],null,null,null,null,null)),(l()(),e.yb(13,0,null,null,3,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(14,0,null,null,2,"span",[["class","kt-widget4__title mep-font-light"]],null,null,null,null,null)),(l()(),e.Sb(15,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(17,0,null,null,8,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(18,0,null,null,2,"div",[["class","kt-widget4__info"]],null,null,null,null,null)),(l()(),e.yb(19,0,null,null,0,"h3",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(20,0,null,null,0,"span",[["class","kt-widget4__title"]],null,null,null,null,null)),(l()(),e.yb(21,0,null,null,4,"div",[["class","kt-widget4__item"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(23,0,null,null,2,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(24,0,null,null,1,"xls-checkbox-list",[],null,[[null,"selectedEntities"]],(function(l,t,n){var e=!0;return"selectedEntities"===t&&(e=!1!==l.component.selectedMerchants(n)&&e),e}),H,w)),e.xb(25,49152,null,0,_,[M.g],{checkboxList:[0,"checkboxList"],withFilterInput:[1,"withFilterInput"]},{selectedEntities:"selectedEntities"})],(function(l,t){var n=t.component,e=l(t,7,0,"auto");l(t,6,0,e),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,25,0,n.corporateMerchants,!0)}),(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.MERCHANT"))),l(t,9,0,e.Kb(t,10).classList),l(t,15,0,e.Tb(t,15,0,e.Kb(t,16).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.FILTER.SELECTEDMERCHANTS")))}))}function Ut(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,4,"xls-barchart",[],null,null,null,At,Mt)),e.xb(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Mb(131072,d.k,[d.l,e.h]),e.Mb(131072,d.k,[d.l,e.h]),e.Nb(5,{height:0})],(function(l,t){var n=t.component,a=e.Tb(t,2,0,e.Kb(t,3).transform(n.title)),o=e.Tb(t,2,1,e.Kb(t,4).transform(n.desc)),r=n.data,i=n.chartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,r,i,u)}),null)}function Ht(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,4,"xls-barchart",[],null,null,null,At,Mt)),e.xb(2,638976,null,0,vt,[],{title:[0,"title"],desc:[1,"desc"],data:[2,"data"],options:[3,"options"],style:[4,"style"]},null),e.Mb(131072,d.k,[d.l,e.h]),e.Mb(131072,d.k,[d.l,e.h]),e.Nb(5,{height:0})],(function(l,t){var n=t.component,a=e.Tb(t,2,0,e.Kb(t,3).transform(n.merchantChartTitle)),o=e.Tb(t,2,1,e.Kb(t,4).transform(n.merchantChartDesc)),r=n.merchantChartData,i=n.merchantChartChartOptions,u=l(t,5,0,"320px");l(t,2,0,a,o,r,i,u)}),null)}function Ft(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,3,"div",[["style","text-align: center !important;"]],null,null,null,null,null)),(l()(),e.yb(1,0,null,null,2,"h2",[["style","color: rgba(var(--mep-color-base-label-3-rgb),0.20) !important;"]],null,null,null,null,null)),(l()(),e.Sb(2,null,[" "," "])),e.Mb(131072,d.k,[d.l,e.h])],null,(function(l,t){l(t,2,0,e.Tb(t,2,0,e.Kb(t,3).transform("STATISTICS.TRANSACTIONSREPORT.CORPORATE.MERCHANTCHART.NOMERCHANTSELECTED")))}))}function Bt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,17,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(1,4308992,null,0,g.a,[e.k,C.b,T.a],null,null),(l()(),e.yb(2,0,null,0,15,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(3,114688,null,0,v.a,[],null,null),(l()(),e.yb(4,0,null,0,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,12,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(6,0,null,null,11,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.yb(8,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Sb(9,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(11,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Sb(12,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Ht)),e.xb(15,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,Ft)),e.xb(17,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,1,0),l(t,3,0),l(t,15,0,n.merchantChartData&&n.merchantChartChartOptions),l(t,17,0,!n.merchantChartData&&!n.merchantChartChartOptions)}),(function(l,t){var n=t.component;l(t,2,0,e.Kb(t,3).classList),l(t,9,0,e.Tb(t,9,0,e.Kb(t,10).transform(n.merchantChartTitle))),l(t,12,0,e.Tb(t,12,0,e.Kb(t,13).transform(n.merchantChartDesc)))}))}function Vt(l){return e.Ub(0,[e.Qb(402653184,1,{tweleveMonthReport:0}),e.Qb(402653184,2,{currentMonthReport:0}),(l()(),e.yb(2,0,null,null,1,"xls-title-bar",[["class","kt-margin-10"]],null,null,null,al.b,al.a)),e.xb(3,114688,null,0,ol.a,[],{breadCrumb:[0,"breadCrumb"],breadCrumbTextColor:[1,"breadCrumbTextColor"]},null),(l()(),e.yb(4,0,null,null,35,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(5,0,null,null,15,"div",[["class","col-xl-4"]],null,null,null,null,null)),(l()(),e.yb(6,0,null,null,12,"div",[["style","height: auto !important;"]],null,null,null,null,null)),(l()(),e.yb(7,0,null,null,11,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(8,4308992,null,0,g.a,[e.k,C.b,T.a],{class:[0,"class"]},null),(l()(),e.yb(9,0,null,0,9,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(10,114688,null,0,v.a,[],null,null),(l()(),e.yb(11,0,null,0,7,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(12,0,null,null,6,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(13,0,[[1,0],["tweleveMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportLastTwelveMonth()&&e),e}),null,null)),(l()(),e.Sb(14,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(16,0,[[2,0],["currentMonthReport",1]],null,2,"button",[["class","btn btn-brand kt-margin-l-10 mep-font-medium"]],null,[[null,"click"]],(function(l,t,n){var e=!0;return"click"===t&&(e=!1!==l.component.reportCurrentMonth()&&e),e}),null,null)),(l()(),e.Sb(17,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Kt)),e.xb(20,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.yb(21,0,null,null,18,"div",[["class","col-xl-8"]],null,null,null,null,null)),(l()(),e.yb(22,0,null,null,15,"kt-portlet",[],null,null,null,y.b,y.a)),e.xb(23,4308992,null,0,g.a,[e.k,C.b,T.a],null,null),(l()(),e.yb(24,0,null,0,13,"kt-portlet-body",[],[[8,"className",0]],null,null,S.b,S.a)),e.xb(25,114688,null,0,v.a,[],null,null),(l()(),e.yb(26,0,null,0,11,"div",[["class","row"]],null,null,null,null,null)),(l()(),e.yb(27,0,null,null,10,"div",[["class","col-xl-12"]],null,null,null,null,null)),(l()(),e.yb(28,0,null,null,9,"div",[["class","kt-widget14"]],null,null,null,null,null)),(l()(),e.yb(29,0,null,null,6,"div",[["class","kt-widget14__header"]],null,null,null,null,null)),(l()(),e.yb(30,0,null,null,2,"h3",[["class","kt-widget14__title"]],null,null,null,null,null)),(l()(),e.Sb(31,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.yb(33,0,null,null,2,"span",[["class","kt-widget14__desc"]],null,null,null,null,null)),(l()(),e.Sb(34,null,["",""])),e.Mb(131072,d.k,[d.l,e.h]),(l()(),e.nb(16777216,null,null,1,null,Ut)),e.xb(37,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null),(l()(),e.nb(16777216,null,null,1,null,Bt)),e.xb(39,16384,null,0,f.q,[e.T,e.Q],{ngIf:[0,"ngIf"]},null)],(function(l,t){var n=t.component;l(t,3,0,n.breadcrumbItems,n.breadCrumbTextColor),l(t,8,0,"kt-portlet--height-fluid"),l(t,10,0),l(t,20,0,n.tenantConfigService.isCorporate()),l(t,23,0),l(t,25,0),l(t,37,0,n.data),l(t,39,0,n.tenantConfigService.isCorporate())}),(function(l,t){var n=t.component;l(t,9,0,e.Kb(t,10).classList),l(t,14,0,e.Tb(t,14,0,e.Kb(t,15).transform("STATISTICS.TRANSACTIONSREPORT.BUTTON.TWELVEMONTH"))),l(t,17,0,e.Tb(t,17,0,e.Kb(t,18).transform("STATISTICS.TRANSACTIONSREPORT.BUTTON.CURRENTMONTH"))),l(t,24,0,e.Kb(t,25).classList),l(t,31,0,e.Tb(t,31,0,e.Kb(t,32).transform(n.title))),l(t,34,0,e.Tb(t,34,0,e.Kb(t,35).transform(n.desc)))}))}function Gt(l){return e.Ub(0,[(l()(),e.yb(0,0,null,null,1,"xls-transactions-report",[],null,null,null,Vt,Lt)),e.xb(1,114688,null,0,Dt,[Ol.a,kl.a,Rl.a,T.a,d.l,pl.a,Pl.j],null,null)],(function(l,t){l(t,1,0)}),null)}var Qt=e.ub("xls-transactions-report",Dt,Gt,{},{},[]),zt=n("o3x0"),Jt=n("M2Lx"),qt=n("jQLj"),Wt=n("uGex"),$t=n("v9Dh"),jt=n("4epT"),Yt=n("OkvK"),Xt=n("mVsa"),Zt=n("t/Na"),ln=n("UodH"),tn=n("kWGw"),nn=n("LC5p"),en=n("FVSy"),an=n("Blfk"),on=n("PCNd"),rn=n("ZYCi"),un=n("bse0"),sn=n("0ibv"),cn=n("z+1c"),bn=n("Z+uX"),pn=n("cxZD"),mn=n("0cyH"),hn=n("9It4"),dn=n("vARd"),yn=n("La40"),fn=n("uX7N");n.d(t,"StatisticsModuleNgFactory",(function(){return gn}));var gn=e.vb(a,[],(function(l){return e.Hb([e.Ib(512,e.j,e.gb,[[8,[o.a,o.b,o.j,o.k,o.g,o.h,o.i,r.a,i.b,i.a,u.a,s.a,c.a,b.a,p.a,m.a,h.a,h.b,Ul,Tt,Nt,Qt]],[3,e.j],e.B]),e.Ib(4608,f.s,f.r,[e.x,[2,f.O]]),e.Ib(4608,M.E,M.E,[]),e.Ib(4608,rl.D,rl.D,[e.j,e.t,rl.wb,rl.E]),e.Ib(4608,M.g,M.g,[]),e.Ib(4608,Jl.c,Jl.c,[Jl.i,Jl.e,e.j,Jl.h,Jl.f,e.t,e.D,f.e,G.b,[2,f.l]]),e.Ib(5120,Jl.j,Jl.k,[Jl.c]),e.Ib(5120,zt.c,zt.d,[Jl.c]),e.Ib(135680,zt.e,zt.e,[Jl.c,e.t,[2,f.l],[2,zt.b],zt.c,[3,zt.e],Jl.e]),e.Ib(4608,Fl.c,Fl.y,[[2,Fl.h],Q.a]),e.Ib(4608,Jt.c,Jt.c,[]),e.Ib(4608,Fl.d,Fl.d,[]),e.Ib(4608,qt.h,qt.h,[]),e.Ib(5120,qt.a,qt.b,[Jl.c]),e.Ib(5120,zl.b,zl.c,[Jl.c]),e.Ib(4608,jl.e,Fl.e,[[2,Fl.i],[2,Fl.n]]),e.Ib(5120,Wt.a,Wt.b,[Jl.c]),e.Ib(5120,$t.b,$t.c,[Jl.c]),e.Ib(5120,jt.c,jt.a,[[3,jt.c]]),e.Ib(5120,Yt.d,Yt.a,[[3,Yt.d]]),e.Ib(5120,Xt.a,Xt.d,[Jl.c]),e.Ib(4608,Zt.l,Zt.r,[f.e,e.F,Zt.p]),e.Ib(4608,Zt.s,Zt.s,[Zt.l,Zt.q]),e.Ib(5120,Zt.a,(function(l){return[l]}),[Zt.s]),e.Ib(4608,Zt.o,Zt.o,[]),e.Ib(6144,Zt.m,null,[Zt.o]),e.Ib(4608,Zt.k,Zt.k,[Zt.m]),e.Ib(6144,Zt.b,null,[Zt.k]),e.Ib(4608,Zt.f,Zt.n,[Zt.b,e.t]),e.Ib(4608,Zt.c,Zt.c,[Zt.f]),e.Ib(1073742336,f.c,f.c,[]),e.Ib(1073742336,rl.c,rl.c,[]),e.Ib(1073742336,rl.f,rl.f,[]),e.Ib(1073742336,rl.h,rl.h,[]),e.Ib(1073742336,rl.l,rl.l,[]),e.Ib(1073742336,rl.n,rl.n,[]),e.Ib(1073742336,M.D,M.D,[]),e.Ib(1073742336,M.m,M.m,[]),e.Ib(1073742336,rl.t,rl.t,[]),e.Ib(1073742336,rl.z,rl.z,[]),e.Ib(1073742336,rl.F,rl.F,[]),e.Ib(1073742336,rl.K,rl.K,[]),e.Ib(1073742336,rl.N,rl.N,[]),e.Ib(1073742336,rl.Q,rl.Q,[]),e.Ib(1073742336,rl.T,rl.T,[]),e.Ib(1073742336,rl.Y,rl.Y,[]),e.Ib(1073742336,rl.db,rl.db,[]),e.Ib(1073742336,rl.gb,rl.gb,[]),e.Ib(1073742336,rl.jb,rl.jb,[]),e.Ib(1073742336,rl.kb,rl.kb,[]),e.Ib(1073742336,rl.G,rl.G,[]),e.Ib(1073742336,M.z,M.z,[]),e.Ib(1073742336,d.i,d.i,[]),e.Ib(1073742336,G.a,G.a,[]),e.Ib(1073742336,Yl.g,Yl.g,[]),e.Ib(1073742336,Q.b,Q.b,[]),e.Ib(1073742336,ql.b,ql.b,[]),e.Ib(1073742336,Jl.g,Jl.g,[]),e.Ib(1073742336,Fl.n,Fl.n,[[2,Fl.f],[2,jl.f]]),e.Ib(1073742336,zt.j,zt.j,[]),e.Ib(1073742336,Fl.z,Fl.z,[]),e.Ib(1073742336,Fl.p,Fl.p,[]),e.Ib(1073742336,Jt.d,Jt.d,[]),e.Ib(1073742336,Vl.e,Vl.e,[]),e.Ib(1073742336,$l.c,$l.c,[]),e.Ib(1073742336,Wl.b,Wl.b,[]),e.Ib(1073742336,Fl.x,Fl.x,[]),e.Ib(1073742336,ln.c,ln.c,[]),e.Ib(1073742336,R.a,R.a,[]),e.Ib(1073742336,qt.i,qt.i,[]),e.Ib(1073742336,Fl.v,Fl.v,[]),e.Ib(1073742336,Fl.s,Fl.s,[]),e.Ib(1073742336,zl.e,zl.e,[]),e.Ib(1073742336,Ql.c,Ql.c,[]),e.Ib(1073742336,tn.d,tn.d,[]),e.Ib(1073742336,tn.c,tn.c,[]),e.Ib(1073742336,k.d,k.d,[]),e.Ib(1073742336,k.c,k.c,[]),e.Ib(1073742336,Fl.o,Fl.o,[]),e.Ib(1073742336,nn.a,nn.a,[]),e.Ib(1073742336,I.c,I.c,[]),e.Ib(1073742336,en.a,en.a,[]),e.Ib(1073742336,Wt.d,Wt.d,[]),e.Ib(1073742336,B.p,B.p,[]),e.Ib(1073742336,F.l,F.l,[]),e.Ib(1073742336,an.c,an.c,[]),e.Ib(1073742336,on.a,on.a,[]),e.Ib(1073742336,rn.u,rn.u,[[2,rn.A],[2,rn.r]]),e.Ib(1073742336,un.c,un.c,[]),e.Ib(1073742336,sn.a,sn.a,[]),e.Ib(1073742336,cn.a,cn.a,[]),e.Ib(1073742336,bn.a,bn.a,[]),e.Ib(1073742336,pn.a,pn.a,[]),e.Ib(1073742336,$t.e,$t.e,[]),e.Ib(1073742336,jt.d,jt.d,[]),e.Ib(1073742336,Yt.e,Yt.e,[]),e.Ib(1073742336,mn.a,mn.a,[]),e.Ib(1073742336,Xt.c,Xt.c,[]),e.Ib(1073742336,Xt.b,Xt.b,[]),e.Ib(1073742336,hn.a,hn.a,[]),e.Ib(1073742336,dn.e,dn.e,[]),e.Ib(1073742336,yn.a,yn.a,[]),e.Ib(1073742336,fn.a,fn.a,[]),e.Ib(1073742336,Zt.e,Zt.e,[]),e.Ib(1073742336,Zt.d,Zt.d,[]),e.Ib(1073742336,a,a,[]),e.Ib(256,Fl.g,Fl.k,[]),e.Ib(256,Zt.p,"XSRF-TOKEN",[]),e.Ib(256,Zt.q,"X-XSRF-TOKEN",[]),e.Ib(1024,rn.n,(function(){return[[{path:"transactions-kpis",component:xl},{path:"campaign-kpis",component:pt},{path:"revenue-report",component:It},{path:"transactions-report",component:Dt}]]}),[])])}))}}]);